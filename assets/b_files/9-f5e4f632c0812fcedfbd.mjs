(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[9],{"2NiC":function(e,t,n){var r=n("/MKj"),o=n("7w6Q"),i=n("RNo4");const s="http://play.google.com/store/apps/details?id=com.pinterest",l=["access_token","new_password","new_password_confirm","password","next"],a=(e,t)=>t?Object(i.b)(e,{invite_code:t}):e,c=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e?a(e,n):"ios"===t||"ipad"===t?a(e.iOS,n):"android"===t?a(e.android,n):null};var d=({deeplinkUri:e,fallbackUrl:t,invite_code:n,platform:r,redirectToLite:a,unauthId:d,userAgent:u})=>{if(e){const p=(({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:r,unauthId:o})=>({deeplink_path:c(e,n,t),current_page_url:Object(i.l)("undefined"!=typeof window?window.location.href:"",l),install_id:o,utm_source:140,utm_medium:2152,...r?{af_r:r}:null}))({deeplinkUri:e,fallbackUrl:t,invite_code:n,platform:r,unauthId:d,userAgent:u});if(o.a.increment("mweb.deeplink",1,{platform:r}),n&&o.a.increment("mweb.deeplink.invite_code",1),o.a.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(d)}),a){o.a.increment("mweb.deeplink.lite_link",1);const e=(({unauthId:e})=>{const t=Object(i.c)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:d});window.location.href=Object(i.b)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===r){const t=(({deeplinkUri:e,invite_code:t,platform:n,unauthId:r})=>{const o=JSON.stringify({deeplink_path:c(e,n,t),current_page_url:Object(i.l)("undefined"!=typeof window?window.location.href:"",l),install_id:r});return{referrer:Object(i.c)({utm_source:"mweb",utm_medium:"upsell",utm_content:o})}})({deeplinkUri:e,invite_code:n,platform:r,unauthId:d});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then(e=>{if(e.length>0){const e=Object(i.b)(window.location.href,p);window.open(e)}else window.location.href=Object(i.b)(s,t)}).catch(o.a.increment("mweb_android.deeplink.playStore.error",1)):window.location.href=Object(i.b)(s,t)}else o.a.increment("mweb.deeplink.appsflyer_link",1),window.location.href=Object(i.b)("https://pinterest.onelink.me/TVSr/21e04bfd",p)}},u=n("QtD7"),p=n("fsjD"),f=n("eQwl"),h=n("nKUr");function b({children:e,invite_code:t,redirectToLite:n}){const{userAgentPlatform:o,unauthId:i,userAgent:s,country:l,locale:a}=Object(r.useSelector)(({session:e})=>e),c=Object(r.useDispatch)(),p=n||Object(f.e)({country:l,locale:a,platform:o,userAgent:s,activateLiteAppExp:()=>c(Object(u.a)("mweb_targeted_lite_app_upsell"))});return e(async(e,n)=>{d({deeplinkUri:e,fallbackUrl:n,invite_code:t,platform:o,redirectToLite:p,unauthId:i,userAgent:s})})}const m=e=>Object(h.jsx)(p.a,{children:t=>Object(h.jsx)(b,{...e,invite_code:t})});m.displayName="DeepLinkNavigator";t.a=m},NymR:function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return c}));const r=36e5,o=24*r,i=7*o,s=365*o;function l(e){const t=Math.floor(e/6e4),n=Number((e%6e4/1e3).toFixed(0));return t+":"+(n<10?"0":"")+n}function a(e,t,n){let r=t;return"tl-PH"===t&&(r="fil-PH"),e.toLocaleTimeString(r,n)}function c(e,t,n){let r=t;return"tl-PH"===t&&(r="fil-PH"),e.toLocaleDateString(r,n)}},T0FN:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n("q1tI"),o=n("wMN6");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=20;class l extends r.Component{constructor(...e){super(...e),i(this,"state",{isHidden:!!this.props.appUpsellFooterConfig}),i(this,"lastScrollPos",0),i(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),i(this,"handleScroll",Object(o.o)(()=>{const{appUpsellFooterConfig:e,isModal:t,onScroll:n}=this.props,{isHidden:r}=this.state,o=window.scrollY,i=o-this.lastScrollPos,l=t?0:55;if(e)if(i>s&&r&&o>=500){e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),n&&n(!1))}else(i<-s&&!r||o<=l)&&(this.updateHiddenState(!0),n&&n(!0));else i<-s&&r||o<=l?(this.updateHiddenState(!1),n&&n(!1)):i>s&&!r&&(this.updateHiddenState(!0),n&&n(!0));this.lastScrollPos=o},30))}componentDidMount(){try{this.props.hideOnScroll&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){this.props.hideOnScroll&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll?window.addEventListener("scroll",this.handleScroll):e.hideOnScroll&&!this.props.hideOnScroll&&window.removeEventListener("scroll",this.handleScroll)}render(){const{children:e}=this.props,{isHidden:t}=this.state;return e({isHidden:t,updateHiddenState:this.updateHiddenState})}}},eQwl:function(e,t,n){n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return w})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return j}));var r=n("wMN6"),o=n("vtuW"),i=n("TXO6"),s=n("NymR"),l=n("PmFr"),a=n("0G5S"),c=n("JJAz");const d=["BR","MX","AR","CL","CO","PE","IN"],u=Object.freeze({ANDROID_LITE_APP:"android_lite_app",FLAGSHIP_APP:"flagship_app"}),p=Object.freeze({VIEW_COUNT:"appUpsellViewCount",OPEN_APP_CLICKED:"appUpsellOpenAppClick"}),f=14*s.a;function h(e,t,n){return e-t>n}function b(){const e=Number(Object(a.a)(p.OPEN_APP_CLICKED,0));Object(a.c)(p.OPEN_APP_CLICKED,e+1)}const m=Object(r.c)(()=>{const e=Number(Object(a.a)(p.VIEW_COUNT,0));Object(a.c)(p.VIEW_COUNT,e+1)},200);const O=e=>{const t=function(){const e=Date.now(),t=Number(Object(a.a)("appUpsell"));return{currentTime:e,firstUpsellTime:Number(Object(a.a)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean(Object(o.a)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,n){const{currentTime:r,firstUpsellTime:o,lastUpsellTime:i,showedAppUpsellCurrentSession:s}=e;return n=n||f,!o||function(e,t,n){return e<t+n}(r,o,t)?!s:!!h(r,i,n)&&(Object(a.b)("firstUpsellTime"),!0)}(t,s.a):function(e,t){const{currentTime:n,lastUpsellTime:r}=e;return t=t||f,!r||h(n,r,t)}(t)},w=({country:e,platform:t,userAgent:n,upsellLiteAppExp:r,activateLiteAppExp:o})=>{try{return"android"===t&&(parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(n))<4.4||d.includes(e)&&0===Object(a.a)(p.OPEN_APP_CLICKED,0)&&Object(a.a)(p.VIEW_COUNT,0)>5&&Object(a.a)(p.VIEW_COUNT,0)<=8&&((o&&o()||"").startsWith("enabled")||!!r))}catch(i){return!1}},g=({country:e,currentUser:t,external:n=!1,isAppUpsellDisabled:r=!1,isAuthenticated:s,isMoveAppUpsellFromSaveToCloseupEnabledAndActivate:a,refresh:d=!1,locale:p="",platform:f,userAgent:h,activateLiteAppExp:b})=>{if(r||"undefined"!=typeof window&&Object(c.a)(window)&&Object(c.c)(window))return"";const m=!(Object(o.a)("openUnauthType")===l.m)&&!n&&!d&&s&&O(Object(i.d)(t));return m&&w({country:e,platform:f,userAgent:h,activateLiteAppExp:b})?u.ANDROID_LITE_APP:(p||"").startsWith("ar")&&"ios"===f?"":m?u.FLAGSHIP_APP:""},j=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},fsjD:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));var r=n("1dBE");const{Provider:o,Consumer:i,useHook:s}=Object(r.b)("inviteContext")},"r8+8":function(e,t,n){n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return g}));var r=n("q1tI"),o=n("2NiC"),i=n("AGnR"),s=n("yweb"),l=n("n6mq"),a=n("nKUr");class c extends r.PureComponent{constructor(...e){var t,n,r;super(...e),r=e=>{Object(i.h)({view_type:156,view_parameter:3106,component:13452}),e("user/me")},(n="handleInstallButtonClick")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}render(){return Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)(l.f,{children:[Object(a.jsxs)(l.f,{alignItems:"center",direction:"row",display:"flex",marginBottom:2,children:[Object(a.jsx)(l.f,{children:Object(a.jsx)(l.v,{color:"red",icon:"pinterest",accessibilityLabel:this.props.i18n._("Pinterest App","Accessibility label for Pinterest App Icon on app upsell.","Accessibility label for Pinterest App Icon on app upsell."),size:48})}),Object(a.jsxs)(l.f,{paddingX:3,paddingY:0,children:[Object(a.jsx)(l.cb,{weight:"bold",children:this.props.i18n._("Unlock business tools","App upsell header for businesses","App upsell header for businesses")}),Object(a.jsx)(l.cb,{overflow:"normal",children:this.props.i18n._("Get the free Pinterest app","App upsell subheader for businesses","App upsell subheader for businesses")})]})]}),Object(a.jsx)(o.a,{children:e=>Object(a.jsx)(l.g,{color:"red",type:"submit",text:this.props.i18n._("Install","Text on install button for app upsell for businesses","Text on install button for app upsell for businesses"),onClick:()=>this.handleInstallButtonClick(e),accessibilityLabel:this.props.i18n._("Download the Pinterest App","Accessibility label for install app button on app upsell.","Accessibility label for install app button on app upsell.")})})]})})}}function d(e){const t=Object(s.c)();return Object(a.jsx)(c,{...e,i18n:t})}var u=n("D2p8"),p=n("eyT9"),f=n("T0FN");const h=64,b=3,m="0px 0px 8px rgba(0, 0, 0, 0.1)";function O({children:e,footerConfig:t,headerConfig:n,height:o,hideOnScroll:i,hideOnScrollState:{isHidden:s,updateHiddenState:c},noPadding:f,paddingY:O=b,type:w,zIndex:g}){const{headerLimitedOverflow:j,ignoreObstructions:_,zIndexForGestaltBug:v}=n||{},{appUpsellFooterConfig:S,footerInLego:A,footerWidth:x,showBusinessAppUpsell:y}=t||{},I=!!S,C="header"===w?"top":"bottom",U=Object(r.useRef)(null),T=Object(r.useRef)(null);Object(r.useEffect)(()=>{try{if(!_){const e=U.current;T.current=j&&e&&Array.isArray(e.children)?e.children[0]:e,T.current instanceof HTMLElement&&u.c.addObstruction(C,T.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{_||T.current instanceof HTMLElement&&u.c.removeObstruction(C,T.current)}},[_,j,C]);const L="top"===C?"relative":"fixed",P=f?0:O,E=(null!=o?o:h)+((null==n?void 0:n.overrideTop)||0),k=i?{transition:A?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...s?{transform:`translateY(${"top"===C?-E:E}px)`,opacity:A?0:1}:Object.freeze({})}:{},N=y,B="relative"!==L||null!=n&&n.noGutter?0:2,H=B?-B:0;return Object(a.jsxs)(l.f,{ref:U,dangerouslySetInlineStyle:{__style:{...!g||v?{zIndex:v||1}:Object.freeze({}),...j?{background:"transparent",overflow:"hidden",paddingBottom:500,marginBottom:-500,pointerEvents:"none"}:Object.freeze({}),...null!=n&&n.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...Object(p.e)()?"header"===w?{top:-1}:{bottom:-1}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...N?Object.freeze({}):k}},zIndex:v?void 0:g,"data-test-id":w,display:I?"flex":void 0,height:o&&!A?y?"auto":o:void 0,position:L,bottom:"footer"===w,top:"header"===w,left:!0,right:!0,marginStart:A?"auto":H,marginEnd:A?"auto":H,onTransitionEnd:()=>{i&&T.current&&(s?u.c.removeObstruction(C,T.current):u.c.addObstruction(C,T.current))},width:A?void 0:"fixed"===L?"100%":void 0,children:[A&&y&&Object(a.jsx)(l.f,{marginBottom:i&&s?0:2,color:"white",rounding:4,padding:4,width:320,marginEnd:"auto",marginStart:"auto",dangerouslySetInlineStyle:{__style:{boxShadow:A?m:void 0}},children:Object(a.jsx)(d,{})}),Object(a.jsx)(l.f,{dangerouslySetInlineStyle:{__style:{backgroundColor:(Object(p.e)()?"#000":(null==n?void 0:n.isTranslucent)&&"rgba(255,255,255,.95)")||(null==n?void 0:n.isTransparentBackground)&&"transparent"||"white",height:A?I?void 0:null!=o?o:h:"100%",boxShadow:A?m:void 0,marginBottom:A?16:void 0,...j?{pointerEvents:"auto"}:Object.freeze({}),...N?k:Object.freeze({}),...null!=n&&n.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==w||f?0:4)+B,paddingY:P,position:"relative",width:A&&x?x:I?void 0:"100%",rounding:A?"pill":void 0,display:A||null!=t&&t.alignCenter?"flex":void 0,marginStart:A?"auto":void 0,marginEnd:A?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:c}):e})]})}function w({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:r,isTransparentBackground:o,noGutter:i,overrideTop:s,useRoundedCorners:c,zIndexForGestaltBug:d,...u}){const{noPadding:p,paddingY:h=b,zIndex:m}=u,w=p?0:h;return Object(a.jsx)(l.W,{top:s||0,height:t?44+2*w*4:void 0,zIndex:m||void 0,children:Object(a.jsx)(f.b,{hideOnScroll:u.hideOnScroll,children:l=>Object(a.jsx)(O,{...u,hideOnScrollState:l,type:"header",headerConfig:{isTranslucent:r,isTransparentBackground:o,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:i,overrideTop:s,zIndexForGestaltBug:d,useRoundedCorners:c}})})})}function g({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:r,hasTopShadow:o,isModal:i,onScroll:s,showBusinessAppUpsell:l,...c}){return Object(a.jsx)(f.b,{appUpsellFooterConfig:t,hideOnScroll:c.hideOnScroll,isModal:i,onScroll:s,children:i=>Object(a.jsx)(O,{...c,hideOnScrollState:i,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:r,hasTopShadow:o,showBusinessAppUpsell:l}})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/9-f5e4f632c0812fcedfbd.mjs.map