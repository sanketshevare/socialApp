(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[22],{"+Cth":function(e,t){e.exports="https://s.pinimg.com/webapp/HU@2x-1705acdc.png"},"+SB1":function(e,t){e.exports="https://s.pinimg.com/webapp/NN@2x-f061e9b4.png"},"/A17":function(e,t,n){var i=n("q1tI"),o=n("n6mq"),r=n("wMN6"),a=n("nKUr");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{constructor(...e){super(...e),s(this,"onScroll",Object(r.o)(e=>{if(this.anchorElement){const e=this.anchorElement.offsetTop+this.anchorElement.offsetHeight;window.scrollY>e&&!this.hasExited?(this.hasExited=!0,this.props.onExit()):window.scrollY<=e&&this.hasExited&&(this.hasExited=!1,this.props.onEnter())}},this.props.throttleTime||100)),s(this,"hasExited",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){const{children:e}=this.props;return Object(a.jsx)(o.f,{ref:e=>{this.anchorElement=e},children:e})}}t.a=c},"/wSi":function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return x}));const i=e=>["feed_card_default","feed_card_video"].includes(e),o=2/3;const{LEFT:r,CENTER:a,RIGHT:s}={LEFT:0,CENTER:1,RIGHT:2},c={[r]:"start",[a]:"center",[s]:"end"},{SMALL:l,MEDIUM:d,LARGE:p}={SMALL:0,MEDIUM:1,LARGE:2},u={web:{[l]:"16",[d]:"20",[p]:"24"},mweb:{[l]:"12",[d]:"16",[p]:"18"}},{ITALICS:h,NORMAL:b}={NORMAL:0,ITALICS:1},m={[h]:"italics",[b]:"normal"},{BOLD:j,NORMAL:f}={NORMAL:0,BOLD:1},g={[j]:"bold",[f]:"normal"},x=({color:e,font_style:t,font_weight:n,horizontal_alignment:i,size:o},r)=>({color:e,fontStyle:m[null!=t?t:0],fontWeight:g[null!=n?n:1],horizontalAlignment:c[null!=i?i:0],fontSize:u[r][null!=o?o:0]+"px"})},"0BYx":function(e,t){e.exports="https://s.pinimg.com/webapp/arSA@2x-1bf8e802.png"},"0DNT":function(e,t){e.exports="https://s.pinimg.com/webapp/ML@2x-8998d852.png"},"1Qfp":function(e,t,n){var i=n("q1tI");t.a=()=>{const[e,t]=Object(i.useState)(!1);return Object(i.useEffect)(()=>{t(!0)},[]),e}},"1eJw":function(e,t){e.exports="https://s.pinimg.com/webapp/KO@2x-c909bac5.png"},"1lhQ":function(e,t){e.exports="https://s.pinimg.com/webapp/FR@2x-62177ec4.png"},"1n73":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n("1dBE");const{Provider:o,useHook:r}=Object(i.c)("ContextLogger")},"1qjX":function(e,t){e.exports="https://s.pinimg.com/webapp/CS@2x-ecc1d35a.png"},"1vus":function(e,t){e.exports="https://s.pinimg.com/webapp/zhTW@2x-af9e1419.png"},"24BL":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("g6r8"),o=n("QAzJ"),r=n("pLLR"),a=n("EC67");function s(){const e=Object(i.a)(),t=Object(a.k)(),{isAuthenticated:n}=Object(r.d)(),s=Object(o.b)("mweb_seo_full_funnel_pin_page_unification"),c=!n&&"desktop"===e&&"/pin/:id"===t.path?s():null;return{anyEnabled:(null==c?void 0:c.anyEnabled)||!1,group:(null==c?void 0:c.group)||""}}},"2A+z":function(e,t,n){var i=n("/MKj"),o=n("FDmi"),r=n("NwG/"),a=n("Lr1Z"),s=n("yweb"),c=n("S1na"),l=n("qpbZ"),d=n("n6mq"),p=n("pLLR"),u=n("nKUr");var h=({followerCount:e})=>{const t=Object(s.c)(),n=Object(c.a)(),{locale:i}=Object(p.d)();return Object(u.jsx)(d.cb,{children:Object(l.b)(t.ngettext("{{followers}} follower","{{followers}} followers",e,"pinPage.attribution.followersCount","Count of a user's followers"),{followers:n(i,e,{shortform:!0,shortform_maximum_fraction_digits:0})})})},b=n("XBgn"),m=n("AGnR"),j=n("28DW"),f=n("5SBu");t.a=Object(i.connect)((e,t)=>({user:e.users[t.userId]||t.userBlob,viewingUserId:e.session.userId,isAuthenticated:e.session.isAuthenticated}),e=>({followUser:(t,n)=>e(Object(f.g)(t,n)),unfollowUser:(t,n)=>e(Object(f.k)(t,n)),unblockUser:t=>e(Object(f.j)(t))}))(e=>{const t=Object(s.c)(),{avatarSize:n,detailText:i,followUser:c,hideButtons:l,isAuthenticated:p,isCurrentUser:f,isOnCloseup:g,isImagePinForUnauthOnTablet:x,pinId:O,shouldNavigateToProfile:y=!0,textColor:w,type:v,unblockUser:_,unfollowUser:S,user:T,userBlob:k,viewParameter:I,viewType:P,viewingUserId:C}=e;if(!T)return null;const{blocked_by_me:E,explicitly_followed_by_me:A,follower_count:L,full_name:F,id:D,image_large_url:B,image_medium_url:M,image_small_url:R,is_verified_merchant:N,verified_identity:z,username:H}=T,U=(O&&O.length,()=>Object(u.jsx)(r.a,{disableLog:!0,followEventType:45,id:D,isFollowed:A||!1,isSecondaryButton:!0,isUserMe:C===D,onFollow:()=>g?(c(D,T),void Object(m.e)({event_type:45,view_type:3,view_parameter:156,view_data:{isCurrentUser:f,viewObjectId:O,viewObjectIdStr:O},object_id_str:D})):c(D,T),onUnfollow:()=>g?(S(D,T),void Object(m.e)({event_type:46,view_type:3,view_parameter:156,object_id_str:D})):S(D,T),size:"md",unfollowEventType:46,viewParameter:I,viewType:P})),W=()=>E?Object(u.jsx)(d.g,{color:"gray",onClick:()=>_(D),size:"md",text:t._("Unblock")}):p?U():null,G=N||(null==k?void 0:k.is_verified_merchant),q=L||(null==k?void 0:k.follower_count),V=e=>Object(u.jsx)(o.a,{name:null!=F?F:"",size:(e||{}).size,src:B||M||R||void 0}),Y=x?"calc(100% - 48px)":void 0,K=G||(null==z?void 0:z.verified),X=Object(u.jsxs)(d.f,{alignItems:"center",display:"flex",flex:"shrink",children:[Object(u.jsx)(d.f,{flex:"none",marginEnd:2,children:V({size:n||"md"})}),Object(u.jsxs)(d.f,{display:"flex",maxWidth:Y,direction:"column",children:[Object(u.jsxs)(d.f,{display:"flex",children:[Object(u.jsx)(d.cb,{color:w||"darkGray",truncate:x,weight:"bold",children:F}),K&&Object(u.jsx)(d.f,{marginStart:1,paddingY:1,children:Object(u.jsx)(b.a,{showVerifiedIdentity:!G,size:"sm"})})]}),Object(u.jsx)(d.cb,{color:w||"darkGray",truncate:x,children:i}),!!q&&Object(u.jsx)(h,{followerCount:q})]})]}),$="row"===v?Object(u.jsxs)(d.f,{alignItems:"center",display:"flex",justifyContent:"between",children:[X,!l&&Object(u.jsx)(d.f,{flex:"none",marginStart:2,children:W()})]}):Object(u.jsxs)(d.f,{maxWidth:Y,padding:2,children:[V(),Object(u.jsxs)(d.f,{display:"flex",paddingY:2,children:[Object(u.jsx)(d.cb,{align:"center",size:"md",truncate:!0,weight:"bold",children:F}),K&&Object(u.jsx)(d.f,{marginStart:1,paddingY:1,children:Object(u.jsx)(b.a,{showVerifiedIdentity:!G,size:"sm"})})]}),!l&&W()]}),Q=Object(u.jsxs)(d.f,{alignItems:"center",display:"flex",justifyContent:"between",overflow:"hidden",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[Object(u.jsx)(a.a,{onTouch:e=>{p||Object(j.g)("click_pin_closeup_profile")},pressState:["compress","background"],rounding:2,to:`/${encodeURIComponent(H)}/`,children:X}),!l&&Object(u.jsx)(d.f,{flex:"none",marginStart:2,children:W()})]});return Object(u.jsx)(d.f,{"data-test-id":"user-rep",width:"100%",children:y?Q:$})})},"36IV":function(e,t){e.exports="https://s.pinimg.com/webapp/PL@2x-7b44a0ea.png"},"3frB":function(e,t){e.exports="https://s.pinimg.com/webapp/FI@2x-47fa27f7.png"},"3oiX":function(e,t){e.exports="https://s.pinimg.com/webapp/SV@2x-61ea661d.png"},"44UH":function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n("/MKj"),o=n("QAzJ");const r=e=>{const t=Object(i.useSelector)(({feeds:e})=>e.homefeed),n=Array.isArray(t)&&t.length>0&&"story"===t[0].type,r=Object(o.b)("mweb_save_on_grid");return!n&&[503040].includes(e)&&r().anyEnabled},a="mweb_curation_save_behavior"},"49eA":function(e,t){e.exports="https://s.pinimg.com/webapp/TR@2x-ec2d7ab5.png"},"56W2":function(e,t,n){(function(t){var n;n=void 0!==t?t:this,e.exports=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),i=n.length,o=-1,r="",a=n.charCodeAt(0);++o<i;)0!=(t=n.charCodeAt(o))?r+=t>=1&&t<=31||127==t||0==o&&t>=48&&t<=57||1==o&&t>=48&&t<=57&&45==a?"\\"+t.toString(16)+" ":0==o&&1==i&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+n.charAt(o):n.charAt(o):r+="�";return r};return e.CSS||(e.CSS={}),e.CSS.escape=t,t}(n)}).call(this,n("yLpj"))},"58qM":function(e,t){e.exports="https://s.pinimg.com/webapp/MS@2x-58f3c917.png"},"5iIm":function(e,t){e.exports="https://s.pinimg.com/webapp/ML@2x-e7a6773b.png"},"5yc8":function(e,t){e.exports="https://s.pinimg.com/webapp/RU@2x-7e4486d9.png"},"6CnQ":function(e,t,n){function i(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}function o(e){return{type:"SET_AUTOPLAY_ELIGIBILITY",payload:{isAutoplayEligible:e}}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}))},"6lKZ":function(e,t,n){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}},r=e=>{if(e.isHidden){const{reason:t}=e;o.onPauseListeners.forEach(e=>e(t))}else o.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>r({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>r({isHidden:!1})),window.addEventListener("blur",()=>r({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>r({isHidden:!1})),window.addEventListener("pagehide",()=>r({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>r(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>r(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0),t.a=o},"8W6c":function(e,t,n){t.a=e=>{switch(e.action){case"PUSH":case"REPLACE":return"click";case"POP":return e.location.key?"click":"deeplink";default:return null}}},"8sPw":function(e,t){e.exports="https://s.pinimg.com/webapp/HI@2x-e55c64e4.png"},"8zEK":function(e,t,n){function i(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_720P:null}n.d(t,"a",(function(){return i}))},"9+B8":function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var i=n("jUT+");const o=e=>({type:i.Z,payload:e}),r=e=>({type:i.ab,payload:e})},"9S0N":function(e,t){e.exports="https://s.pinimg.com/webapp/CS@2x-488e8cc6.png"},"9hhy":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("vtuW");const o="business.referral.referral_code",r="business.referral.offer_status";const a="claimed",s={setData:({referralCode:e})=>{Object(i.c)(o,e)},getData:()=>Object(i.a)(o),setSenderOfferClaimed:()=>{Object(i.c)(r,a)},resetStatus:()=>{Object(i.b)(o)},shouldClaimReferral:()=>null!==Object(i.a)(o)&&Object(i.a)(r)!==a}},AMDu:function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("q1tI"),o=n("/MKj"),r=n("FDmi"),a=n("kEen"),s=n("eyT9"),c=n("t84P"),l=n("AGnR"),d=n("n6mq"),p=n("nKUr");const u={content:{marginBottom:"1px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"},priceIndentifier:{backgroundColor:Object(s.e)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:Object(s.e)()?"#fff":"#111",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"}};function h({productPin:e,showPricePill:t}){const[n,o]=Object(i.useState)(void 0),r=e=>{if(e){const t=e.offsetWidth;o(t)}};if(!n)return Object(p.jsx)("div",{style:{paddingBottom:"100%",width:"100%"},ref:r});const{grid_title:a,images:{"236x":{height:s,width:c,url:l}={}}={},rich_summary:h}=e,b=h&&h.products&&h.products[0],m=b&&b.offer_summary&&b.offer_summary.price;return Object(p.jsxs)(d.C,{wash:!0,height:n,width:"100%",children:[Object(p.jsx)(d.x,{alt:null!=a?a:"",fit:"cover",naturalHeight:s,naturalWidth:c,src:l}),t&&m&&Object(p.jsx)(d.f,{margin:1,paddingY:1,paddingX:1,top:!0,left:!0,position:"absolute",children:Object(p.jsx)(d.cb,{children:Object(p.jsx)(d.f,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:u.priceIndentifier},children:m})})})]})}function b({dangerouslySetActionUrl:e,slotIndex:t,story:n,viewType:s,viewParameter:b}){const{action:m,objects:j,story_type:f,subtitle:g,title:x}=n,{url:O}=m,y=m.text||x.format,w=Object(o.useSelector)(({pins:e})=>j.reduce((t,n)=>("pin"===n.schema&&t.push(e[n.id]),t),[])),v=g?3:1;let _,S;if(["related_domain_collage","shop_brand_story"].includes(f)){const e=m.user;_=e&&(e.image_medium_url||e.image_large_url),S=e&&e.full_name}const T=Object(p.jsxs)(d.f,{overflow:"hidden",children:[Object(p.jsx)(d.f,{dangerouslySetInlineStyle:{__style:u.content},children:Object(p.jsx)(h,{productPin:w[0],showPricePill:!0})}),Object(p.jsxs)(d.f,{display:"flex",justifyContent:"between",dangerouslySetInlineStyle:{__style:u.content},children:[Object(p.jsx)(d.f,{width:"calc(50% - 0.5px)",children:Object(p.jsx)(h,{productPin:w[1],showPricePill:"product_category"!==f})}),Object(p.jsx)(d.f,{width:"calc(50% - 0.5px)",children:Object(p.jsx)(h,{productPin:w[2],showPricePill:"product_category"!==f})})]})]}),k=Object(p.jsxs)(i.Fragment,{children:[Object(p.jsx)(d.f,{color:"product_category"!==f?"lightGray":void 0,display:"flex",paddingX:1,alignItems:"center",justifyContent:"center",paddingY:v,children:Object(p.jsxs)(d.f,{justifyContent:"center",alignContent:"start",display:"flex",direction:"column",margin:2,children:[g?Object(p.jsx)(d.f,{marginBottom:1,children:Object(p.jsx)(d.cb,{align:"center",color:"gray",size:"md",children:g.format})}):null,Object(p.jsx)(d.cb,{align:"center",weight:"bold",children:y})]})}),S&&_&&Object(p.jsx)(d.f,{position:"absolute",left:!0,top:!0,margin:3,children:Object(p.jsx)(r.a,{name:S,size:"lg",src:_,outline:!0})})]});return Object(p.jsx)(c.e,{auxData:{story_type:f,story_id:n.id},component:200,loggingId:n.id,objectIdStr:n.id,slotIndex:t,viewParameter:b,viewType:s,children:Object(p.jsx)(d.f,{padding:2,width:"100%",children:Object(p.jsx)(a.a,{to:e||O,onTouch:()=>Object(l.h)({element:372,component:200,object_id_str:n.id,view_type:s,view_parameter:b,aux_data:{story_type:f,story_id:n.id}}),children:"product_category"===f?Object(p.jsxs)(i.Fragment,{children:[Object(p.jsx)(d.C,{rounding:2,children:T}),k]}):Object(p.jsxs)(d.C,{rounding:2,children:[T,k]})})})})}},AQTh:function(e,t){e.exports="https://s.pinimg.com/webapp/NN@2x-c4b8da55.png"},"Aad/":function(e,t){e.exports="https://s.pinimg.com/webapp/arSA@2x-024c511e.png"},BVk3:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("/MKj"),o=n("EC67"),r=n("0HhX"),a=n("nKUr");function s({children:e,name:t,noCache:n,options:s,selector:c,schema:l}){const{hasError:d,errorRedirect:p,...u}=Object(r.a)({name:t,options:s,schema:l,noCache:n}),h=Object(i.useSelector)(c||(()=>{}));return p?Object(a.jsx)(o.b,{to:p}):e({...u,selected:h})}},CXMf:function(e,t){e.exports="https://s.pinimg.com/webapp/TL@2x-3af02ef3.png"},CYge:function(e,t,n){n.d(t,"a",(function(){return Z})),n.d(t,"c",(function(){return J})),n.d(t,"b",(function(){return ee})),n.d(t,"d",(function(){return te}));var i=n("q1tI"),o=n("/MKj"),r=n("ffDT"),a=n("kerF");var s=e=>{const t=e.split("/");return 4===t.length?"pin"===t[1]&&""===t[3]:3===t.length&&("pin"===t[1]&&""!==t[2])},c=n("HuSE"),l=n("MSUY"),d=n("yweb"),p=n("n6mq"),u=n("nKUr");var h=({showLabel:e=!1,color:t="gray",viewType:n})=>{const i=Object(d.c)();return Object(u.jsx)(p.f,{rounding:3,flex:"grow",children:Object(u.jsxs)(p.f,{display:"flex",justifyContent:"center",position:"relative",direction:"column",children:[Object(u.jsx)(p.f,{display:"flex",justifyContent:"center",padding:1,children:Object(u.jsx)(l.b,{elementType:249,iconButtonColor:"gray",iconButtonSize:"xl",viewType:n})}),e&&Object(u.jsx)(p.f,{bottom:!0,dangerouslySetInlineStyle:{__style:{WebkitUserSelect:"none"}},children:Object(u.jsx)(p.cb,{align:"center",size:"sm",truncate:!0,color:t,children:i._("Create","nav.navFooterAdd.createPinButton","Create pin button on the Nav bar")})})]})})},b=n("FDmi"),m=n("Lr1Z"),j=n("U1vm");var f=Object(i.memo)(({height:e=18,width:t=18,text:n})=>Object(u.jsx)(p.f,{alignItems:"center",color:"red",display:"flex",height:e,justifyContent:"center",rounding:"pill",width:t,children:n&&Object(u.jsx)(p.cb,{align:"center",color:"white",size:"sm",weight:"bold",children:n})}));const g={zIndex:1,position:"relative"};function x({accessibilityLabel:e,avatarSrc:t,badge:n,badgeMargins:o,color:r,flyoutText:a,icon:s,onTouch:c,showFlyout:l,showFlyoutButton:h,showLabel:x,svgPath:O,title:y,to:w}){const v=Object(d.c)(),[_,S]=Object(i.useState)(!1),T=Object(i.useRef)();return Object(u.jsx)(p.f,{dangerouslySetInlineStyle:{__style:_?g:{}},flex:"grow",children:Object(u.jsx)(m.a,{onBlur:()=>S(!1),onFocus:()=>S(!0),onTouch:c,pressState:"compress",rounding:x?4:6,to:w,children:Object(u.jsxs)(p.f,{display:"flex",justifyContent:"center",position:"relative",color:"transparent",direction:"column",rounding:3,children:[Object(u.jsxs)(p.f,{position:"relative",display:"flex",justifyContent:"center",children:[Object(u.jsx)(p.f,{padding:2,ref:T,children:t?Object(u.jsx)(p.f,{rounding:"circle",dangerouslySetInlineStyle:{__style:{boxShadow:"darkGray"===r?"0 0 0 2px black":"0 0 0 2px transparent"}},children:Object(u.jsx)(b.a,{name:e,src:t,size:"xs"})}):Object(u.jsx)(p.v,{accessibilityLabel:e,icon:s,color:r,size:24,inline:!0,dangerouslySetSvgPath:O?{__path:O}:void 0})}),n&&Object(u.jsx)(p.f,{marginStart:null==o?void 0:o.marginLeft,marginEnd:null==o?void 0:o.marginRight,marginTop:null==o?void 0:o.marginTop,marginBottom:null==o?void 0:o.marginBottom,position:"absolute",children:Object(u.jsx)(f,{...n})}),l&&Object(u.jsx)(p.L,{anchor:T.current,color:"blue",onDismiss:()=>{},showCaret:!0,size:"flexible",children:Object(u.jsxs)(p.f,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",minHeight:70,paddingX:h?4:0,paddingY:h?4:1,width:h?200:132,children:[Object(u.jsx)(p.cb,{align:"center",color:"white",children:a||v._("Explore something new","Flyout message prompting user to click on the explore icon.","unauthNavBar.explore.flyout")}),h?Object(u.jsx)(p.f,{marginTop:4,children:Object(u.jsx)(j.a,{accessibilityLabel:v._("Explore","navFooter.flyout.button","Button on flyout to upsell home icon"),color:"white",to:w,onTouch:c,shape:"pill",text:v._("Explore","navFooter.flyout.button","Button on flyout to upsell home icon")})}):null]})})]}),x&&Object(u.jsx)(p.f,{bottom:!0,dangerouslySetInlineStyle:{__style:{WebkitUserSelect:"none"}},children:Object(u.jsx)(p.cb,{align:"center",color:r,size:"sm",truncate:!0,children:y})})]})})})}var O=n("i2lo"),y=n("G5lw"),w=n("4kAQ");const v=[501227],_={badge:{width:8,height:8,text:" "},badgeMargins:{marginLeft:6,marginTop:1}},S=Object(i.memo)(({avatarSrc:e,completeExperience:t,experience:n,isActive:r,locationPath:a,onTouch:s,showLabel:c,username:l})=>{const p=Object(d.c)(),{isAuthenticated:h}=Object(o.useSelector)(({session:e})=>e),b=a.startsWith("/"+l),m=n&&v.includes(n.experience_id);Object(i.useEffect)(()=>{if(m&&b){const{experience_id:e,placement_id:i}=n||{};t(i,e)}});const j=t=>Object(u.jsx)(x,{accessibilityLabel:p._("My profile","Nav bar icon","Nav bar icon"),avatarSrc:e,color:r?"darkGray":"gray",icon:"person",onTouch:s,showLabel:c,title:p._("Saved","Saved button on the Nav bar","Saved button on the Nav bar"),to:l?`/${l}/`:h?"/":"/unauth-profile",...t});return m&&!b?Object(u.jsx)(O.a,{eligibleIds:v,experience:n,children:j(_)}):j({})});var T=Object(o.connect)(null,e=>({completeExperience:(t,n)=>e(Object(w.a)(t,n))}))(e=>Object(u.jsx)(y.a,{id:1000181,children:({experience:t})=>Object(u.jsx)(S,{experience:t,...e})})),k=n("eOdZ"),I=n("OadL");function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends i.PureComponent{constructor(...e){super(...e),P(this,"state",{newsBadgeCount:0,unreadMessageCount:0,showBadge:!1}),P(this,"clearNotificationBadge",()=>{const{isAuthenticated:e,onTouch:t}=this.props;e&&(k.a.create("NewsHubBadgeResource",{}).callDelete({showError:!1}),this.setState({newsBadgeCount:0,showBadge:!1})),t&&t()}),P(this,"getBadging",()=>{k.a.create("NewsHubBadgeResource",{}).callGet().then(({resource_response:{data:e}})=>{const t=e.news_hub_count+e.conversations_unseen_count;this.setState({newsBadgeCount:e.news_hub_count,unreadMessageCount:e.conversations_unseen_count,showBadge:t>0})})})}componentDidMount(){this.props.isAuthenticated&&this.getBadging()}render(){const{isActive:e,showLabel:t,icon:n="speech-ellipsis",onTouch:i}=this.props,{newsBadgeCount:o,unreadMessageCount:r,showBadge:a}=this.state,s=o+r,c=s>0&&s<100?s:"99+",l=c.toString().length,d={width:1===l?16:2===l?24:30,height:16,text:c},p=r>0?"/inbox/":"/notifications/";return Object(u.jsx)(x,{accessibilityLabel:this.props.i18n._("News notifications and messages","mweb.navbar.notifs_button.a11y","accessibility label for notifs icon button"),badge:a&&d||void 0,badgeMargins:{marginLeft:4},icon:n,to:p,color:e?"darkGray":"gray",onTouch:"/notifications/"===p?this.clearNotificationBadge:i,title:this.props.i18n._("Notifications","Notifications button on the Nav bar","Notifications button on the Nav bar"),showLabel:t})}}var E=Object(o.connect)((function(e){return{browserName:e.session.browser,browserVersion:e.session.browserVersion,currentUser:Object(I.i)(e),isAuthenticated:e.session.isAuthenticated}}),()=>({}))((function(e){const t=Object(d.c)();return Object(u.jsx)(C,{...e,i18n:t})})),A=n("ANjH"),L=n("SvRC"),F=n("EC67");class D extends i.PureComponent{constructor(...e){var t,n,i;super(...e),i=null,(n="leftHomeTimeOut")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidUpdate(e){const{location:t}=this.props;this.shouldRefreshHomefeed(t.pathname)?this.refreshHomefeed():this.shouldSetLeftHomeTimeout(t.pathname,e)?this.setLeftHomeTimeout():this.shouldClearLeftHomeTimeout(t.pathname)&&this.clearLeftHomeTimeout()}componentWillUnmount(){this.clearLeftHomeTimeout()}setLeftHomeTimeout(){this.leftHomeTimeOut=setTimeout(()=>{this.leftHomeTimeOut&&(this.clearLeftHomeTimeout(),this.leftHomeTimeOut=void 0)},5e3)}clearLeftHomeTimeout(){this.leftHomeTimeOut&&(clearTimeout(this.leftHomeTimeOut),this.leftHomeTimeOut=null)}refreshHomefeed(){Object(L.e)("homefeed"),this.leftHomeTimeOut=null}shouldClearLeftHomeTimeout(e){return this.leftHomeTimeOut&&"/"===e}shouldRefreshHomefeed(e){return"/"===e&&92===this.props.viewParameter&&void 0===this.leftHomeTimeOut}shouldSetLeftHomeTimeout(e,t){return null===this.leftHomeTimeOut&&"/"!==e&&"/"===t.location.pathname&&!e.startsWith("/pin/")}render(){return null}}var B=Object(A.compose)(F.l,Object(o.connect)(({currentPage:e})=>({viewParameter:e.viewParameter})))(D),M=n("SW+8"),R=n("1Qfp"),N=n("qcoM"),z=n("GPdH"),H=n("r8+8"),U=n("pE5B"),W=n("NpKs"),G=n("BGsa"),q=n("TXO6"),V=n("VuCO"),Y=n("AGnR"),K=n("QAzJ"),X=n("snfI"),$=n("2COb");function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z=52,J=160,ee=60,te=new p.n([N.a]),ne={},ie=e=>{const t=e>100?e-100:5,n=Math.max(e-t,0);window.scrollTo(0,n),n>0&&window.requestAnimationFrame(()=>ie(n))},oe=e=>"/"===e||s(e)||e.startsWith("/search/")||"/inbox/"===e||"/inbox/compose/"===e||"/notifications/"===e||e.includes("/report/"),re=e=>{switch(e){case"home":return 146;case"notifications":return 139;case"profile":return 40;case"today":return 11674;case"videos":return 11924;case"search":return 43;default:return}},ae=(e,t)=>{const n=ne[e.key];if(n)return n;const i=e.pathname;return"/"===i?"home":i.startsWith("/inbox")?"inbox":i.startsWith("/notifications")?"notifications":i.startsWith("/videos")?"videos":i.startsWith("/today")?"today":i.startsWith("/search")?"search":Object(F.g)(i,{path:`/${t}/(|pins|boards|tried)?`,exact:!0})?"profile":null};class se extends i.PureComponent{constructor(...e){super(...e),Q(this,"state",{bottom:0,hasScrolled:!1,isNavFooterHidden:!1,prevLocation:this.props.location,selectedItem:ae(this.props.location,this.props.username),showUnauthNavExplorePrompt:!1}),Q(this,"getProfileButtonRef",e=>{this.profileButton=e}),Q(this,"handleScrollForIphoneX",()=>{window.innerHeight!==this.currInnerHeight&&(this.currInnerHeight=window.innerHeight,this.forceUpdate())}),Q(this,"handleScrollForMobileSafari",()=>this.setState({bottom:0===window.pageYOffset?40:0})),Q(this,"selectItem",e=>{const{viewData:t,viewParameter:n,viewType:i}=this.props;this.setState({selectedItem:e}),Object(Y.h)({component:8,element:re(e),view_data:t,view_type:i,view_parameter:n})}),Q(this,"handleHomeTouch",()=>{const{activeHomefeedTabIndex:e,location:t,setHomeFlyoutText:n,setHomefeedAsActiveHomefeedTab:i,setShowHomeBadge:o,setShowHomeFlyoutWithButton:r}=this.props;this.selectItem("home"),Object($.a)(!1),n(),o(!1),r(!1),W.HOMEFEED_PATHS.has(t.pathname)&&e!==U.a&&0===window.scrollY?i():0===window.scrollY&&"/"===t.pathname?Object(L.e)("homefeed"):"/"===window.location.pathname&&window.scrollY>0&&ie(window.scrollY)}),Q(this,"handleInboxTouch",()=>this.selectItem("inbox")),Q(this,"handleProfileTouch",()=>{this.selectItem("profile")}),Q(this,"handleTodayTouch",()=>this.selectItem("today")),Q(this,"handleSearchTouch",()=>this.selectItem("search")),Q(this,"handleVideoTouch",()=>{const{customRefreshVideosPage:e,completeExperience:t,experience:n,videosFeedResource:i}=this.props;n&&502511===n.experience_id&&t&&t(1000151,502511),i&&e(i),this.selectItem("videos")}),Q(this,"handleNavFooterScroll",e=>{const{experience:t,dismissExperience:n,setIsNavFooterHiddenAfterScroll:i}=this.props,{hasScrolled:o}=this.state;t&&502511===t.experience_id&&n&&!o&&n(1000151,502511),this.setState({isNavFooterHidden:e,hasScrolled:!0}),i(e)}),Q(this,"currInnerHeight",0)}componentDidMount(){const{devicePlatform:e,isMobileSafari:t}=this.props;this.currInnerHeight=window.innerHeight,Object(G.d)(e)&&window.addEventListener("scroll",this.handleScrollForIphoneX),t&&window.addEventListener("scroll",this.handleScrollForMobileSafari)}static getDerivedStateFromProps(e,t){return e.location===t.prevLocation?null:{...t,prevLocation:e.location,selectedItem:ae(e.location,e.username)}}componentDidUpdate({location:e},{selectedItem:t}){const{location:n,history:{action:i}}=this.props,{selectedItem:o}=this.state;e!==n&&("REPLACE"===i||"PUSH"===i&&t!==o)&&(ne[e.key]=t,ne[n.key]=o)}componentWillUnmount(){const{devicePlatform:e,isMobileSafari:t,location:n}=this.props;ne[n.key]=this.state.selectedItem,Object(G.d)(e)&&window.removeEventListener("scroll",this.handleScrollForIphoneX),t&&window.removeEventListener("scroll",this.handleScrollForMobileSafari)}render(){var e;const{experience:t,isAuthenticated:n,homeFlyoutText:o,location:s,shouldUpsellHomePage:l,showBusinessAppUpsell:d,showHomeBadge:b,showHomeFlyoutWithButton:m,showLoadingSsr:j,username:f,viewingUser:g,viewType:O}=this.props,{bottom:y,hasScrolled:w,isNavFooterHidden:v,selectedItem:_}=this.state,S=d,k=Object(q.d)(g),I=n&&k,P=((e,t)=>t?e?320:264:200)(I,n),C=!w&&!v&&"videos"!==_;return Object(u.jsxs)(H.b,{bottom:y,height:ee,isModal:(A=s.pathname,A.includes("/report/")),footerWidth:P,noPadding:!0,hideOnScroll:d||!n||n&&oe(s.pathname),onScroll:this.handleNavFooterScroll,showBusinessAppUpsell:S,footerInLego:!0,zIndex:te,children:[Object(u.jsx)(B,{}),Object(u.jsxs)(p.f,{display:"flex",alignItems:"center",justifyContent:"around",width:P,maxWidth:P,paddingX:2,marginStart:"auto",marginEnd:"auto",children:[Object(u.jsxs)(p.f,{alignItems:"center",display:"flex",justifyContent:"center",position:"relative",flex:"grow",children:[Object(u.jsx)(p.f,{children:j?Object(u.jsx)(p.f,{paddingX:1,children:Object(u.jsx)(c.a,{width:30,height:30,rounding:8})}):Object(u.jsx)(x,{accessibilityLabel:this.props.i18n._("Home","Nav bar icon","Nav bar icon"),badge:b?{height:8,width:8}:void 0,badgeMargins:b?{marginLeft:8,marginTop:1}:void 0,color:"home"===_?"darkGray":"gray",flyoutText:o,onTouch:this.handleHomeTouch,showFlyout:m,showFlyoutButton:m,showLabel:I,svgPath:"M12 0L1 10v14h8v-7a3 3 0 116 0v7h8V10z",title:this.props.i18n._("Home","Home button on the Nav bar","Home button on the Nav bar"),to:n?"/":"/ideas"})}),l&&!v&&Object(u.jsx)(p.f,{position:"absolute",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:Object(u.jsx)(p.M,{size:90})})]}),!n&&(j?Object(u.jsx)(c.a,{width:30,height:30,rounding:8}):Object(u.jsx)(x,{accessibilityLabel:this.props.i18n._("Search","bottomNavBar.searchButton","Search button on the nav bar"),color:"videos"===_?"darkGray":"gray",icon:"search",onTouch:()=>{},showLabel:I,title:this.props.i18n._("Search","bottomNavBar.searchButton","Search button on the nav bar"),to:"/search"})),n&&Object(u.jsxs)(i.Fragment,{children:[Object(u.jsx)(a.a,{name:"mweb_video_feed",children:({anyEnabled:e})=>e&&Object(u.jsx)(r.a,{experience:t,eligibleIds:C?[502511]:[],color:"blue",showCaret:!0,children:({experience:e})=>j?Object(u.jsx)(c.a,{width:30,height:30,rounding:8}):Object(u.jsx)(x,{to:"/videos/",color:"videos"===_?"darkGray":"gray",accessibilityLabel:this.props.i18n._("Videos","Nav bar icon","Nav bar icon"),onTouch:this.handleVideoTouch,title:this.props.i18n._("Videos","Videos button on the Nav bar","Videos button on the Nav bar"),showLabel:I,svgPath:"M3.4 12c0-4.7 3.8-8.6 8.6-8.6 4.7 0 8.6 3.8 8.6 8.6 0 4.7-3.8 8.6-8.6 8.6-4.7 0-8.6-3.9-8.6-8.6zM12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.6 0 12 0zm-1.4 7.7l5.3 3.3c.7.4.7 1.4 0 1.9l-5.3 3.3c-.8.5-1.8-.1-1.8-.9V8.7c.1-.9 1.1-1.4 1.8-1z"})})}),j?Object(u.jsx)(c.a,{width:30,height:30,rounding:8}):Object(u.jsx)(x,{icon:"search",to:"/search/",color:"search"===_?"darkGray":"gray",accessibilityLabel:this.props.i18n._("Search","Nav bar icon","Nav bar icon"),onTouch:this.handleSearchTouch,title:this.props.i18n._("Search","Nav bar icon","Nav bar icon"),showLabel:I}),null!=g&&g.is_partner?j?Object(u.jsx)(p.f,{paddingX:4,children:Object(u.jsx)(c.a,{width:30,height:30,rounding:8})}):Object(u.jsx)(h,{showLabel:I,viewType:O}):j?Object(u.jsx)(p.f,{width:30,height:30}):"",j?Object(u.jsx)(c.a,{width:30,height:30,rounding:8}):Object(u.jsx)(E,{isActive:"inbox"===_||"notifications"===_,onTouch:this.handleInboxTouch,showLabel:I,icon:"speech-ellipsis"})]}),j?Object(u.jsx)(p.t,{flex:"grow",justifyContent:"center",children:Object(u.jsx)(p.f,{justifyContent:"center",children:Object(u.jsx)(c.a,{width:30,height:30,rounding:8})})}):Object(u.jsx)(M.b,{children:Object(u.jsx)(p.f,{ref:this.getProfileButtonRef,flex:"grow",children:Object(u.jsx)(T,{avatarSrc:!g||null!==(e=g.image_small_url)&&void 0!==e&&e.includes("default")||"string"!=typeof g.image_small_url?"":g.image_small_url,isActive:"profile"===_,locationPath:s.pathname,onTouch:this.handleProfileTouch,showLabel:I,username:f})})})]})]});var A}}t.e=Object(A.compose)(Object(o.connect)((function({currentPage:e,homefeedTabUI:t,resources:n,session:i,users:o}){return{activeHomefeedTabIndex:t.activeTabIndex,country:i.isAuthenticated&&o[i.userId]&&"string"==typeof o[i.userId].country?o[i.userId].country:i.country,devicePlatform:i.userAgentPlatform,isAuthenticated:i.isAuthenticated,isMobileSafari:(i.isMobile||i.isTablet)&&(i.browser||"").includes("Safari"),isToastShown:i.isToastShown||!1,locale:i.locale,showBusinessAppUpsell:i.showBusinessAppUpsell||!1,username:i.isAuthenticated&&o[i.userId]?o[i.userId].username:"",videosFeedResource:n.VideosFeedResource,viewingUser:i.isAuthenticated?o[i.userId]:void 0,viewData:e.viewData,viewParameter:e.viewParameter,viewType:e.viewType}}),(function(e){return{completeExperience:(t,n)=>e(Object(w.a)(t,n)),dismissExperience:(t,n)=>e(Object(w.d)(t,n)),setHomefeedAsActiveHomefeedTab:()=>e(Object(V.a)(null,U.a)),customRefreshVideosPage:t=>e(Object(z.a)(t))}})),F.l)(e=>{const t=Object($.b)(),n=Object(d.c)(),{homeFlyoutText:i,setHomeFlyoutText:r,setIsNavFooterHiddenAfterScroll:a,setShowHomeBadge:s,setShowHomeFlyoutWithButton:c,showHomeBadge:l,showHomeFlyoutWithButton:p}=Object(X.b)(),h=Object(R.a)(),b=Object(o.useSelector)(e=>e.session.isAuthenticated),m=Object(K.b)(b?"mweb_auth_loading_ssr_pin_page":"mweb_unauth_loading_ssr_pin_page"),j=!h&&m().anyEnabled;return Object(u.jsx)(y.a,{id:1000151,children:({experience:o})=>Object(u.jsx)(se,{...e,experience:o,homeFlyoutText:i,setHomeFlyoutText:r,setIsNavFooterHiddenAfterScroll:a,setShowHomeBadge:s,setShowHomeFlyoutWithButton:c,showHomeBadge:l,showHomeFlyoutWithButton:p,showLoadingSsr:j,shouldUpsellHomePage:t,i18n:n})})})},DCSe:function(e,t){e.exports="https://s.pinimg.com/webapp/NO@2x-d7864990.png"},Dgpg:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),o=n("Lr1Z"),r=n("yweb"),a=n("n6mq"),s=n("nKUr");function c({direction:e,handleClick:t}){const n=Object(r.c)();return Object(s.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,display:"flex",height:30,lineHeight:25,paddingTop:4,position:"absolute",top:0,width:45,..."right"===e?{right:0,paddingRight:4,justifyContent:"flex-end",textAlign:"right"}:{left:0,paddingLeft:4}},children:Object(s.jsx)("button",{style:{outline:"none",border:"none",background:"transparent",padding:0},type:"button",onClick:e=>t(e),children:Object(s.jsx)(a.v,{accessibilityLabel:n._("Scroll","annotations.scrollArrow","Accessibility label for scroll arrow button"),icon:"right"===e?"arrow-forward":"arrow-back",size:8,color:"gray"})})})}function l({name:e,url:t}){return Object(s.jsx)(a.f,{display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"lightGray",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},children:Object(s.jsx)(a.cb,{color:"darkGray",inline:!0,overflow:"breakWord",size:"sm",weight:"bold",children:t?Object(s.jsx)(o.a,{inline:!0,pressState:"compress",to:t,rounding:8,children:e}):e})})}function d({annotations:e,mode:t}){const[n,o]=Object(i.useState)(!1),[r,d]=Object(i.useState)(!1),p=Object(i.useRef)(null),u="inline"===t||"inlineWithScrollArrows"===t;Object(i.useEffect)(()=>{const e=p.current,n=()=>{if("inlineWithScrollArrows"===t&&p.current){const e=p.current,t=Math.max(0,e.scrollLeft),n=t+e.clientWidth;o(0!==t),d(n<e.scrollWidth)}else o(!1),d(!1)};return n(),null==e||e.addEventListener("scroll",n),()=>{null==e||e.removeEventListener("scroll",n)}},[t]);const h=e=>t=>{t.preventDefault(),t.stopPropagation();const n=p.current;n&&("left"===e?n.scrollLeft-=12:n.scrollLeft+=12)};return Object(s.jsx)(a.t,{alignItems:"center",justifyContent:"end",children:Object(s.jsxs)(a.f,{display:"flex",overflow:u?"scrollX":"visible",wrap:!u,width:"100%",position:"relative",children:[n&&Object(s.jsx)(c,{direction:"left",handleClick:h("left")}),Object(s.jsx)("div",{style:{overflowX:u?"scroll":"hidden",overflowY:"hidden",whiteSpace:"nowrap",padding:"4px 0"},ref:p,children:e.map(({name:e,url:t})=>Object(s.jsx)(l,{name:e,url:t},t||e))}),r&&Object(s.jsx)(c,{direction:"right",handleClick:h("right")})]})})}},EJp8:function(e,t){e.exports="https://s.pinimg.com/webapp/SK@2x-2a81803e.png"},F2ZA:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return u}));n("n6mq");const i="/today/",o=3,r=(e,t,n=0)=>({num_days:t,referrer:n,...e?{}:{redux_normalize_feed:!0}});function a(e,t,n){const i=function(e){return 0===e||2===e?"trending":1===e?"best":"article"}(e),o=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-")}(t);return`/today/${i}/${encodeURIComponent(o)}/${n}/`}const s={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},c={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},l=(e,t)=>{const n=c[e];return!(null===n||n!==t&&!t.startsWith(n))},d=e=>s[e],p=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)||""),u=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner))},"G/mG":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n("jUT+");const o=e=>({type:i.fb,payload:e}),r=e=>({type:i.oc,payload:e})},G5lw:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("Y+p1"),a=n.n(r),s=n("vtuW"),c=n("4kAQ");t.a=function(e){const{cacheConfig:t,children:n,extraContext:r,id:l,shouldUsePlacedExperience:d=!0}=e,p=Object(i.useRef)(),u=Object(o.useDispatch)(),h=Object(o.useSelector)(e=>e.experiences[l]),b=Object(o.useSelector)(e=>e.experiencesMulti[l]),m=Object(i.useCallback)(()=>{null!=h&&h.metadata&&0!==Object.keys(h.metadata).length&&t&&Object.keys(h.metadata).forEach(e=>{const n=Number(e);if(!(n in t))return;const i=h.metadata[n];t[n].forEach(({key:e,timeToLive:t})=>{const n=i[e];void 0!==n&&Object(s.d)(e,n,t)})})},[t,null==h?void 0:h.metadata]);return Object(i.useEffect)(()=>{m()},[m]),Object(i.useEffect)(()=>{u(Object(c.l)(l))},[u,h,l]),Object(i.useEffect)(()=>{d||a()(p.current,r)||(u(Object(c.h)([l],r)),p.current=r)},[u,r,l,d]),n({experience:h,experiencesMulti:b})}},GPdH:function(e,t,n){n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return p}));var i=n("eOdZ"),o=n("O/nw"),r=n("aK+E"),a=n("zmYE"),s=n("jUT+"),c=n("XiPH");const l=(e,t)=>({type:s.xb,payload:{pinId:t,index:e}}),d="VideosFeedResource",p=(e,t)=>n=>{const s={field_set_key:"mobile_grid_item"},l=Object(r.a)(s),{bookmark:u,fetching:h}=e[l];if(h)return Promise.resolve();const b=t||u||null,m=b?{...s,bookmarks:[b]}:s;return n(Object(a.d)(d,s,!0)),i.a.create(d,m).callGet().then(t=>{const i=t.resource_response.data;if("number"==typeof i||i){const[r]=((t.resource||{}).options||{}).bookmarks||[];if(Array.isArray(i)&&0===i.length&&r&&"-end-"!==r)return n(p(e,r));const u=((e,{bookmark:t,options:n})=>{const i=o.a[e];return"function"==typeof i?i({resource:e,options:n,bookmark:t}):i})(d,{bookmark:b,options:s}),h=u?Object(c.b)(i,u):null;e[l].fetching=!1,n(Object(a.b)(d,s,t,h,!0,u))}return Promise.resolve()},e=>{n(Object(a.c)(d,s,e))})}},GuVr:function(e,t,n){n.d(t,"a",(function(){return Oe}));var i=n("Aad/"),o=n.n(i),r=n("1qjX"),a=n.n(r),s=n("mqJ/"),c=n.n(s),l=n("kH38"),d=n.n(l),p=n("lbiE"),u=n.n(p),h=n("y7vW"),b=n.n(h),m=n("YPSp"),j=n.n(m),f=n("3frB"),g=n.n(f),x=n("t73z"),O=n.n(x),y=n("UL3w"),w=n.n(y),v=n("+Cth"),_=n.n(v),S=n("qqi5"),T=n.n(S),k=n("q5ep"),I=n.n(k),P=n("mUuv"),C=n.n(P),E=n("ZCiT"),A=n.n(E),L=n("5iIm"),F=n.n(L),D=n("58qM"),B=n.n(D),M=n("wWTz"),R=n.n(M),N=n("+SB1"),z=n.n(N),H=n("DCSe"),U=n.n(H),W=n("36IV"),G=n.n(W),q=n("S1kg"),V=n.n(q),Y=n("Ryq3"),K=n.n(Y),X=n("5yc8"),$=n.n(X),Q=n("EJp8"),Z=n.n(Q),J=n("3oiX"),ee=n.n(J),te=n("vZdC"),ne=n.n(te),ie=n("CXMf"),oe=n.n(ie),re=n("49eA"),ae=n.n(re),se=n("afEI"),ce=n.n(se),le=n("WvRU"),de=n.n(le),pe=n("rc+o"),ue=n.n(pe),he=n("1vus"),be=n.n(he),me=n("yweb"),je=n("eQwl"),fe=n("n6mq"),ge=n("nKUr");const xe={"AR-SA":o.a,"ZH-CN":ue.a,"ZH-TW":be.a,CS:a.a,DA:c.a,DE:d.a,EL:u.a,EN:b.a,ES:j.a,FI:g.a,FR:O.a,HI:w.a,HU:_.a,ID:T.a,IT:I.a,JA:C.a,KO:A.a,ML:F.a,MS:B.a,NB:U.a,NL:R.a,NN:z.a,NO:U.a,PL:G.a,PT:V.a,RO:K.a,RU:$.a,SK:Z.a,SV:ee.a,TH:ne.a,TL:oe.a,TR:ae.a,UK:ce.a,VI:de.a};function Oe({locale:e}){const t=Object(me.c)(),n=Object(je.c)(e),i=xe[n]||xe.EN,o=t._("Install the Pinterest app on Android");return Object(ge.jsx)(fe.x,{naturalHeight:80,naturalWidth:270,src:i,alt:o})}},HAEv:function(e,t){e.exports="https://s.pinimg.com/webapp/TL@2x-1e888ea6.png"},HP5p:function(e,t,n){var i=n("/MKj"),o=n("SW+8"),r=n("YWAn"),a=n("ANjH"),s=n("ulr2"),c=n("nKUr");const l=Object(a.compose)(Object(i.connect)(null,(function(e){return{hideRepinAnimation:()=>e(Object(s.j)()),showRepinAnimation:()=>e(Object(s.I)())}})),(function(e){return t=>{const{hideRepinAnimation:n,showRepinAnimation:i}=t,{hideToast:a,showToast:s}=Object(r.c)();return Object(c.jsx)(e,{...t,hideToast:a,showToast:s,showRepinConfirmation:(e,t)=>{t||i(),setTimeout(()=>{t||n(),(e=>{e.forEach(e=>s(e))})(e)},o.a)}})}}));t.a=l},HuSE:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("ihsa"),r=n("n6mq"),a=n("nKUr");const s={animation:"1s forwards LoadingShimmerAnimation linear infinite",background:"#efefef",backgroundImage:"linear-gradient(to right, #efefef 0%, #ffffff 10%, #efefef 60%, #efefef 100%)",backgroundRepeat:"no-repeat"};function c({height:e,width:t,rounding:n}){return Object(a.jsxs)(i.Fragment,{children:[Object(a.jsx)(o.a,{unsafeCSS:"\n  @keyframes LoadingShimmerAnimation {\n    0% {\n      background-position: -600px 0;\n    }\n    100% {\n      background-position: 600px 0;\n    }\n  }\n"}),Object(a.jsx)(r.f,{width:t,height:e,rounding:n,dangerouslySetInlineStyle:{__style:s}})]})}},I1Y6:function(e,t,n){n.d(t,"a",(function(){return i}));function i(e,t=80,n="…"){let i;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t])i=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);i=e.substring(0,n)}return i=i.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),i+n}},I6XH:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("/MKj"),o=n("NwG/"),r=n("5SBu"),a=n("nKUr");function s({user:e,invertColors:t,isSecondaryButton:n,onTap:s,size:c,viewParameter:l,viewType:d}){const p=Object(i.useDispatch)(),{id:u}=e,h=Object(i.useSelector)(({users:t})=>t[u]?t[u].explicitly_followed_by_me:e.explicitly_followed_by_me);return Object(a.jsx)(o.a,{id:u,onFollow:()=>{p(Object(r.g)(u,e)),s&&s()},onUnfollow:()=>{p(Object(r.k)(u,e)),s&&s()},size:c,invertColors:t,isSecondaryButton:n,isFollowed:h,followEventType:45,unfollowEventType:46,viewParameter:l,viewType:d})}},IaND:function(e,t,n){var i=n("q1tI"),o=n("ihsa"),r=n("n+mC"),a=n("g6r8"),s=n("qDpr"),c=n("n6mq"),l=n("nKUr");const d="PinGridSkeletonLoader__tall",p="PinGridSkeletonLoader__short",u=({size:e})=>Object(l.jsx)(c.f,{padding:1,children:Object(l.jsx)("div",{className:"tall"===e?d:p})}),h=({children:e})=>Object(l.jsx)(c.t,{direction:"column",gap:2,children:e});t.a=()=>{const e="desktop"===Object(a.a)(),t=e?s.b:175;return Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(o.a,{unsafeCSS:[{name:d,height:250},{name:p,height:150}].map(({name:e,height:n})=>Object(r.a)({name:e,width:t,height:n})).join("")}),Object(l.jsx)(c.f,{marginStart:s.c,marginEnd:s.c,children:e?Object(l.jsxs)(c.t,{direction:"row",gap:s.a,children:[Object(l.jsx)(h,{children:Object(l.jsx)(u,{size:"tall"})}),Object(l.jsx)(h,{children:Object(l.jsx)(u,{size:"short"})}),Object(l.jsx)(h,{children:Object(l.jsx)(u,{size:"tall"})}),Object(l.jsx)(h,{children:Object(l.jsx)(u,{size:"short"})})]}):Object(l.jsxs)(c.t,{direction:"row",overflow:"hidden",justifyContent:"center",children:[Object(l.jsxs)(h,{children:[Object(l.jsx)(u,{size:"tall"}),Object(l.jsx)(u,{size:"short"}),Object(l.jsx)(u,{size:"tall"})]}),Object(l.jsxs)(h,{children:[Object(l.jsx)(u,{size:"short"}),Object(l.jsx)(u,{size:"tall"}),Object(l.jsx)(u,{size:"short"}),Object(l.jsx)(u,{size:"tall"})]})]})})]})}},IayW:function(e,t,n){n.d(t,"a",(function(){return de}));var i=n("/MKj"),o=n("q1tI"),r=n("kerF"),a=n("GuVr"),s=n("wdUa"),c=n("yweb"),l=n("QtD7"),d=n("0G5S"),p=n("2NiC"),u=n("n6mq"),h=n("nKUr");function b(){const e=Object(c.c)(),t=Object(i.useDispatch)(),{locale:n,userAgentPlatform:b}=Object(i.useSelector)(({session:e})=>e);Object(o.useEffect)(()=>{"enabled_no_double"===t(Object(l.a)("mweb_hf_story_app_upsell2"))&&Object(d.c)("appUpsell",Date.now())},[]);const m=e._("Pinterest works best if you switch to our iPhone app","app upsell","app upsell"),j=e._("Pinterest works best if you switch to our Android app","app upsell","app upsell"),f="ios"===b;return Object(h.jsxs)(u.f,{color:"blue",marginBottom:5,marginStart:2,marginEnd:2,marginTop:3,padding:3,rounding:2,children:[Object(h.jsx)(r.a,{name:"mweb_hf_story_app_upsell2",children:({group:t})=>"enabled_icon"===t?Object(h.jsx)(u.f,{marginBottom:2,children:Object(h.jsx)(u.v,{accessibilityLabel:e._("Pinterest icon"),color:"white",icon:"pinterest",size:32})}):null}),Object(h.jsx)(u.cb,{color:"white",weight:"bold",children:f?m:j}),Object(h.jsx)(u.f,{marginTop:3,children:Object(h.jsx)(p.a,{children:e=>Object(h.jsx)(u.bb,{onTap:()=>(e=>{e("/")})(e),children:f?Object(h.jsx)(s.a,{locale:n}):Object(h.jsx)(a.a,{locale:n})})})})]})}var m=n("kEen");const j={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function f({buttonAction:e,buttonText:t,imageUrl:n,brands:o}){const r=Object(i.useSelector)(({users:e})=>e),a=o.slice(0,3).map(e=>{var t,n;return{name:null!==(t=r[e.id].username)&&void 0!==t?t:"",src:null!==(n=r[e.id].image_medium_url)&&void 0!==n?n:""}});return Object(h.jsx)(u.f,{position:"relative",padding:1,marginBottom:2,children:Object(h.jsxs)(m.a,{to:e,children:[Object(h.jsx)(u.f,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:Object(h.jsxs)(u.f,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[Object(h.jsx)(u.f,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:n&&Object(h.jsx)(u.x,{alt:t,color:"rgb(111, 91, 77)",naturalHeight:1,naturalWidth:1,src:n,fit:"cover"})}),Object(h.jsx)(u.f,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:j.defaultOverlay},position:"absolute",top:!0,left:!0}),Object(h.jsx)(u.f,{width:"100%",position:"absolute",bottom:!0,paddingY:6,display:"flex",justifyContent:"center",children:Object(h.jsx)(u.f,{width:24*(2*a.length+1),height:64,children:Object(h.jsx)(u.c,{accessibilityLabel:"",collaborators:a})})})]})}),Object(h.jsx)(u.f,{"aria-hidden":"true",width:"100%",display:"flex",rounding:"pill",color:"lightGray",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:Object(h.jsx)(u.cb,{weight:"bold",children:Object(h.jsx)("div",{children:t})})})]})})}var g=n("L1dC"),x=n("XQZ6");function O({title:{format:e,args:{query:t}}}){return Object(h.jsxs)(u.f,{alignItems:"center",direction:"column",display:"flex",marginTop:12,children:[Object(h.jsx)(u.f,{marginBottom:2,paddingX:4,children:Object(h.jsx)(u.cb,{align:"center",color:"darkGray",overflow:"normal",weight:"bold",children:e})}),Object(h.jsx)(x.a,{navigateReplace:!1,query:t,showHeaderText:!1})]})}const y="49.5%";function w({buttonAction:e,buttonText:t,colors:n}){const o=Object(i.useSelector)(({pins:e})=>n.slice(0,4).map(t=>{var n;return{...null===(n=e[t.id].images)||void 0===n?void 0:n["736x"],title:e[t.id].description}}));if(n.length<4)return null;const r=e=>{var t;return Object(h.jsx)(u.f,{width:y,height:"100%",children:Object(h.jsx)(u.x,{alt:null!==(t=e.title)&&void 0!==t?t:"",color:"rgb(111, 91, 77)",naturalHeight:e.height,naturalWidth:e.width,src:e.url,fit:"cover"})})};return Object(h.jsx)(u.f,{position:"relative",padding:1,marginBottom:2,children:Object(h.jsxs)(m.a,{to:e,children:[Object(h.jsx)(u.f,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:Object(h.jsx)(u.f,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:Object(h.jsx)(u.f,{height:"100%",width:"100%",rounding:4,direction:"column",display:"flex",justifyContent:"between",children:[o.slice(0,2),o.slice(2,4)].map(e=>Object(h.jsx)(u.t,{width:"100%",height:y,justifyContent:"between",children:e.map(r)}))})})}),Object(h.jsx)(u.f,{width:"100%",display:"flex",rounding:"pill",color:"lightGray",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:Object(h.jsx)(u.cb,{weight:"bold",children:Object(h.jsx)("div",{children:t})})})]})})}var v=n("FDmi");var _=Object(i.connect)(({pins:e,users:t},n)=>({pin:e[n.id],user:e[n.id]&&t[e[n.id].pinner]}),()=>({}))(({isFirstChild:e,pin:t,user:n})=>{var i;if(!t)return null;const o=null===(i=t.images)||void 0===i?void 0:i["170x"];if(!o)return null;const{full_name:r,image_medium_url:a}=n||{},{dominant_color:s}=t,{height:c,width:l,url:d}=o;return Object(h.jsx)("div",{style:{paddingRight:8,...e?{paddingLeft:8}:{}},children:Object(h.jsxs)(u.f,{position:"relative",children:[Object(h.jsx)(u.f,{height:144,overflow:"hidden",rounding:4,width:108,children:Object(h.jsx)(u.x,{alt:t.title||"",color:null!=s?s:"",fit:"cover",naturalHeight:c,naturalWidth:l,src:d})}),a&&Object(h.jsx)(u.f,{alignItems:"center",bottom:!0,display:"flex",height:0,justifyContent:"center",left:!0,position:"absolute",right:!0,children:Object(h.jsx)(u.f,{dangerouslySetInlineStyle:{__style:{border:"1px solid white"}},height:60,rounding:"circle",width:60,children:Object(h.jsx)(v.a,{name:null!=r?r:"",src:a})})})]})})});function S({pinIds:e}){const t=e.concat(e).concat(e).concat(e);return Object(h.jsx)(u.f,{height:174,overflow:"hidden",width:"100%",children:Object(h.jsx)(u.f,{overflow:"scroll",children:Object(h.jsx)(u.f,{direction:"row",display:"flex",height:184,children:t.map((e,t)=>Object(h.jsx)(_,{id:e,isFirstChild:0===t},e))})})})}var T=n("bcHz"),k=n("Lr1Z"),I=n("t84P"),P=n("AGnR");const C="creator_spotlight_";class E extends o.PureComponent{render(){const{id:e,story:t}=this.props;if(!t||"social_seasonal_pin"===t.story_type)return null;const{button_text:n,objects:i,story_type:o,subtitle:r,title:a,background_colour:s,display_options:c}=t,{title_text_color:l,subtitle_text_color:d}=c;if(!o.startsWith(C)||!i||i.length<3)return null;const p="/creator-spotlight/"+o.slice(C.length);return Object(h.jsx)(u.f,{marginBottom:3,children:Object(h.jsx)(I.e,{loggingId:e,objectIdStr:e,viewParameter:43,viewType:2,slotIndex:0,component:13484,auxData:{story_type:o},children:Object(h.jsx)(k.a,{onTouch:()=>{Object(P.h)({view_type:2,view_parameter:43,component:13484,object_id_str:e,aux_data:{story_type:o}})},pressState:"none",to:p,children:Object(h.jsx)(u.f,{rounding:2,overflow:"hidden",display:"flex",dangerouslySetInlineStyle:{__style:{backgroundColor:s}},children:Object(h.jsx)(u.f,{width:"100%",height:"100%",children:Object(h.jsxs)(u.f,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"between",paddingY:4,children:[(!!r||!!a)&&Object(h.jsxs)(u.f,{display:"flex",direction:"column",justifyContent:"center",alignItems:"center",children:[a&&a.format&&Object(h.jsx)(u.u,{size:"sm",children:Object(h.jsx)(u.f,{dangerouslySetInlineStyle:{__style:{color:l}},children:a.format})}),r&&r.format&&Object(h.jsx)(u.cb,{align:"center",children:Object(h.jsx)(u.f,{marginTop:1,dangerouslySetInlineStyle:{__style:{color:d}},children:r.format})})]}),Object(h.jsx)(u.f,{paddingY:2,marginTop:2,width:"100%",children:Object(h.jsx)(S,{pinIds:i.map(e=>e.id)})}),n&&n.format&&Object(h.jsx)(u.f,{display:"inlineBlock",children:Object(h.jsx)(T.a,{pressState:"compress",children:Object(h.jsx)(u.f,{color:"red",rounding:"pill",position:"relative",children:Object(h.jsx)(u.f,{paddingX:5,paddingY:5,children:Object(h.jsx)(u.cb,{color:"white",weight:"bold",children:n.format})})})})})]})})})})})})}}var A=Object(i.connect)(({stories:e},{id:t})=>({story:e[t]}),()=>({}))(E),L=n("i2lo"),F=n("EC67");function D({pin:e,width:t,height:n,showDivider:i}){var o,r,a,s,c,l,d;const p=null===(o=e.images)||void 0===o?void 0:o["236x"];return Object(h.jsx)(u.f,{dangerouslySetInlineStyle:{__style:i?{borderRight:"2px solid #fff"}:{}},children:Object(h.jsx)(u.A,{contentAspectRatio:(null!==(r=null==p?void 0:p.width)&&void 0!==r?r:1)/(null!==(a=null==p?void 0:p.height)&&void 0!==a?a:1),height:n,width:t,children:Object(h.jsx)(u.x,{alt:null!==(s=e.description)&&void 0!==s?s:"",naturalWidth:null!==(c=null==p?void 0:p.width)&&void 0!==c?c:1,naturalHeight:null!==(l=null==p?void 0:p.height)&&void 0!==l?l:1,src:null!==(d=null==p?void 0:p.url)&&void 0!==d?d:""})})})}var B=Object(F.l)((function({storyId:e,slotIndex:t,history:n,location:r}){const[a,s]=Object(o.useState)(0),c=Object(o.useRef)();Object(o.useLayoutEffect)(()=>{const e=c.current;e&&s(e.offsetWidth)},[]);const l=Object(i.useSelector)(({stories:t})=>t[e]),d=Object(i.useSelector)(({pins:e})=>l.objects.map(t=>e[t.id])).slice(0,2),{story_type:p,action:b}=l,m=`${r.pathname}products/${r.search}`;return Object(h.jsx)(I.e,{auxData:{story_type:p,content_ids:d.map(e=>e.id),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:a?Object(h.jsx)(u.f,{padding:2,children:Object(h.jsx)(u.C,{rounding:2,children:Object(h.jsxs)(u.bb,{onTap:()=>{Object(P.h)({component:200,view_parameter:3050,view_type:72}),n.push(m)},children:[Object(h.jsx)(u.f,{display:"flex",justifyContent:"center",alignItems:"center",color:"lightGray",children:d.map((e,t)=>Object(h.jsx)(D,{pin:e,width:(a-16)/2-1,height:a-16,showDivider:!t},e.id))}),Object(h.jsx)(u.f,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:Object(h.jsx)(u.f,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",children:Object(h.jsx)(u.f,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255,255,255,0.97)"}},children:Object(h.jsx)(u.cb,{weight:"bold",children:b.text})})})})]})})}):Object(h.jsx)(u.f,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:c})})})),M=n("hlxQ");function R({slotIndex:e,storyId:t}){const{action:n,aux_fields:r,objects:a,story_type:s,title:c}=Object(i.useSelector)(({stories:e})=>e[t]),l=a[0].id,d=Object(i.useSelector)(({pins:e})=>a.slice(1,3).map(({id:t})=>e[t]));return d.length<2?null:Object(h.jsx)(I.e,{loggingId:t,objectIdStr:t,viewParameter:43,viewType:2,slotIndex:e,component:200,auxData:{story_type:s,content_ids:d.map(({id:e})=>e),story_id:t,...r},children:Object(h.jsxs)(o.Fragment,{children:[c&&Object(h.jsx)(u.f,{paddingY:1,marginTop:2,children:Object(h.jsx)(u.cb,{align:"center",children:c.format})}),Object(h.jsx)(M.a,{action:n,auxData:r,userId:l,userPins:d,viewParameter:43,viewType:2})]})})}class N extends o.PureComponent{render(){const{seasonalBlob:e,size:t}=this.props,{story_title:n,pin_image:i,pin_image_gif:o,user_name:r,board_name:a,header_background_color:s,textIconColor:c}=e,l=s||"orchid",d=this.props.i18n._("Take a look","Button text asking users to take a look at Seasonal pages","Button text asking users to take a look at Seasonal pages"),p=r&&a?`/${r}/${a}`:"/pinterestindonesia/happy-halloween/",b=n||"unknown",j=o||i||"",f=c||"white";return Object(h.jsx)(u.C,{rounding:2,children:Object(h.jsx)(u.f,{padding:3,children:Object(h.jsx)(m.a,{to:p,isAppUpsellDisabled:!0,onTouch:()=>{},children:Object(h.jsx)("div",{children:Object(h.jsx)(u.f,{display:"flex",margin:-1,height:t,children:Object(h.jsx)(u.f,{width:"100%",children:Object(h.jsxs)(u.C,{rounding:2,height:"100%",children:[Object(h.jsx)(u.f,{height:t,children:Object(h.jsx)(u.x,{alt:b,color:l,fit:"cover",naturalHeight:1,naturalWidth:1,src:j})}),Object(h.jsx)(u.f,{height:t,position:"absolute",top:!0,left:!0}),Object(h.jsx)(u.f,{position:"absolute",top:!0,left:!0,right:!0,overflow:"hidden",paddingX:2,paddingY:4,dangerouslySetInlineStyle:{__style:{lineHeight:"19px"}},children:Object(h.jsx)(u.cb,{color:f,weight:"bold",children:b})}),Object(h.jsx)(u.f,{position:"absolute",bottom:!0,left:!0,right:!0,padding:2,marginStart:"auto",marginEnd:"auto",children:Object(h.jsx)(u.g,{size:"sm",text:d})})]})})})})})})})}}var z=Object(i.connect)(({stories:e},t)=>({seasonalBlob:e[t.storyId].custom_properties,storyType:e[t.storyId].story_type,referringSource:e[t.storyId].referring_source}),()=>({}))((function(e){const t=Object(c.c)();return Object(h.jsx)(N,{...e,i18n:t})})),H=n("AMDu"),U=n("gCPk");function W({storyId:e,viewParameter:t,viewType:n}){const r=Object(i.useSelector)(({stories:t})=>t[e]),a=Object(i.useSelector)(({session:e})=>e.isTablet),s=r.objects,c={viewParameter:t,viewType:n};return Object(o.useEffect)(()=>{Object(P.e)({event_type:9024,view_type:n,view_parameter:t})},[]),r?Object(h.jsxs)(o.Fragment,{children:[Object(h.jsx)(u.p,{}),Object(h.jsxs)(u.f,{paddingY:1,children:[Object(h.jsx)(u.f,{paddingY:2,marginTop:3,children:Object(h.jsx)(u.u,{align:"center",size:"sm",children:r.title.format})}),1===s.length?Object(h.jsx)(u.f,{width:a?400:"auto",paddingY:2,margin:"auto",children:Object(h.jsx)(U.a,{id:s[0].id,gridIndex:0,...c})}):Object(h.jsx)(u.f,{overflow:"auto",children:Object(h.jsx)(u.f,{display:"flex",width:"fit-content",children:s.map((e,t)=>Object(h.jsx)(u.f,{width:a?400:"80vw",marginStart:0===t?0:2,paddingY:2,children:Object(h.jsx)(U.a,{id:e.id,gridIndex:t,...c})},e.id))})})]})]}):null}var G=n("WSmg");var q=Object(i.connect)(({pins:e},t)=>({pin:e[t.id]}),()=>({}))(({pin:e})=>{if(!e)return null;const t=e.images&&(e.images.orig||e.images["736x"]||e.images["290x"]||e.images["236x"]);return Object(h.jsx)(u.C,{wash:!0,height:Z,width:Z,children:Object(h.jsx)(u.f,{height:Z,position:"relative",width:Z,children:Object(h.jsx)(u.x,{alt:e.description||"",src:t?t.url:"",fit:"cover",naturalHeight:1,naturalWidth:1,color:e.dominant_color||"#767676"})})})}),V=n("7MwI"),Y=n("qpbZ"),K=n("eyT9"),X=n("EfoL");var $=Object(i.connect)((e,t)=>({pin:e.pins[t.pinId]}),()=>({}))(({pin:e,shouldRoundPrice:t,showSalePrice:n})=>{const i=Object(c.c)();if(!e)return null;const{pinProduct:o}=Object(X.m)({i18n:i,pin:e,useGridTitleOrRichSummary:!1});if(!o||!o.price)return null;const r=o.price||o.max_price,a=o.standard_price,s=/^(\$\d+)(\.?\d\d)*$/g,l=a&&s.exec(a),d=s.exec(r),p=Object(K.e)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)",b=Object(K.e)()?"white":"darkGray";return Object(h.jsxs)(u.f,{rounding:"pill",paddingX:2,paddingY:0,dangerouslySetInlineStyle:{__style:{backgroundColor:p,paddingTop:"3px",paddingBottom:"3px"}},"data-test-id":"MwebPricePill",display:"inlineBlock",children:[n&&l&&Object(h.jsxs)(u.cb,{align:"center",size:"sm",weight:"bold",color:"gray",inline:!0,children:[Object(h.jsx)("s",{children:Object(Y.b)("{{ priceRounded }}",{priceRounded:l[1]})})," "]}),Object(h.jsx)(u.cb,{align:"center",size:"sm",weight:"bold",color:b,inline:!0,children:(n&&a||t)&&d&&d[1]?Object(Y.b)("{{ priceRounded }}",{priceRounded:d[1]}):r})]})}),Q=n("XBgn");const Z=114;function J({handleClick:e,isVerifiedMerchant:t,pins:n,showVerifiedBadge:i,showVerifiedIdentityBadge:o,storyAction:r,title:a,viewParameter:s}){const c=Object(F.h)(),l=Object(F.i)(),{text:d}=r||{};return Object(h.jsxs)(u.f,{marginTop:12,"data-test-id":"lego-closeup-related-module-contents",width:"100%",children:[a&&Object(h.jsxs)(u.f,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[Object(h.jsx)(u.cb,{weight:"bold",children:a}),i&&Object(h.jsx)(u.f,{marginStart:1,children:Object(h.jsx)(Q.a,{size:"sm",isVerifiedMerchant:t,showVerifiedIdentity:o})})]}),Object(h.jsx)(u.f,{display:"flex",marginTop:4,justifyContent:"center",children:n.map((e,t)=>Object(h.jsx)(u.f,{"data-test-id":"HERE",dangerouslySetInlineStyle:{__style:{willChange:"transform"}},display:"flex",marginEnd:2!==t?2:0,overflow:"hidden",position:"relative",rounding:4,width:Z,children:Object(h.jsxs)(u.bb,{onTap:()=>(e=>{const t=Object(V.a)((l.state||{}).trackingParams,e);Object(P.e)({event_type:8948,view_type:3,view_parameter:s,object_id_str:e.id,clientTrackingParams:t,aux_data:{image_signature:e.image_signature,closeup_navigation_type:"click",cosmic_ray_count:"5"}}),c.push(`/pin/${e.id}/`)})(e),children:[Object(h.jsx)(q,{id:e.id}),Object(h.jsx)(u.f,{position:"absolute",marginTop:2,marginStart:2,top:!0,children:Object(h.jsx)($,{pinId:e.id,shouldRoundPrice:!0})})]})},e.id))}),d&&Object(h.jsx)(u.f,{display:"flex",marginTop:4,marginBottom:4,justifyContent:"center",children:Object(h.jsx)(u.g,{onClick:e,inline:!0,size:"lg",text:d})})]})}var ee=n("qrav");function te({componentType:e,handleClick:t,isVerifiedMerchant:n,objects:i,showVerifiedBadge:r,showVerifiedIdentityBadge:a,storyAction:s,title:c,viewParameter:l}){const[d,p]=Object(o.useState)(!1);if(!i||!Array.isArray(i))return null;const u=i.filter(e=>"pin"===e.schema);if(u.length<3)return null;const b=Array.from(new Array(3)).map((e,t)=>u[t]);return Object(h.jsx)(ee.a,{options:{threshold:0},onVisibilityChange:t=>{const{intersectionRatio:n}=t[0];n>0&&!d&&(Object(P.e)({event_type:3400,view_type:3,view_parameter:l,component:e}),p(!0))},children:Object(h.jsx)(J,{handleClick:t,isVerifiedMerchant:n,pins:b,showVerifiedBadge:r,showVerifiedIdentityBadge:a,storyAction:s,title:c,viewParameter:l})})}var ne=n("/A17");const ie=()=>{};function oe({onRelatedPinsTitleEnter:e,onRelatedPinsTitleExit:t,relatedPinsTitleRef:n,title:i}){return i?Object(h.jsx)(o.Fragment,{children:Object(h.jsx)(u.f,{marginTop:12,marginBottom:2,ref:n,children:Object(h.jsx)(ne.a,{onEnter:e||ie,onExit:t||ie,children:Object(h.jsx)(u.cb,{size:"lg",align:"center",weight:"bold",children:i})})})}):null}const re=["related_domain_collage","related_modules_header","related_products_collage"],ae={related_domain_collage:13327,related_products_collage:13176};var se=function(e){var t,n;const{onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:r,pin:a,relatedPinsTitleRef:s,searchQuery:c,slotIndex:l,storyId:d,trafficSource:p,viewType:u,viewParameter:b}=e,m=Object(F.h)(),j=Object(i.useSelector)(({stories:e})=>e[d]);if(!j)return null;const{action:f,content_ids:g,objects:x,story_type:O,title:{format:y}}=j;if("related_modules_header"===O)return Object(h.jsx)(I.e,{auxData:{story_id:d,story_type:O},loggingId:d,objectIdStr:d,slotIndex:l,viewParameter:b,viewType:u,children:Object(h.jsx)(oe,{onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:r,relatedPinsTitleRef:s,title:y})});const{id:w}=a||{},{url:v}=f||{};if(!a||!w||!v)return null;const _=ae[O],S=function(e,t){const n=e?"q="+e:null,i=t&&"unknown"!==t?"rs="+t:null;let o="";return n&&i?o=`?${n}&${i}`:!n&&i&&(o="?"+i),o}(c,p);let T=`${v}${S}`;"related_products_collage"===O&&(T=S?`/pin/${w}/visual-search/${S}source=shopping&tab=1`:`/pin/${w}/visual-search/?source=shopping&tab=1`);const k=(g||[]).map(e=>"pin:"+e).join("|");let C,E;if("related_domain_collage"===O){var A;const e=(null===(A=a.link_domain)||void 0===A?void 0:A.official_user)||{};C=e.is_verified_merchant,E=e.verified_identity}return Object(h.jsx)(I.e,{auxData:{content_ids:k,story_id:d,story_type:O},component:_,loggingId:d,objectIdStr:d,slotIndex:l,viewParameter:b,viewType:u,children:Object(h.jsx)(te,{componentType:_,handleClick:()=>{Object(P.h)({view_type:3,view_parameter:b,component:_,aux_data:{contentIds:k,story_id:d,story_type:O}}),m.push(T)},isVerifiedMerchant:C,objects:x,showVerifiedBadge:C||(null===(t=E)||void 0===t?void 0:t.verified),showVerifiedIdentityBadge:!C&&(null===(n=E)||void 0===n?void 0:n.verified),storyAction:f,title:y,viewParameter:b})})},ce=n("TR77");const le=["style_pivot","structured_search_bubble"];function de({auxData:e,fullWidth:t,onRelatedPinsTitleEnter:n,onRelatedPinsTitleExit:o,pin:a,relatedPinsTitleRef:s,slotIndex:c,storyId:l,viewType:d,viewParameter:p}){const m=Object(i.useSelector)(({stories:e})=>e[l]);if(!m||!m.story_type)return null;const{action:j,container_type:x,custom_properties:y,display_options:v,experience:_,story_type:S,title:T,objects:k}=m;if(t)return le.includes(S)&&0===v.num_columns_requested?Object(h.jsx)(u.f,{marginBottom:5,children:Object(h.jsx)(g.a,{auxData:e,pattern:[G.a.extra_small],slotIndex:c,storyId:l,viewType:d,viewParameter:p})}):S.startsWith("creator_spotlight_")?Object(h.jsx)(u.f,{marginBottom:5,children:Object(h.jsx)(A,{id:l})}):re.includes(S)?Object(h.jsx)(se,{onRelatedPinsTitleEnter:n,onRelatedPinsTitleExit:o,pin:a,relatedPinsTitleRef:s,storyId:l,slotIndex:c,viewParameter:p,viewType:d}):S.startsWith("related_articles")?Object(h.jsx)(W,{storyId:l,viewType:d,viewParameter:p}):S.startsWith("SKIN_TONE_FILTER_QUERIES")?Object(h.jsx)(O,{title:T}):null;if(0===c&&le.includes(S)&&0===v.num_columns_requested)return null;switch(x){case 56:return Object(h.jsx)(u.f,{padding:2,children:Object(h.jsx)(g.a,{slotIndex:c,storyId:l,viewType:d,viewParameter:p})})}switch(S){case"app_upsell":return Object(h.jsx)(L.a,{experience:_,eligibleIds:[_.experience_id],children:Object(h.jsx)(b,{})});case"feed_card_default":case"feed_card_video":return Object(h.jsx)(L.a,{experience:_,eligibleIds:[_.experience_id],isBackendExperience:!0,children:Object(h.jsx)(ce.b,{buttonAction:j.url,buttonCustomization:y.button_customization,buttonText:j.text,experienceId:_.experience_id,hideCompleteButton:y.hide_complete_button,imageAlt:y.image_alt,imageUrl:y.image,placementId:_.placement_id,storyType:S,titleText:T.format,titleTextColor:ce.a[v.title_text_color],titleTextCustomization:y.title_text_customization,videoPin:y.video_pin,videoPlaceholderImage:y.video_placeholder_image})});case"user_brand_story":case"user_color_story":case"general_shopping_upsell":return Object(h.jsx)(ce.b,{buttonAction:j.url,buttonText:j.text,imageAlt:y.image_alt,imageUrl:y.image,storyType:S,titleText:T.format,titleTextColor:ce.a[v.title_text_color]});case"user_brand_story_v1":return Object(h.jsx)(f,{buttonAction:j.url,buttonText:j.text,imageUrl:y.image,brands:k});case"user_color_story_v1":return Object(h.jsx)(w,{buttonAction:j.url,buttonText:j.text,colors:k});case"BUBBLE_ONE_COL":return Object(h.jsx)(u.f,{padding:2,children:Object(h.jsx)(g.a,{slotIndex:c,storyId:l,viewType:d,viewParameter:p})});case"social_seasonal_pin":return Object(h.jsx)(z,{slotIndex:c,storyId:l,viewType:d,viewParameter:p,size:290});case"search_product_collage_story":return Object(h.jsx)(r.a,{name:"mweb_search_product_collage_story",children:({anyEnabled:e})=>e&&Object(h.jsx)(H.a,{slotIndex:c,story:m,viewType:d,viewParameter:p})});case"pinner_authority":case"pinner_authority_unified":return Object(h.jsx)(R,{storyId:l,slotIndex:c});case"stela_in_flashlight_onecol":return Object(h.jsx)(B,{storyId:l,slotIndex:c});default:return null}}},Ido7:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("yweb"),o=n("eyT9"),r=n("n6mq"),a=n("nKUr");function s({text:e,icon:t}){const n=Object(i.c)();return Object(a.jsxs)(r.f,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:Object(o.e)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)",zIndex:1}},display:"flex",margin:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,height:24,top:!0,children:[t&&Object(a.jsx)(r.f,{marginEnd:1,children:Object(a.jsx)(r.v,{accessibilityLabel:n._("identifier that shows the pin type","pin.pincard.iconAccessibilityLabel","shows an icon with the pin type"),color:"darkGray",icon:t,inline:!0,size:12})}),Object(a.jsx)(r.cb,{inline:!0,size:"sm",weight:"bold",children:e})]})}},Iv9x:function(e,t){e.exports="https://s.pinimg.com/webapp/JA@2x-a57c5839.png"},"J/m7":function(e,t){e.exports="https://s.pinimg.com/webapp/MS@2x-fa38b8b6.png"},"K/ae":function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("q1tI"),o=n("56W2"),r=n.n(o),a=n("clxp"),s=n("ihsa"),c=n("g6r8"),l=n("n6mq"),d=n("nKUr");const p={},u=e=>{if(e)return p[e]&&p[e].screenWidth===window.innerWidth||(p[e]={screenWidth:window.innerWidth,cache:l.D.createMeasurementStore()}),p[e].cache};function h({flexible:e,gutterWidth:t,id:n,itemWidth:i,maxColumns:o,minColumns:a}){const s=r()(n),c=i+t;return`\n    .mobileGrid {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .mobileGrid .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:o+1-a},(e,t)=>t+a).map(n=>{const r=n===o?null:(n+1)*c-1;return`\n      @media (min-width: ${n===a?0:n*c}px) ${r?`and (max-width: ${r}px)`:""} {\n        #${s} .static:nth-child(-n+${n}) {\n          position: static !important;\n          visibility: visible !important;\n          float: left;\n          display: block;\n        }\n\n        ${e?`\n      #${s} .static {\n        width: calc(100% / ${n}) !important;\n      }\n    `:`\n      #${s} {\n        width: ${n*c}px;\n      }\n\n      #${s} .static {\n        padding: 0 ${t/2}px;\n        width: ${i}px !important;\n      }\n    `}\n      }\n    `}).join("")}\n  `}function b({cacheKey:e,columnWidth:t,comp:n,disableVirtualize:o,gutterWidth:r,id:p,layout:b,items:m,loadItems:j,minCols:f,scrollContainerRef:g,serverRender:x}){const O="desktop"!==Object(c.a)(),y=Object(i.useCallback)(()=>g&&g.current||window,[g]),w=Object(i.useCallback)(e=>Object(d.jsx)(a.a,{name:"MobileGridItem",children:Object(d.jsx)(n,{...e})}),[n]);return Object(d.jsxs)("div",{id:p,className:"mobileGrid",children:[x&&p&&Object(d.jsx)(s.a,{unsafeCSS:h({flexible:O,gutterWidth:r||0,id:p,itemWidth:t||236,maxColumns:m.length||16,minColumns:f||2})}),Object(d.jsx)(l.D,{columnWidth:t,comp:w,flexible:O,gutterWidth:r,layout:b,items:m,loadItems:j,measurementStore:u(e),minCols:f,scrollContainer:y,virtualize:!o})]})}},"L9+L":function(e,t){e.exports="https://s.pinimg.com/webapp/ES@2x-55483593.png"},MSUY:function(e,t,n){n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return P}));var i=n("q1tI"),o=n("/MKj"),r=n("Lr1Z"),a=n("yweb"),s=n("QAzJ"),c=n("n6mq"),l=n("nKUr");function d(e){const t=Object(a.c)(),{viewType:n,boardId:i,handleTouch:o}=e,d=Object(s.b)("mweb_board_modals")().anyEnabled,p=t._("Board","createMenuLinkButton.Create.Board.Label","label for creating a new board option"),u=t._("Section","createMenuLinkButton.Create.Section.Label","label for creating a new section option");return T.has(n)?Object(l.jsx)(r.a,{pressState:"background",onTouch:o,to:{pathname:"/board/create"},children:Object(l.jsx)(c.f,{paddingY:2,"data-test-id":"createMenuCreateBoardButton",children:d?Object(l.jsx)(c.u,{size:"sm",children:p}):Object(l.jsx)(c.cb,{weight:"bold",children:p})})}):5===n&&i?Object(l.jsx)(r.a,{to:`/board/${i}/create_section/`,pressState:"background",rounding:2,onTouch:o,children:Object(l.jsx)(c.f,{paddingY:2,"data-test-id":"addSectionButton",children:d?Object(l.jsx)(c.u,{size:"sm",children:u}):Object(l.jsx)(c.cb,{weight:"bold",children:u})})}):null}var p=n("bcHz"),u=n("fv8A"),h=n("PLBO");const b=e=>({base64Image:e,method:h.b}),m={button:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"}};function j({handleTouch:e}){const t=Object(a.c)(),n=Object(s.b)("mweb_board_modals")().anyEnabled,i=t._("Photo","createPinButton.Photo.Upload.Label","label to upload pin from camera roll photos");return Object(l.jsx)(u.a,{children:({history:t})=>Object(l.jsx)(p.a,{pressState:"none",onTouch:e,children:Object(l.jsxs)(c.f,{position:"relative",paddingY:2,children:[n?Object(l.jsx)(c.u,{size:"sm",children:i}):Object(l.jsx)(c.cb,{weight:"bold",children:i}),Object(l.jsx)("input",{id:"upload-pin",type:"file",accept:"image/*",onChange:e=>((e,t)=>{const n=new FileReader;n.readAsDataURL(e.target.files[0]),n.onload=()=>{const e=n.result;t.push({pathname:`/pin/create/${h.b}/`,state:b(String(e))})}})(e,t),style:m.button})]})})})}var f=n("hLPq"),g=n("mp1x"),x=n("VDyj"),O=n("TXO6"),y=n("ulr2"),w=n("AGnR"),v=n("G/mG"),_=n("c50B");function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T=new Set([1,4]),k=e=>{const t=window&&window.innerWidth||0,n=e._("Enter a link to create a Pin, https://...","placeholder in text field where a user inputs a URL to create a Pin","placeholder in text field where a user inputs a URL to create a Pin"),i=e._("Enter a link, https://...","placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit","placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit");return t<380?i:n};class I extends i.PureComponent{constructor(...e){super(...e),S(this,"state",{createPinFromLinkUrl:"",showCreateModal:!1,showInlineTextEditCreatePin:!1,urlValidationError:null}),S(this,"createPinFromLinkInput",Object(i.createRef)()),S(this,"closeCreateModal",()=>{this.setState({showCreateModal:!1,showInlineTextEditCreatePin:!1}),this.props.updatePinBuilderInput({isInputOpen:!1,submittedLink:""})}),S(this,"clearValidationError",()=>{this.setState({urlValidationError:null})}),S(this,"openCreateModal",e=>{const{isLimitedLoginUser:t,showLimitedLoginModal:n}=this.props;this.handleTouch(),t?n(Object(x.b)(this.props.i18n)):this.setState({showCreateModal:!0})}),S(this,"handleCreatePinFromLinkTouch",()=>{this.setState({showInlineTextEditCreatePin:!0}),this.props.updatePinBuilderInput({isInputOpen:!0})}),S(this,"handleLinkFieldChange",({value:e})=>{this.setState({createPinFromLinkUrl:e})}),S(this,"handlePinFromLinkFormSubmit",(e,t)=>{const{createPinFromLinkUrl:n}=this.state;e.preventDefault(),Object(_.q)({message:this.props.i18n._("Oops! Please enter a valid URL.","URL validation error message on Pin builder form","URL validation error message on Pin builder form")})(n,e=>this.handleUrlValidation(e,t))}),S(this,"handleTouch",()=>{const{viewType:e,elementType:t}=this.props;Object(w.h)({view_type:e,view_parameter:3106,element:t})}),S(this,"handleUrlValidation",(e,t)=>{const{errors:n}=e;if(n&&n.length>0)this.setState({urlValidationError:n[0]});else{this.setState({showInlineTextEditCreatePin:!1});const e=this.state.createPinFromLinkUrl;this.props.updatePinBuilderInput({submittedLink:e}),t.push({pathname:"/pin-builder/",state:{createPinFromLinkUrl:e}})}}),S(this,"renderCreatePinFromLinkOption",e=>{const{legoBoardModalsEnabled:t}=this.props,{createPinFromLinkUrl:n,showInlineTextEditCreatePin:i}=this.state,o=this.props.i18n._("Website","editPin.CreatePinFromUrl.Label","label for option to create a pin from a url"),r=t?46:60;return Object(l.jsx)(c.f,{alignItems:"center",display:"flex",height:r,children:i?Object(l.jsx)("form",{onSubmit:t=>this.handlePinFromLinkFormSubmit(t,e),style:{width:"100%"},children:Object(l.jsxs)(c.f,{display:"flex",justifyContent:"between",position:"relative",children:[Object(l.jsxs)(c.f,{ref:this.createPinFromLinkInput,width:"100%",children:[this.renderErrorFlyout(),Object(l.jsx)(c.eb,{id:"create-pin-from-link",onChange:this.handleLinkFieldChange,onFocus:()=>this.setState({urlValidationError:null}),placeholder:k(this.props.i18n),size:"lg",value:n})]}),Object(l.jsx)(f.a,{accessibilityLabel:this.props.i18n._("Create Pin from entered link","navigation button to confirm user will create a Pin from a link they entered","navigation button to confirm user will create a Pin from a link they entered"),color:t?"darkGray":void 0,icon:"arrow-forward",onTouch:t=>this.handlePinFromLinkFormSubmit(t,e),size:"lg"})]})}):Object(l.jsx)(p.a,{onTouch:()=>this.handleCreatePinFromLinkTouch(),pressState:"none",children:Object(l.jsx)(c.f,{position:"relative",width:t?void 0:"100vw",children:t?Object(l.jsx)(c.u,{size:"sm",children:o}):Object(l.jsx)(c.cb,{weight:"bold",children:o})})})})}),S(this,"renderErrorFlyout",()=>{const{urlValidationError:e}=this.state;return e&&Object(l.jsx)(c.L,{anchor:this.createPinFromLinkInput.current,color:"red",idealDirection:"up",onDismiss:this.clearValidationError,size:"sm",children:Object(l.jsx)(c.f,{padding:3,width:"100%",children:Object(l.jsx)(c.cb,{align:"center",color:"white",weight:"bold",children:e})})})})}componentDidMount(){const{isInputOpen:e,submittedLink:t}=this.props;(e||t)&&this.setState({showCreateModal:!!e,showInlineTextEditCreatePin:!!e,createPinFromLinkUrl:t||""})}render(){const{boardId:e,i18n:t,iconButtonColor:n="gray",iconButtonSize:o="xl",legoBoardModalsEnabled:r,viewType:a}=this.props,{showCreateModal:s}=this.state;let p=this.props.i18n._("Add to section","heading in section create modal","heading in section create modal");T.has(a)?p=this.props.i18n._("Add a Pin or board","heading in profile create modal","heading in profile create modal"):5===a&&(p=this.props.i18n._("Add a Pin or section","heading in profile create modal","heading in profile create modal")||t._("Add to board","heading in board create modal"));const h=4===a?this.props.i18n._("Add to profile","editPin.AddToProfile.Modal.Header","heading in profile create modal"):p;return Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(c.f,{alignItems:"center",display:"flex",children:Object(l.jsx)(f.a,{accessibilityLabel:this.props.i18n._("Create a Pin or board","icon that opens model prompting user to create a new pin or board","icon that opens model prompting user to create a new pin or board"),color:n,icon:"add",size:o,padding:1,onTouch:this.openCreateModal,testId:"createMenuCreateButton"})}),s&&Object(l.jsx)(g.a,{accessibilityCloseIconLabel:this.props.i18n._("close board and pin create modal","close modal that prompts user to create a new pin or board","close modal that prompts user to create a new pin or board"),heading:h,isOpen:this.state.showCreateModal,legoBoardModalsEnabled:r,onDismiss:this.closeCreateModal,type:"create_menu",children:Object(l.jsxs)(c.f,{direction:"column",display:"flex",padding:r?void 0:2,children:[r?Object(l.jsxs)(i.Fragment,{children:[Object(l.jsxs)(c.f,{paddingX:2,children:[Object(l.jsx)(c.cb,{children:this.props.i18n._("Create","editPin.Create.Section.Text","Section title to Create new things on Edit Pin add modal")}),Object(l.jsx)(u.a,{children:({history:e})=>Object(l.jsx)(i.Fragment,{children:this.renderCreatePinFromLinkOption(e)})}),Object(l.jsx)(j,{handleTouch:this.handleTouch})]}),Object(l.jsxs)(c.f,{marginTop:6,paddingX:2,children:[Object(l.jsx)(c.cb,{children:this.props.i18n._("Add","editPin.Section.Add.Text","Section Add title on Edit Pin add modal")}),Object(l.jsx)(d,{boardId:e,handleTouch:()=>{this.handleTouch(),this.closeCreateModal()},viewType:a})]})]}):Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(d,{boardId:e,handleTouch:()=>{this.handleTouch(),this.closeCreateModal()},viewType:a}),Object(l.jsxs)(c.f,{direction:"column",display:"flex",height:"80%",marginTop:5,children:[Object(l.jsx)(c.cb,{children:this.props.i18n._("Pin","label above uploading a new pin option","label above uploading a new pin option")}),Object(l.jsxs)(c.f,{paddingX:2,children:[Object(l.jsx)(u.a,{children:({history:e})=>Object(l.jsx)(i.Fragment,{children:this.renderCreatePinFromLinkOption(e)})}),Object(l.jsx)(j,{handleTouch:this.handleTouch})]})]})]}),Object(l.jsx)(c.f,{display:"flex",justifyContent:"center",marginBottom:r?2:void 0,marginTop:7,children:Object(l.jsx)(c.g,{inline:!0,onClick:()=>this.closeCreateModal(),size:"lg",text:this.props.i18n._("Close","editPin.Modal.Close.Button","Button text to close modal on EditPin")})})]})})]})}}function P(e){const t=Object(a.c)(),n=Object(o.useDispatch)(),i=Object(s.b)("mweb_board_modals")().anyEnabled,{pinBuilder:r,session:c,users:d}=Object(o.useSelector)(e=>e.session),p=r&&r.isInputOpen,u=d&&Object(O.b)(d[null==c?void 0:c.userId]),h=r&&r.submittedLink;return Object(l.jsx)(I,{...e,isInputOpen:p,isLimitedLoginUser:u,legoBoardModalsEnabled:i,showLimitedLoginModal:(e,t)=>n(Object(y.F)(e,t)),submittedLink:h,updatePinBuilderInput:e=>n(Object(v.b)(e)),i18n:t})}},Mstc:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("VGkx"),a=n("yweb"),s=n("HP5p"),c=n("n6mq"),l=n("4kAQ"),d=n("ulr2"),p=n("kEen"),u=n("58KG"),h=n("EC67"),b=n("nKUr");t.a=Object(s.a)(({buttonText:e,clientTrackingParams:t,color:n="red",deeplinkUri:s,experience:m,inline:j=!0,isBounceAnimation:f,minWidth:g,onTouch:x,onUnsave:O,pinId:y,pinnedToBoardId:w,shape:v,shouldShowSavedButton:_,showRepinConfirmation:S,showToast:T,viewType:k,viewParameter:I,showSaveHandoffExperience:P})=>{const C=Object(a.c)(),E=Object(o.useDispatch)(),A=Object(h.h)(),L=Object(h.i)().pathname.startsWith("/pin"),F=Object(o.useSelector)(({session:e})=>e.hasSavedUnauthPin),D=Object(o.useSelector)(({session:e})=>e.unauthSavePinId),B=()=>{E(Object(u.f)({history:A,i18n:C,onSuccess:()=>{m&&E(Object(l.a)(m.placement_id,m.experience_id))},pinId:y,trackingParams:{clientTrackingParams:t,pinnedToBoardId:w},showRepinConfirmation:P&&!L?()=>{}:S,disableRepinAnimation:D===y})).catch(e=>T({isError:!0,text:e.message||C._("Sorry! Something went wrong on our end.","quickSave.toast.error.message","error during repin")}))},M=Object(i.useRef)(null),R=P&&!F,N=e=>{e.stopPropagation(),e.preventDefault(),x&&x(e),_?_&&O&&O():B()};Object(i.useEffect)(()=>{R&&!M.current&&(B(),E(Object(d.a)())),M.current=R});const z=()=>C._("Pin","quickSave.quickSaveButton.icon.accessibilityLabel","Pin accessibility label"),H=()=>e||C._("Save","quickSave.quickSaveButton.buttonText","Auth mobile web save button for pin closeup");return F&&!L?null:Object(b.jsx)(c.f,{"data-test-id":"save-button-mobile",children:s?Object(b.jsx)(p.b,{accessibilityLabel:z(),color:n,customStyles:{padding:"14px 16px"},deeplinkUri:s,inline:j,isBounceAnimation:f,minHeight:48,minWidth:g,onTouch:N,pressState:["compress","background"],shape:v,size:"lg",text:H(),to:A.location.pathname,upsellType:"save",viewType:k,viewParameter:I}):Object(b.jsx)(r.a,{accessibilityLabel:z(),color:n,customStyles:{padding:"14px 16px"},inline:j,isBounceAnimation:f,minHeight:48,minWidth:g,onTouch:N,pressState:"compress",shape:v,size:"lg",text:H()})})})},NOhL:function(e,t){e.exports="https://s.pinimg.com/webapp/RO@2x-188b728d.png"},NpKs:function(e,t,n){n.r(t),n.d(t,"HOMEFEED_FEED_KEY",(function(){return ve})),n.d(t,"HOMEFEED_PATHS",(function(){return _e})),n.d(t,"PAGES_DELAY_NUX",(function(){return Se})),n.d(t,"DELAYED_NUX_TIME",(function(){return Te})),n.d(t,"HomePage",(function(){return De}));var i=n("q1tI"),o=n("/MKj"),r=n("eqwQ"),a=n("i2lo"),s=n("hqnJ"),c=n("clxp"),l=n("n6mq"),d=n("4kAQ"),p=n("wMN6"),u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=[];class m extends i.PureComponent{constructor(...e){super(...e),h(this,"dismissExperience",()=>{const{experience:e,dismissExperience:t}=this.props;e&&t&&t(e.placement_id,e.experience_id)}),h(this,"completeExperience",()=>{const{experience:e,completeExperience:t}=this.props;e&&t&&t(e.placement_id,e.experience_id)})}getHeroClass(e){return null}render(){const{experience:e}=this.props;if(!e||!b.includes(e.experience_id))return null;const t={...Object(p.e)(p.p)(e.display_data),experienceId:e.experience_id,handleComplete:this.completeExperience,handleDismiss:this.dismissExperience},n=this.getHeroClass(e.experience_id);return Object(u.jsx)(a.a,{experience:e,eligibleIds:b,children:Object(u.jsx)(c.a,{name:"ExperienceTopBar",children:Object(u.jsx)(i.Fragment,{children:Object(u.jsx)(l.f,{children:n&&Object(u.jsx)(n,{...t})})})})})}}var j=Object(o.connect)(null,e=>({completeExperience:(t,n)=>e(Object(d.a)(t,n)),dismissExperience:(t,n)=>e(Object(d.d)(t,n))}))(m),f=n("K/ae"),g=n("zAWC"),x=n("BVk3"),O=n("hFTz"),y=n("6adH"),w=n("ANjH"),v=n("RNo4"),_=n("EC67"),S=n("g6r8"),T=n("yweb"),k=n("SvRC");class I extends i.PureComponent{constructor(...e){var t,n,i;super(...e),i=({data:e,itemIdx:t})=>{const{board:n,history:i,location:o}=this.props;return Object(u.jsx)(g.a,{componentType:0,history:i,oneTapSaveToBoardId:this.viewerRole&&n&&n.id||void 0,location:o,pinId:e.id,trackingParams:e.trackingParams,slotIndex:t,viewParameter:3173,viewType:1})},(n="renderPin")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}get isOwner(){const{board:e,viewerId:t}=this.props;return!!e&&e.owner===t}get viewerRole(){const{board:e}=this.props;return this.isOwner?"owner":e&&e.collaborated_by_me?"collaborator":void 0}render(){const{board:e,deviceType:t,location:n}=this.props,i=Object(v.k)(n.search),o=i.from_news_id,r=i.ideas_referrer;return e?Boolean(e.should_show_more_ideas)&&Object(u.jsx)(O.a,{component:3173,children:Object(u.jsx)(x.a,{name:"BoardContentRecommendationResource",options:{type:e.type,id:e.id,__track__from_news_id:o,__track__referrer:r},selector:t=>({recommendationFeed:t.feeds["recommendation-feed:"+e.id]?t.feeds["recommendation-feed:"+e.id].reduce((e,n)=>("story"===n.type&&(e=e.concat([t.stories[n.id]])),"pin"===n.type&&(e=e.concat([n])),e),[]):[]}),children:({selected:e,fetching:n,fetchMore:i})=>{const{pins:o}=(e.recommendationFeed||[]).reduce(({pins:e},t)=>("pin"===t.type&&(e=e.concat([t])),{pins:e}),{pins:[]});return o.length?Object(u.jsx)(l.f,{marginStart:k.b,marginEnd:k.b,marginTop:Object(k.d)({isDesktop:"desktop"===t}),children:Object(u.jsx)(f.a,{comp:this.renderPin,items:o,loadItems:i,minCols:2})}):Object(u.jsx)(l.f,{paddingY:2,children:Object(u.jsx)(l.U,{accessibilityLabel:this.props.i18n._("Loading recommendations","accessibility label for the loading spinner on more ideas tab","accessibility label for the loading spinner on more ideas tab"),show:n})})}})}):null}}var P=Object(w.compose)(_.l,y.b,Object(o.connect)((e,{boardId:t})=>({board:e.boards[t],viewerId:e.session.userId})))((function(e){const t=Object(S.a)(),n=Object(T.c)();return Object(u.jsx)(I,{...e,i18n:n,deviceType:t})})),C=n("/0j8");function E({history:e,paddingBottomPercentage:t="50%",pinIds:n}){const i=Math.min(n.length,3),o=n.slice(0,i);return Object(u.jsx)(l.f,{column:12,position:"relative",children:Object(u.jsx)(l.C,{rounding:2,children:Object(u.jsx)(l.f,{dangerouslySetInlineStyle:{__style:{paddingBottom:t}},position:"relative",children:Object(u.jsx)(l.f,{display:"flex",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:o.map((t,n)=>Object(u.jsx)(l.f,{color:"darkWash",column:4,dangerouslySetInlineStyle:{__style:{marginRight:n!==i-1?1:0}},position:"relative",children:Object(u.jsx)(l.bb,{fullHeight:!0,fullWidth:!0,onTap:()=>{(t=>{const n="/pin/"+t;e&&e.push({pathname:n})})(t)},children:Object(u.jsx)(C.a,{id:t})})},n))})})})})}var A=n("9SMi");function L({history:e,storyId:t}){const n=Object(o.useDispatch)(),{copy:r,custom_properties:a,experience:s,id:c,objects:p,story_type:h}=Object(o.useSelector)(({stories:e})=>e[t]);if(Object(i.useEffect)(()=>{"landing_page"===h&&(e=>{n(Object(d.o)(e))})(s)},[]),"landing_page"!==h)return null;const{button_text:b,subtitle_text:m,title_text:j}=r,f=()=>{(e=>{n(Object(A.a)(e))})(c),(e=>{n(Object(d.b)(e))})(s)};return Object(u.jsxs)(l.f,{paddingX:2,paddingY:5,children:[Object(u.jsx)(l.u,{align:"center",overflow:"normal",size:"sm",children:j}),Object(u.jsx)(l.f,{marginTop:1,children:Object(u.jsx)(l.cb,{align:"center",overflow:"normal",size:"md",children:m})}),Object(u.jsx)(l.f,{paddingY:4,children:Object(u.jsx)(l.bb,{onTap:f,children:Object(u.jsx)(E,{history:e,paddingBottomPercentage:"45%",pinIds:p.map(({id:e})=>e)})})}),Object(u.jsx)(l.f,{display:"flex",justifyContent:"center",children:Object(u.jsx)(l.g,{inline:!0,onClick:()=>{f(),e.push(a.path)},size:"lg",text:b})})]})}var F=n("Wjv+"),D=n("mp1x"),B=n("ihsa"),M=n("U1vm");function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends i.Component{constructor(...e){super(...e),R(this,"onButton1Click",e=>{if(!e){const{dismissExperience:e,experience:t}=this.props;t&&t.placement_id&&t.experience_id&&e(t.placement_id,t.experience_id)}}),R(this,"onButton2Click",e=>{if(1===e||2===e){const{completeExperience:e,experience:t}=this.props;t&&t.placement_id&&t.experience_id&&e(t.placement_id,t.experience_id)}}),R(this,"isExternalLink",e=>e.startsWith("https://")||e.startsWith("http://"))}render(){const{experience:e}=this.props;if(!e||2!==e.type||!e.display_data)return null;const{background_color_mweb:t,button1_color_mweb:n,button1_text:i,button1_uri:o,button2_color_mweb:r,button2_text:a,button2_uri:s,complete_action:c,detailed_text:d,detailed_text_with_links:p,detailed_text_align:h,primary_color_mweb:b,title_text:m,title_text_align:j}=e.display_data;return Object(u.jsxs)(l.f,{dangerouslySetInlineStyle:t?{__style:{backgroundColor:t||"darkGray"}}:null,color:t?null:"darkGray",paddingX:6,paddingY:6,marginBottom:3,rounding:4,children:[m&&Object(u.jsx)(l.cb,{color:b||"white",overflow:"normal",weight:"bold",align:j||"left",children:Object(u.jsx)("div",{style:{fontSize:"20px"},children:m})}),(p||d)&&Object(u.jsxs)(l.cb,{color:b||"white",overflow:"normal",align:h||"left",children:[Object(u.jsx)(B.a,{unsafeCSS:"\n                  .nag-text a {\n                    color: white;\n                    text-decoration: underline;\n                  }"}),Object(u.jsx)("div",{className:"nag-text",style:{marginTop:"8px"},dangerouslySetInnerHTML:{__html:p||d}})]}),Object(u.jsxs)(l.f,{display:"flex",justifyContent:"between",marginTop:4,marginStart:-2,marginEnd:-2,children:[i&&Object(u.jsx)(l.f,{paddingX:1,column:6,flex:"grow",children:o?Object(u.jsx)(M.a,{accessibilityLabel:i,color:n||"transparent",text:i,to:o,external:this.isExternalLink(o),shape:"pill"}):Object(u.jsx)(l.g,{color:n||"transparent",onClick:()=>this.onButton1Click(o),text:i})}),a&&Object(u.jsx)(l.f,{paddingX:1,column:6,flex:"grow",children:s?Object(u.jsx)(M.a,{accessibilityLabel:a,color:r||"white",text:a,onTouch:()=>this.onButton2Click(c),to:s,external:this.isExternalLink(s),shape:"pill"}):Object(u.jsx)(l.g,{color:r||"white",onClick:()=>this.onButton2Click(c),text:a})})]})]})}}var z=Object(w.compose)(Object(o.connect)(null,e=>({completeExperience:(t,n)=>e(Object(d.a)(t,n)),dismissExperience:(t,n)=>e(Object(d.d)(t,n))})),_.l)(N),H=n("Bb4+"),U=n("o+5w"),W=n("G5lw"),G=n("lnDX"),q=n("eOdZ"),V=n("rYoy"),Y=n("OadL"),K=n("qpbZ"),X=n("TXO6");function $(){const e=Object(T.c)(),t=Object(o.useSelector)(e=>e),n=Object(Y.i)(t);return n?Object(u.jsxs)(l.f,{color:"white",paddingX:5,paddingY:8,width:"100%",children:[Object(u.jsx)(l.f,{marginBottom:2,children:Object(u.jsx)(l.cb,{align:"center",children:Object(X.d)(n)?Object(K.b)(e._("Welcome {{firstName}}!","SaveEducationExperience.WelcomeNewUserText","Welcome new user message"),{firstName:n.first_name}):Object(K.b)(e._("Welcome back {{firstName}}!","SaveEducationExperience.WelcomeText","Welcome back user message"),{firstName:n.first_name})})}),Object(u.jsx)(l.u,{align:"center",size:"sm",children:Object(X.d)(n)?e._("Your feed gets better the more you save. So when you see something you like, save it!","SaveEducationExperience.Education.NewUser","Educating new users on the benefits of saving pins"):e._("Get back in by savings ideas that inspire you. The more you save the better it gets","SaveEducationExperience.Education","Educating users on the benefits of saving pins")})]}):null}var Q=n("fM3H");function Z(e){const{animationData:t,autoplay:o,initialSegment:r,loop:a,onComplete:s,onConfigReady:c,onDataFailed:l,onDataReady:d,onDestroy:p,onDOMLoaded:u,onEnterFrame:h,onLoadedImages:b,onLoopComplete:m,onSegmentStart:j}=e,[f,g]=Object(i.useState)(null),[x,O]=Object(i.useState)(!1),y=Object(i.useRef)(null),w=Object(i.useRef)(null),v=async()=>{const e=await n.e(713).then(n.t.bind(null,"qFE6",7));g(e)};Object(i.useEffect)(()=>{v()},[]);return Object(i.useEffect)(()=>{var t;if(!w.current||!f)return;null===(t=y.current)||void 0===t||t.destroy();const n={...e,container:w.current};y.current=f.loadAnimation(n),O(!!y.current)},[w,y,t,f,e]),Object(i.useEffect)(()=>{y.current&&(y.current.loop=!!a,a&&y.current.isPaused&&y.current.play())},[a]),Object(i.useEffect)(()=>{y.current&&(y.current.autoplay=!!o)},[o]),Object(i.useEffect)(()=>{y.current&&(r?Array.isArray(r)&&r.length&&((y.current.currentRawFrame<r[0]||y.current.currentRawFrame>r[1])&&(y.current.currentRawFrame=r[0]),y.current.setSegment(r[0],r[1])):y.current.resetSegments(!1))},[r]),Object(i.useEffect)(()=>{const e=[{name:"complete",handler:s},{name:"loopComplete",handler:m},{name:"enterFrame",handler:h},{name:"segmentStart",handler:j},{name:"config_ready",handler:c},{name:"data_ready",handler:d},{name:"data_failed",handler:l},{name:"loaded_images",handler:b},{name:"DOMLoaded",handler:u},{name:"destroy",handler:p}].filter(e=>null!=e.handler);return()=>{if(!e.length)return;e.map(e=>{var t;return null===(t=y.current)||void 0===t||t.addEventListener(e.name,e.handler),()=>{var t;null===(t=y.current)||void 0===t||t.removeEventListener(e.name,e.handler)}}).forEach(e=>e())}},[s,m,h,j,c,d,l,b,u,p]),{animationContainerRef:w,play:()=>{var e;null===(e=y.current)||void 0===e||e.play()},stop:()=>{var e;null===(e=y.current)||void 0===e||e.stop()},pause:()=>{var e;null===(e=y.current)||void 0===e||e.pause()},setSpeed:e=>{var t;null===(t=y.current)||void 0===t||t.setSpeed(e)},goToAndStop:(e,t)=>{var n;null===(n=y.current)||void 0===n||n.goToAndStop(e,t)},goToAndPlay:(e,t)=>{var n;null===(n=y.current)||void 0===n||n.goToAndPlay(e,t)},setDirection:e=>{var t;null===(t=y.current)||void 0===t||t.setDirection(e)},playSegments:(e,t)=>{var n;null===(n=y.current)||void 0===n||n.playSegments(e,t)},setSubframe:e=>{var t;null===(t=y.current)||void 0===t||t.setSubframe(e)},getDuration:e=>{var t;return null===(t=y.current)||void 0===t?void 0:t.getDuration(e)},destroy:()=>{var e;null===(e=y.current)||void 0===e||e.destroy()},animationLoaded:x,animationItem:y.current}}const J=new l.s(5);function ee({experience:e}){const t=Object(T.c)(),n=Object(o.useDispatch)(),[r,a]=Object(i.useState)(0);Object(i.useEffect)(()=>{let t;a(1);const i=setTimeout(()=>{a(0),t=setTimeout(()=>{n(Object(d.a)(e.placement_id,e.experience_id))},500)},6e3);return()=>{clearTimeout(i),clearTimeout(t),Object(k.e)("homefeed")}},[n,e,a]);const s={animationData:Q,loop:!0,autoplay:!0},{animationContainerRef:c}=Z(s);return Object(u.jsxs)(l.f,{color:"white",opacity:r,position:"relative",zIndex:J,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s ease",height:"100vh",width:"100vw"}},children:[Object(u.jsx)(B.a,{unsafeCSS:"@keyframes slideUp {\n  0% {\n    transform: translateY(60px);\n    opacity: 0;\n  }\n  33% {\n    transform: translateY(40px);\n    opacity: 0;\n  }\n  90% {\n    transform: translateY(-2px);\n    opacity: 1;\n  }\n  100% {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}"}),Object(u.jsx)(l.f,{ref:c}),Object(u.jsx)(l.f,{display:"flex",justifyContent:"center",position:"absolute",width:"100%",dangerouslySetInlineStyle:{__style:{animationName:"slideUp",animationDuration:"1s",animationTimingFunction:"ease-in-out",top:"33%"}},children:Object(u.jsx)(l.u,{align:"center",size:"md",children:t._("Nice! Keep saving to get better and better ideas in your feed.","SaveImproveHFEducation.Message","Education for users letting them know saving Pins improves their homefeed.")})}),Object(u.jsxs)(l.f,{display:"flex",direction:"column",alignItems:"center",position:"absolute",width:"100%",dangerouslySetInlineStyle:{__style:{bottom:"48px"}},children:[Object(u.jsx)(l.f,{paddingY:4,children:Object(u.jsx)(l.U,{accessibilityLabel:t._("Updating feed","SaveImproveHFEducation.Spinner.AccessibilityLabel","Accessibility label on a spinner"),show:!0})}),Object(u.jsx)(l.cb,{size:"lg",children:t._("We’re updating your home feed...","SaveImproveHFEducation.LoadingMessage","Loading message on homefeed takeover experience")})]})]})}var te=n("Ptwp"),ne=n("l+Ya"),ie=n("28DW"),oe=n("fgXV"),re=n("QtD7"),ae=n("r8+8"),se=n("isjV"),ce=n("vtuW"),le=n("3/Bf"),de=n("9hhy"),pe=n("5SBu"),ue=n("2COb"),he=n("ulr2"),be=n("nwTc"),me=n("QAzJ"),je=n("44UH"),fe=n("xfna"),ge=n("pE5B"),xe=n("kUgr"),Oe=n("F2ZA"),ye=n("0G5S");function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ve="homefeed",_e=new Set(["/","/today"]),Se=1.5,Te="DELAYED_NUX_TIME",ke=Object(r.a)({feedKey:ve,trafficSource:"feed_home",resourceName:"UserHomefeedResource",resourceOptions:()=>({field_set_key:"mobile_grid_item",prepend:!1,in_nux:Object(o.useSelector)(({session:e})=>e.firstHomeFeedRequestAfterNux)}),feedItemProps:e=>({viewParameter:92,viewType:1,onFeedItemClick:()=>{e.onFeedItemClick&&e.onFeedItemClick()}}),pullToRefresh:!0}),Ie=Object(i.lazy)(()=>n.e(674).then(n.bind(null,"VEJH"))),Pe=Object(i.lazy)(()=>n.e(657).then(n.bind(null,"vWH5"))),Ce=Object(i.lazy)(()=>Promise.all([n.e("routes-NuxContainerPage"),n.e(670)]).then(n.bind(null,"DTta"))),Ee=Object(i.lazy)(()=>n.e(673).then(n.bind(null,"Igo8"))),Ae={911373384406:!1,924581335376:!1,895298746787:!1,944938374183:!1,922773544354:!1},Le=(e,t)=>e.state&&e.state.showError?Object(u.jsx)(y.a,{duration:5e3,isError:!0,text:t._("We can’t find that idea! Try searching for one just like it.")}):null,Fe=e=>{var t;return Object(xe.f)(null===(t=e.experience)||void 0===t?void 0:t.experience_id)&&!Object(ye.a)(Te,0)&&e.isIndiaDelayNuxEnabledAndActivate()};class De extends i.PureComponent{constructor(e){var t;if(super(e),we(this,"state",{...Object(xe.a)(),currentTabIndex:"number"==typeof this.props.selectedTabIndex?this.props.selectedTabIndex:502530===(null===(t=this.props.experience)||void 0===t?void 0:t.experience_id)?ge.a+1:ge.a,delayNux:Fe(this.props),preparingGenderAndTopics:Fe(this.props),showNuxWelcome:!1}),we(this,"shouldShowTodayTab",!1),we(this,"shouldShowFollowingFeedTab",!0),we(this,"updatingGenderAndTopics",!1),we(this,"currInnerHeight",0),we(this,"claimReferral",e=>{Object(ie.a)("mweb.partner.referral.claim.attempt");const t=de.a.getData();q.a.create("ReferralClaimResource",{referralCode:t,receiverUserId:e}).callUpdate().then(()=>{de.a.setSenderOfferClaimed(),Object(ie.a)("mweb.partner.referral.claim.success"),this.props.showToast({duration:5e3,text:this.props.i18n._("You’ve claimed an offer. Launch ads to get started.","business_hub.offer_toast.success","Toast indicating a referral offer was successfully claimed"),href:"/business/install_app"})}).catch(()=>{de.a.resetStatus(),Object(ie.a)("mweb.partner.referral.claim.error"),this.props.showToast({isError:!0,duration:5e3,text:this.props.i18n._("Sorry, you don’t qualify for this offer","business_hub.offer_toast.error","Toast indicating a referral offer could not be claimed")})}),Fe(this.props)&&window.removeEventListener("scroll",this.onScroll)}),we(this,"onScroll",()=>{!this.updatingGenderAndTopics&&window.pageYOffset>window.innerHeight*Se&&this.cancelDelayedNux()}),we(this,"cancelDelayedNux",()=>{this.updatingGenderAndTopics=!0,Object(ye.c)(Te,(new Date).getTime()),this.props.updateTopics(Ae).then(()=>{this.props.saveGender("unspecified",()=>{this.setState({delayNux:!1},()=>{this.updatingGenderAndTopics=!0}),setTimeout(()=>{this.setState({showNuxWelcome:!1})},1e3)})})}),we(this,"onFeedItemClick",()=>{this.cancelDelayedNux()}),we(this,"renderRenux",()=>{const{experience:e,viewedImages:t}=this.props,{extraPlpImages:n}=this.state,i=t,o=i.concat(n.filter(e=>!i.includes(e)));return e?Object(u.jsx)(V.a,{fallback:Object(u.jsx)(F.a,{accessibilityLabel:this.props.i18n._("Loading experience","loading experience spinner","loading experience spinner")}),children:Object(u.jsx)(Ie,{experience:e,extraImageInfo:o})}):null}),e.inIndiaDelayNuxGroup&&this.state.delayNux){const t=[new Promise(t=>e.saveGender("male",()=>t())),e.submitTopics(Object.keys(Ae))];Promise.all([t]).then(()=>{this.setState({preparingGenderAndTopics:!1})}),setTimeout(()=>{this.setState({showNuxWelcome:!0})},2e3)}}static getDerivedStateFromProps(e){const{selectedTabIndex:t,location:{pathname:n}}=e;return!t&&n.startsWith("/today")?{currentTabIndex:ge.a+1}:!t&&n.startsWith("/following")?{currentTabIndex:ge.a+2}:"number"==typeof t?{currentTabIndex:t}:null}componentDidMount(){const{currentUserId:e,dispatchViewedSharedPins:t,isPartner:n,locale:i,pwtStaticContext:o,isAuthenticated:r,userCountry:a,userShouldSeeFollowingTab:s}=this.props,{sharedPinData:c}=this.state;Object(ue.a)(!1),Object(te.a)(),c&&Object.keys(c).length>0&&t(c),n&&e&&de.a.shouldClaimReferral()&&this.claimReferral(e),r&&Object(le.d)({appLoadName:"home_feed_pinteractive",clientNavName:"home_feed_render"},o);const{isTodayTabEnabledAndActivate:l,showQuickSave:d}=this.props;this.shouldShowTodayTab=!d&&Object(Oe.h)(a,i)&&l(),this.shouldShowFollowingFeedTab=!d&&s,Fe(this.props)&&window.addEventListener("scroll",this.onScroll)}render(){const{experience:e,history:t,homefeed:n,i18n:o,inIndiaDelayNuxGroup:r,isAuthenticated:c,isPartner:d,location:p,unauthSavePinId:h,selectedTabBoardId:b,showQuickSave:m,tabBoards:f}=this.props,{currentTabIndex:g,delayNux:x,preparingGenderAndTopics:y,showNuxWelcome:w}=this.state,_=this.shouldShowTodayTab&&g===ge.a+1,S=this.shouldShowFollowingFeedTab&&g===ge.a+2,T=S?0:92,k=Object(v.k)(p.search),I=k&&k.boardId||b;let C=null;if(e&&!x)switch(e.experience_id){case 40002:case 10105:if(C=Object(u.jsx)(V.a,{fallback:Object(u.jsx)(F.a,{accessibilityLabel:this.props.i18n._("Loading new user education","Loading spinner","Loading spinner")}),children:d?Object(u.jsx)(Ee,{experience:e}):Object(u.jsx)(i.Fragment,{children:r?Object(u.jsx)(D.a,{isOpen:!0,hideCloseIcon:!0,type:"nux-modal-on-hf",isLegoModal:!0,isSlideUp:!0,children:Object(u.jsx)(Ce,{experience:e,refreshFeedOnComplete:!0,inMobileModal:!0})}):Object(u.jsx)(Ce,{experience:e})})}),r)break;return C;case 500450:return this.renderRenux();case 500681:return Object(u.jsx)(V.a,{fallback:Object(u.jsx)(F.a,{accessibilityLabel:this.props.i18n._("Loading experience","loading experience spinner","loading experience spinner")}),children:Object(u.jsx)(Pe,{})});case 503117:return Object(u.jsx)(ee,{experience:e})}return Object(u.jsx)(U.a,{viewType:1,viewParameter:T,children:Object(u.jsx)(O.a,{view:1,viewParameter:T,children:Object(u.jsxs)(H.b,{dataLayoutShiftBoundaryId:"AuthHomePageContainer",hasFixedHeader:!0,children:[(!m&&!(null==f||!f.length)||this.shouldShowTodayTab)&&Object(u.jsx)(ae.c,{noPadding:!0,hideOnScroll:c,overrideTop:0,children:Object(u.jsx)(l.f,{paddingY:1,children:Object(u.jsx)(ge.b,{tabBoards:f||[],currentTabIndex:g,currentBoardId:I,shouldShowFollowingFeedTab:this.shouldShowFollowingFeedTab,shouldShowTodayTab:this.shouldShowTodayTab})})}),f&&f.length&&I?Object(u.jsx)(P,{boardId:I}):_?Object(u.jsx)(ne.a,{numDaysToFetch:Oe.a}):S?Object(u.jsx)(se.FollowingFeed,{history:t,location:p}):Object(u.jsxs)(i.Fragment,{children:[Object(u.jsx)(s.a,{experience:e}),Object(u.jsx)(a.a,{experience:e,eligibleIds:[500684,500683,500726,500866,500735,500833,501182,501275,501385,501358,501908,501909,110002,110001,503291],children:Object(u.jsx)(z,{experience:e})}),Object(u.jsx)(j,{experience:e}),m&&!h&&Object(u.jsx)($,{}),Array.isArray(n)&&n.length>0&&"story"===n[0].type&&Object(u.jsx)(l.f,{marginStart:-2,marginEnd:-2,marginTop:-1,marginBottom:1,children:Object(u.jsx)(L,{history:t,storyId:n[0].id})}),r?!y&&Object(u.jsxs)(i.Fragment,{children:[C,Object(u.jsx)(ke,{onFeedItemClick:this.onFeedItemClick})]}):Object(u.jsx)(ke,{})]}),Le(p,o),w&&Object(u.jsx)(D.a,{isLegoModal:!0,allowScrolling:!0,disableMask:!0,isOpen:!0,isSlideUp:!0,onDismiss:()=>{},hideCloseIcon:!0,type:"nux_intro_peak_out",children:Object(u.jsxs)(l.f,{paddingY:7,paddingX:3,display:"flex",direction:"column",alignItems:"center",children:[Object(u.jsx)(l.u,{size:"sm",children:this.props.i18n._("Welcome to Pinterest","nux hf first welcome title","nux hf first welcome title")}),Object(u.jsx)(l.f,{maxWidth:"330px",marginTop:2,children:Object(u.jsx)(l.cb,{size:"md",align:"center",children:this.props.i18n._("Explore ideas and images from all over the web, save ideas and discover new interests.","nux hf first welcome message","nux hf first welcome message")})}),Object(u.jsx)(l.f,{marginTop:4,children:Object(u.jsx)(l.g,{color:"red",onClick:this.cancelDelayedNux,type:"button",text:this.props.i18n._("Get started","nux hf first welcome message cta","nux hf first welcome message cta")})})]})})]})})})}}const Be=e=>{const t=Object(T.c)(),{experience:n,history:i,location:o,pwtStaticContext:r}=e,a=Object(je.b)(null==n?void 0:n.experience_id);return Object(u.jsx)(De,{...e,experience:n,history:i,i18n:t,location:o,pwtStaticContext:r,showQuickSave:a})},Me=Object(Y.a)("homefeed-more-ideas-tabs"),Re=[],Ne=Object(w.compose)(_.l,Object(o.connect)(e=>{const{feeds:{homefeed:t},pins:n,homefeedTabUI:{activeTabBoardId:i,activeTabIndex:o},session:{isAuthenticated:r,locale:a,twaType:s,viewedImages:c,unauthSavePinId:l}}=e,d=Object(Y.i)(e);return{currentUserId:d?d.id:null,homefeed:t,isAuthenticated:r,isNewUser:Object(X.d)(d),isPartner:!!(d||{}).is_partner,locale:a,pins:n,selectedTabBoardId:i,selectedTabIndex:o,viewedImages:c||[],unauthSavePinId:l,userCountry:d&&d.country||"",userShouldSeeFollowingTab:!!d&&Boolean(d.show_following_tab),twaType:s}},e=>({dispatchViewedSharedPins:t=>e(Object(he.A)(t)),isTodayTabEnabledAndActivate:()=>["enabled","employees"].includes(e(Object(re.a)("mweb_today_tab_v1"))),isIndiaDelayNuxEnabledAndActivate:()=>(e(Object(re.a)("mweb_india_delay_nux"))||"").startsWith("enabled"),saveGender:(t,n)=>e(Object(pe.h)("gender",t.toLowerCase(),n,()=>{})),submitTopics:t=>e(Object(d.j)(t,[],!1)),updateTopics:t=>e(Object(be.f)(t))})),Object(oe.a)({name:"MoreIdeasTabsBoardsResource",key:"moreIdeasTabsBoardsResource",options:()=>({redux_normalize_feed:!0}),mapState:e=>{const t=(Me(e)||Re).map(t=>e.boards[t.id]),n=Object(Y.i)(e),i=!!(n||{}).is_partner;return{isNewUser:Object(X.d)(n),isPartner:i,tabBoards:t}}}),y.b)(e=>{const t=Object(fe.c)(),n=Object(_.h)(),i=Object(_.i)(),o="true"===Object(ce.a)("completedMiniRenux"),r=Object(me.b)("mweb_india_delay_nux")({dangerouslySkipActivation:!0}).anyEnabled;return Object(u.jsx)(G.a,{surface:"homefeed",measureGridVisuallyComplete:!0,annotateExperiments:["auth_later_scripts"],children:Object(u.jsx)(W.a,{id:40001,extraContext:o?{completed_mini_renux:o}:void 0,shouldUsePlacedExperience:!1,children:({experience:o})=>Object(u.jsx)(Be,{...e,experience:o,history:n,location:i,pwtStaticContext:t,inIndiaDelayNuxGroup:r})})})});t.default=Ne},O0mV:function(e,t){e.exports="https://s.pinimg.com/webapp/NL@2x-d31d4a18.png"},PLBO:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));const i="uploaded",o="pinbuilder"},Pezf:function(e,t,n){function i({m:e=0,h:t=0}){let n;return n=t<=0?t:e>45?t+1:e>15?t+.5:t,{m:e,h:t,rm:t>0?0:e,rh:n}}function o(e){const t=Math.floor(e/3600);return i({m:Math.floor(e%3600/60),h:t})}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}))},QIyF:function(e,t,n){var i=n("Kz5y");e.exports=function(){return i.Date.now()}},QqZJ:function(e,t,n){var i=n("nKUr");t.a=e=>{const t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return Object(i.jsx)("div",{...t,children:e.children||null})}},QwGr:function(e,t,n){t.a=function(e){if(e){const t=e.shopping_flags||[],n={pin_is_shop_the_look:t.includes(2),is_available:t.includes(1),is_product_pin_v2:t.includes(5),is_rich_product_pin:t.includes(6)};return JSON.stringify(n)}}},Ryq3:function(e,t){e.exports="https://s.pinimg.com/webapp/RO@2x-112e3f0c.png"},S1kg:function(e,t){e.exports="https://s.pinimg.com/webapp/PT@2x-1cf70049.png"},SBn3:function(e,t,n){var i=n("g6r8"),o=n("n6mq"),r=n("lIsI"),a=n("nKUr");t.a=({children:e,roundedForLargeDevice:t})=>{const n="phone"!==Object(i.a)()&&t;return Object(r.c)()?Object(a.jsx)(o.f,{marginStart:-r.a,marginEnd:-r.a,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:Object(a.jsx)(r.b,{value:!1,children:e})}):e}},"SW+8":function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("/MKj"),r=n("ihsa"),a=n("n6mq"),s=n("nKUr");const c=2500,l={__style:{right:"-105px"}},d={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},u={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}};t.b=Object(i.memo)(({children:e})=>{const t=Object(o.useSelector)(({pins:e,session:t,users:n})=>{const i=n[t.userId].last_repin_id;return i?e[i]:null}),n=Object(o.useSelector)(({session:e})=>e.isShowingRepinAnimation);if(!t||!n)return e;const{images:i}=t,{height:c,width:h,url:b}=(null==i?void 0:i["136x136"])||(null==i?void 0:i["236x"])||{};return Object(s.jsxs)(a.f,{display:"flex",justifyContent:"center",flex:"grow",children:[Object(s.jsx)(r.a,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),Object(s.jsxs)(a.f,{position:"relative",children:[Object(s.jsxs)(a.f,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:l,children:[Object(s.jsx)(a.f,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:d}),Object(s.jsx)(a.f,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:p,children:Object(s.jsx)(a.C,{rounding:2,height:"100%",width:"100%",wash:!0,children:Object(s.jsx)(a.x,{alt:"pin-image",fit:"cover",naturalWidth:h,naturalHeight:c,src:b})})})]}),Object(s.jsx)(a.f,{dangerouslySetInlineStyle:u,children:e})]})]})})},SvRC:function(e,t,n){n.d(t,"d",(function(){return K})),n.d(t,"b",(function(){return X})),n.d(t,"e",(function(){return Q})),n.d(t,"a",(function(){return te})),n.d(t,"c",(function(){return ne}));var i=n("q1tI"),o=n("/MKj"),r=n("9Hil"),a=n("ihsa"),s=n("o+5w"),c=n("r8+8"),l=n("4lNu"),d=n("ulr2"),p=n("wMN6"),u=n("yweb"),h=n("n6mq"),b=n("nKUr");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],f=[140,220,265],g="BizNuxHomefeedLoader",x=[g+"_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }",g+"_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }"];class O extends i.PureComponent{constructor(...e){super(...e),m(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),m(this,"enterAnimationDidFinished",()=>{this.setState({enterAnimationFinished:!0})}),m(this,"startExitAnimation",()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},()=>{this.exitAnimationTimeout=setTimeout(()=>{e()},1700)})})}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout(()=>{this.enterAnimationDidFinished()},2e3)}componentDidUpdate(e){const{homefeedLoading:t}=this.props,{enterAnimationFinished:n,startExitAnimation:i}=this.state;!n||t||i||Object(p.n)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),n=Array.from({length:this.numberOfColumns},e=>[]);for(let i=0;i<t.length;i+=1){const e=t[i].getBoundingClientRect();n[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return n}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,n){const i=this.numberOfColumns+1,o=(window&&window.innerWidth-16*i)/this.numberOfColumns;return{left:e*o+16*(e+1),top:n,width:o,height:f[(e+t)%f.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,n=Array(this.numberOfColumns).fill(c.a),i=this.gridCellDimensionsByColumn,o=e.map((e,o)=>{const r=o%this.numberOfColumns,a=Math.floor(o/this.numberOfColumns),s=j[o%j.length],c=n[r],l=this.computeGridCellLayout(r,a,c),d=(({color:e,startAnimation:t,originDimension:n,destinationDimension:i={}})=>{const o=i&&i.height>0?{top:i.top,left:i.left,width:i.width,height:i.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:n.height,width:n.width,left:n.left,top:n.top,backgroundColor:e,borderRadius:"8px",...t?o:{}}})({color:s,startAnimation:t,originDimension:l,destinationDimension:i&&i[r][a]});return n[r]+=16+l.height,Object(b.jsx)(h.f,{dangerouslySetInlineStyle:{__style:d},children:Object(b.jsx)(h.f,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:(p=t,p?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:g+"_FadeOut",animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:g+"_FadeOut"}:{})},children:Object(b.jsx)(h.u,{color:"white",size:"md",children:e.name})})},o);var p});return Object(b.jsx)(h.f,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:g+"_SlideUp",transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:g+"_SlideUp"}},children:o})}render(){const{startExitAnimation:e}=this.state;return Object(b.jsx)(s.a,{viewType:24,viewParameter:261,children:Object(b.jsxs)(i.Fragment,{children:[Object(b.jsx)(a.a,{unsafeCSS:Object(l.a)(x)}),Object(b.jsx)(h.f,{color:"white",dangerouslySetInlineStyle:{__style:(t=e,{position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...t?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:g+"_FadeOut",animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:g+"_FadeOut"}:{}})},children:Object(b.jsxs)(h.f,{display:"flex",justifyContent:"start",alignItems:"center",direction:"column",children:[Object(b.jsxs)(i.Fragment,{children:[Object(b.jsx)(r.a,{duration:3700,finalProgress:100}),Object(b.jsx)(h.f,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:g+"_FadeOut",animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:g+"_FadeOut"}},children:Object(b.jsx)(h.u,{children:this.props.i18n._("Personalizing your feed with...","Loading homefeed details","Loading homefeed details")})})]}),this.renderGrid()]})})]})});var t}}var y=Object(o.connect)(({topics:e})=>({selectedTopics:Object.keys(e).filter(t=>e[t].is_followed).map(t=>e[t])}),e=>({dismissLoader:()=>e(Object(d.C)(!1))}))((function(e){const t=Object(u.c)();return Object(b.jsx)(O,{...e,i18n:t})})),w=n("8ifP"),v=n("hlxQ"),_=n("bcHz"),S=n("7w6Q"),T=n("yqcB"),k=n("K/ae"),I=n("AGnR");const P=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],C=[140,220,265],E=["NuxHomefeedLoader_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }","NuxHomefeedLoader_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }"];function A({gridContainerRef:e,homefeedLoading:t}){const n=Object(u.c)(),[m,j]=Object(i.useState)(!1),[f,g]=Object(i.useState)(!1),x=Object(o.useDispatch)(),O=Object(o.useSelector)(({topics:e})=>Object.keys(e).filter(t=>e[t].is_followed).map(t=>e[t]));let y,w;Object(i.useEffect)(()=>(window.scrollTo(0,0),y=setTimeout(()=>{j(!0)},3e3),()=>{clearTimeout(y),clearTimeout(w)}),[]),Object(i.useEffect)(()=>{t||!m||f||Object(p.n)(()=>{g(!0),w=setTimeout(()=>{Object(I.e)({event_type:8900,view_type:24,view_parameter:261}),x(Object(d.H)(!1))},2550)})},[t,m,f]);const v=()=>Math.max(Math.floor(window.innerWidth/200),2),_=n._("Personalizing your feed with...","Loading homefeed details","Loading homefeed details");return Object(b.jsx)(s.a,{viewType:24,viewParameter:261,children:Object(b.jsxs)(i.Fragment,{children:[Object(b.jsx)(a.a,{unsafeCSS:Object(l.a)(E)}),Object(b.jsx)(h.f,{color:"white",dangerouslySetInlineStyle:{__style:(S=f,{position:"absolute",width:"100%",height:"100vh",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...S?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}:{}})},children:Object(b.jsxs)(h.f,{display:"flex",justifyContent:"start",alignItems:"center",direction:"column",children:[Object(b.jsx)(r.a,{color:"darkGray",duration:5550,finalProgress:100}),Object(b.jsx)(h.f,{dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"2.8s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"2.5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}},paddingX:4,paddingY:6,children:Object(b.jsx)(h.u,{size:"md",children:_})}),(()=>{const t=v(),n=Array(t).fill(c.a),i=(()=>{const t=v();if(!e.current)return null;const n=e.current.querySelectorAll(".PinCard__imageWrapper"),i=Array.from({length:t},e=>[]);for(let e=0;e<n.length;e+=1){const o=n[e].getBoundingClientRect();i[Math.round(o.left/(window.innerWidth/t))].push(o)}return i})(),o=O.map((e,o)=>{const r=o%t,a=Math.floor(o/t),s=P[o%P.length],c=((e,t,n)=>{const i=v(),o=i+1,r=(window&&window.innerWidth-8*o)/i;return{left:e*r+8*(e+1),top:n,width:r,height:C[(e+t)%C.length]}})(r,a,n[r]),l=(({color:e,startAnimation:t,originDimension:n,destinationDimension:i={}})=>{const o=i&&i.height>0?{top:i.top,left:i.left,width:i.width,height:i.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:n.height,width:n.width,left:n.left,top:n.top,backgroundColor:e,borderRadius:"8px",...t?o:{}}})({color:s,startAnimation:f,originDimension:c,destinationDimension:i&&i[r][a]});return n[r]+=8+c.height,Object(b.jsx)(h.f,{dangerouslySetInlineStyle:{__style:l},children:Object(b.jsx)(h.f,{margin:4,dangerouslySetInlineStyle:{__style:(d=f,d?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}:{})},children:Object(b.jsx)(h.u,{color:"white",size:"sm",children:e.name})})},o);var d});return Object(b.jsx)(h.f,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100vh",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"2.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_SlideUp",transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"2.4s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_SlideUp"}},children:o})})()]})})]})});var S}var L=n("IaND"),F=n("IayW");const D=120;function B({enabled:e,onPull:t,refreshing:n}){const o=Object(u.c)(),[r,a]=Object(i.useState)(0),s=Object(i.useRef)(null);Object(i.useEffect)(()=>{if(e){const e=e=>{window.scrollY<=0&&!n&&(s.current=e.touches[0].clientY)},i=e=>{if(s.current){const t=.5*(e.touches[0].clientY-s.current);t>0&&(a(t),e.preventDefault())}},o=e=>{s.current&&(r>=D&&t(),s.current=null,a(0))};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",i,{passive:!1}),window.addEventListener("touchend",o),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",i,{passive:!1}),window.removeEventListener("touchend",o)}}},[e,t,r,n]);const c=n?0:r/D,l=Math.min(c,1),d=o._("Pull to refresh","Pull down on grid to refresh items","Pull down on grid to refresh items");return Object(b.jsx)(h.f,{children:e&&Object(b.jsx)(h.f,{display:"flex",alignItems:"center",justifyContent:"center",height:c*D,dangerouslySetInlineStyle:{__style:{opacity:l,transition:null===s.current?"all .3s ease-out":void 0}},children:Object(b.jsx)(h.v,{size:40,icon:s.current&&r<D?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:d})})})}var M=n("t12/"),R=n("h8Qw"),N=n("kUgr"),z=n("PmFr"),H=n("0G5S"),U=n("zAWC"),W=n("g6r8"),G=n("qDpr"),q=n("0HhX"),V=n("EC67");function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const K=({isDesktop:e})=>{const t=Object(U.b)({isDesktop:e});return t?-t:0},X=-2,$={},Q=e=>{$[e]&&$[e].handlePullToRefresh()},Z=(e,t)=>e.slice(0,t).map(e=>e.id),J=()=>{const e="desktop"===Object(W.a)(),t=Object(U.b)({isDesktop:e}),n=t?-t:0;return Object(b.jsx)(h.f,{marginTop:n,marginBottom:n,paddingY:t})};class ee extends i.PureComponent{constructor(...e){super(...e),Y(this,"state",{refreshing:!1,plpIds:Object(N.a)().extraPlpIds,plpFeed:[]}),Y(this,"backonlineAutoFetchResource",()=>{this.props.feedResource.fetchMore()}),Y(this,"onPinTouch",e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}}),Y(this,"handlePullToRefresh",()=>{this.props.feedResource.refresh(),this.setState({refreshing:!0})}),Y(this,"gridContainerRef",Object(i.createRef)()),Y(this,"renderFeedPin",(e,t)=>{const{feedItemProps:n,history:i,isOneTapExploreLocalTab:o,location:r,renderSquarePins:a,showSeoMetadata:s,topLevelTrafficSource:c,topLevelTrafficSourceDepth:l,trafficSource:d,squarePins:p}=this.props,{auxData:u,componentType:h,feedback:m,imageOnly:j,impressionData:f,objectIdStr:g,oneTapSaveToBoardId:x,onFeedItemClick:O,onPinLinkClick:y,showSeoMetadata:w,viewData:v,viewParameter:_,viewType:S}=n||{},T=(r.search||"").includes("force_seo");return Object(b.jsx)(U.a,{auxData:u,componentType:h||0,feedback:m,history:i,imageOnly:j,impressionData:f,isOneTapExploreLocalTab:o,isSquarePin:a||p,location:r,objectIdStr:g,oneTapSaveToBoardId:x,onPinClick:O,onPinLinkClick:y,pinId:e.id,showSeoMetadata:s||T||w,slotIndex:t,topLevelTrafficSource:c,topLevelTrafficSourceDepth:l,trackingParams:e.trackingParams,trafficSource:d,viewData:v,viewParameter:_,viewType:S||1})}),Y(this,"renderFeedItem",({data:e,itemIdx:t})=>{const{feedOffset:n=0,breakIn:i,renderFeedItem:o,feedItemProps:r}=this.props;if(o)return o(e,t);const{viewParameter:a,viewType:s}=r||{};if(n>t)return null;switch(e.type){case"pin":return Object(b.jsx)(_.a,{onTouch:this.onPinTouch,pressState:"none",children:this.renderFeedPin(e,t)});case"user":return Object(b.jsx)(v.a,{userId:e.id,viewParameter:a,viewType:s,truncateName:!0});case"board":return Object(b.jsx)(w.a,{boardId:e.id,type:"grid",viewParameter:a,viewType:s});case"topic":return Object(b.jsx)(R.a,{id:e.id,showFollowerCount:!0,showFollowButton:!0,shouldClickthrough:!0,viewType:s,viewParameter:a});case"story":return"number"==typeof a?Object(b.jsx)(F.a,{slotIndex:t,storyId:e.id,viewType:s||1,viewParameter:a}):null;case"randomCuratedLinks":case"interestLinks":return(null==i?void 0:i.content)||null;default:return null}})}componentDidMount(){window.addEventListener("online",this.backonlineAutoFetchResource);const{logFeed:e,feedKey:t,feedItemProps:n}=this.props;if(e){const{viewParameter:e,viewType:t,auxData:i,componentType:o}=n||{},r={event_type:13};e&&(r.view_parameter=e),t&&(r.view_type=t),i&&(r.aux_data=i),o&&(r.component=o),Object(I.e)(r)}((e,t)=>{$[e]=t})(t,this)}setPlpFeedData(e){const{feedItems:t,pins:n}=this.props,{plpIds:i}=this.state;if(e)return Object(H.b)(z.h),void this.setState({plpIds:[],plpFeed:[]});if(i.length>0&&t&&t.length>0){const e=i[0],o=n[e],r=t.slice(0,5).map(e=>e.id).includes(e);o&&!r&&this.setState({plpFeed:[{id:i[0],type:"pin",trackingParams:t[0].trackingParams}].concat(t)})}}logHomefeedRefreshStats(e,t,n,i){const{locale:o}=this.props,{refreshing:r}=this.state;if(r&&t.fetching&&!e.fetching&&n&&n.length>0&&i&&i.length>0){const e=Z(i,5),t=Z(n,5),r={appType:"mweb",language:(o?o.slice(0,2):void 0)||"unknown",locale:o||"unknown"};S.a.increment("home_product.homefeed.refresh",1,r),a=e,s=t,JSON.stringify(a)===JSON.stringify(s)&&S.a.increment("home_product.homefeed.refresh.no_change",1,r)}var a,s}componentDidUpdate(e){const{feedItems:t}=e,{feedKey:n,feedItems:i}=this.props,{plpFeed:o,plpIds:r,refreshing:a}=this.state,s="homefeed"===n;a&&e.feedResource.fetching&&!this.props.feedResource.fetching&&this.setState({refreshing:!1}),s&&this.logHomefeedRefreshStats(this.props.feedResource,e.feedResource,i,t);const c=r.length>0;if(s&&c){const e=!!t&&t.length>0,n=!!i&&i.length>0,r=!e&&n,a=!!i&&i.length>0&&!!t&&t.length>0&&t[0]!==i[0],s=!!i&&i.length>0&&!!t&&t.length>0&&t[0]===i[0]&&t.length!==i.length,c=n&&!a&&0===o.length;(r||a||s||c)&&this.setPlpFeedData(a)}}componentWillUnmount(){var e;window.removeEventListener("online",this.backonlineAutoFetchResource),e=this.props.feedKey,delete $[e]}renderFeedItems(e){const{breakIn:t,deviceType:n,feedKey:o,feedResource:r,showNuxHomefeedLoader:a,showBizNuxHomefeedLoader:s,gridConfig:c,pullToRefresh:l,emptyState:d,serverRender:p}=this.props,{key:u}=c||{},m=o+(u?"|"+u:""),j={columnWidth:"desktop"===n?G.b:200,comp:this.renderFeedItem,gutterWidth:"desktop"===n?4*G.a:void 0,loadItems:r.fetchMore,minCols:2,...c},f=!a&&!s&&r.fetching&&!this.state.refreshing,g="row"===(null==t?void 0:t.item.type),x=g&&null!=t&&t.position?e.slice(0,t.position):e,O=g&&null!=t&&t.showItemsAfterBreak?e.slice(t.position):[];return Object(b.jsxs)(h.f,{"data-test-id":"MobileFeed",children:[Object(b.jsx)(B,{enabled:!!l,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),Object(b.jsxs)(h.f,{marginStart:G.c,marginEnd:G.c,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[Object(b.jsx)(T.a,{isAtEndOfFeed:r.isAtEnd,...this.props.pins&&Object.values(this.props.pins).length>0?{pinData:Object.values(this.props.pins)}:null,itemCount:e.length,children:e.length?Object(b.jsx)(h.f,{"data-test-id":"feed",marginTop:K({isDesktop:"desktop"===n}),children:Object(b.jsx)(M.a.Consumer,{children:e=>Object(b.jsxs)(i.Fragment,{children:[Object(b.jsx)(k.a,{cacheKey:m,id:p?o:void 0,items:x,scrollContainerRef:e,serverRender:p,...j}),g&&(null==t?void 0:t.content),O.length>0&&Object(b.jsx)(k.a,{cacheKey:m+"_afterBreak",items:O,scrollContainerRef:e,...j})]})})}):r.fetching?Object(b.jsx)(J,{}):null!=d?d:null}),f&&Object(b.jsx)(h.f,{column:12,paddingY:2,children:Object(b.jsx)(L.a,{})}),a&&Object(b.jsx)(A,{homefeedLoading:r.fetching,gridContainerRef:this.gridContainerRef}),s&&Object(b.jsx)(y,{homefeedLoading:r.fetching,gridContainerRef:this.gridContainerRef})]})]})}render(){const{feedItems:e,feedKey:t,isAuthenticated:n}=this.props,{plpFeed:i}=this.state,o=e||[];return"homefeed"!==t?this.renderFeedItems(o):n&&i.length>0?this.renderFeedItems(i):this.renderFeedItems(o)}}function te({resourceFetchState:{hasError:e,errorRedirect:t,...n},itemShouldBeExcluded:i,...r}){const{breakIn:a,feedKey:s}=r,c=Object(V.i)(),l=Object(V.h)(),p=Object(W.a)(),u=Object(o.useDispatch)(),{isAuthenticated:h,isBizNuxHomefeedLoadShown:m,isNuxHomefeedLoadShown:j,isSeoBot:f,locale:g}=Object(o.useSelector)(({session:e})=>e),x=Object(o.useSelector)(({feeds:e})=>e[s]),O=Object(o.useSelector)(({pins:e})=>e),y=Object(o.useSelector)(({session:e})=>e.firstHomeFeedRequestAfterNux);"homefeed"===s&&x&&x.length>0&&y&&u(Object(d.R)(!1));let w=x;return w&&(a&&a.item&&("randomCuratedLinks"===a.item.type||"interestLinks"===a.item.type)&&(w=[...x.slice(0,a.position),a.item,...x.slice(a.position)]),i&&(w=w.filter(e=>!i(e)))),Object(b.jsx)(ee,{...r,deviceType:p,feedItems:w,feedResource:n,history:l,isAuthenticated:h,showBizNuxHomefeedLoader:!!m,showNuxHomefeedLoader:!!j,locale:g,location:c,pins:O,showSeoMetadata:f})}function ne({resourceConfig:e,...t}){const n=Object(q.a)(e);return Object(b.jsx)(te,{...t,resourceFetchState:n})}},TO8r:function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},TR77:function(e,t,n){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var i=n("/MKj"),o=n("MKeS"),r=n("4kAQ"),a=n("qALL"),s=n("/wSi"),c=n("n6mq"),l=n("nKUr"),d=n.n(l);const p=Object(o.a)({resolved:{},chunkName:()=>"storyPins-HlsVideoContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(4),n.e("storyPins-HlsVideoContainer")]).then(n.bind(null,"TedQ")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"TedQ"}}),u=Object.freeze({white:"white",black:"darkGray"}),h={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function b({titleText:e,videoPin:t,videoPlaceholderImage:n}){return Object(l.jsx)(p,{fallback:Object(l.jsx)(c.x,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:n||t.metadata.thumbnail}),aspectRatio:s.a,controls:!1,poster:n||t.metadata.thumbnail,src:t.url})}function m({buttonAction:e,buttonCustomization:t,buttonText:n,experienceId:o,hideCompleteButton:d,imageAlt:p,imageUrl:u,placementId:m,storyType:j,titleText:f,titleTextColor:g,titleTextCustomization:x,videoPin:O,videoPlaceholderImage:y}){const w=Object(i.useDispatch)(),v=Object(s.c)(j),_=v?a.d:a.c,S=v?a.a:a.b,T=!v,{color:k,fontStyle:I,fontWeight:P,horizontalAlignment:C,fontSize:E}=Object(s.b)(x||{},"mweb"),{button_background_color:A,button_text_color:L}=t||{};return Object(l.jsx)(c.f,{position:"relative",padding:1,marginBottom:2,children:Object(l.jsxs)(c.B,{accessibilityLabel:f,href:e,onClick:({disableOnNavigation:e})=>{e(),"number"==typeof o&&"number"==typeof m&&w(Object(r.a)(m,o,!1,!0))},children:[Object(l.jsx)(c.f,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:Object(l.jsxs)(c.f,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[Object(l.jsx)(c.f,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===j&&O?Object(l.jsx)(b,{titleText:f,videoPin:O,videoPlaceholderImage:y}):u&&Object(l.jsx)(c.x,{alt:p||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:u,fit:"cover"})}),T&&Object(l.jsx)(c.f,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:h.defaultOverlay},position:"absolute",top:!0,left:!0}),Object(l.jsx)(_,{children:Object(l.jsx)(c.cb,{align:C,color:g,italic:"italics"===I,weight:P,children:Object(l.jsx)("div",{style:{color:k,fontSize:E},children:f})})})]})}),!d&&Object(l.jsx)(S,{children:Object(l.jsx)(c.f,{display:"flex",rounding:"pill",color:v?"white":"lightGray",dangerouslySetInlineStyle:{__style:{backgroundColor:A}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:Object(l.jsx)(c.cb,{weight:"bold",children:Object(l.jsx)("div",{style:{color:L},children:n})})})})]})})}},TZCD:function(e,t){e.exports="https://s.pinimg.com/webapp/EN@2x-ca0773fb.png"},Tn9N:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("SBn3"),o=n("n6mq"),r=n("cNZp"),a=n("EC67"),s=n("nKUr");function c({hideOverflow:e,items:t,onChange:n,replace:c=!1,selectedTabIndex:l,size:d="md"}){const p=Object(a.h)();if(t.length<=0)return null;return Object(s.jsx)(i.a,{children:Object(s.jsx)(o.f,{overflow:e?"hidden":"scrollX",paddingX:2,paddingY:1,"data-test-id":"page-tabs",children:Object(s.jsx)(r.a,{activeTabIndex:l,onChange:({event:e,activeTabIndex:i})=>{e.preventDefault(),n(i);const{pathname:o,state:r}=(e=>({pathname:(t[e]||t[0]).href,state:(t[e]||t[0]).locationState||void 0}))(i);c?p.replace(o,r):p.push(o,r)},size:d,tabs:t.map(({href:e,text:t,indicator:n})=>({href:e,text:t,indicator:n}))})})})}},Tv6X:function(e,t,n){var i=n("wzxk");const o=e=>(e||"").trim().replace(/\s+/g," ");t.a=e=>{const t=e||{};return!!t.story_pin_data_id?o(t.description):o(Object(i.c)(t).description)||o(t.closeup_unified_description||"")||o(t.closeup_description)||o(t.description)||o(t.rich_metadata&&t.rich_metadata.description)||""}},TyUm:function(e,t){e.exports="https://s.pinimg.com/webapp/UK@2x-fb5c6e06.png"},UL3w:function(e,t){e.exports="https://s.pinimg.com/webapp/HI@2x-58486090.png"},UbOS:function(e,t){e.exports="https://s.pinimg.com/webapp/PT@2x-2939b38c.png"},VjTW:function(e,t,n){function i(e){const t=Object.keys(e);if(t.length>0){return t.sort((t,n)=>e[n]-e[t]).slice(0,3)}return null}function o(e){const t=Object.values(e);if(t.length>0){return t.reduce((e,t)=>e+t,0)}return 0}function r(e){const{videos:t,is_downstream_promotion:n,is_promoted:i,story_pin_data_id:o,board:r}=e;return!(i||n||(!t||!t.id)&&!o||r&&r.is_collaborative)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}))},VuCO:function(e,t,n){n.d(t,"a",(function(){return i}));const i=(e,t)=>({type:"SET_ACTIVE_HOMEFEED_TAB",payload:{boardId:e,index:t}})},"Wjv+":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("n6mq"),o=n("nKUr");function r({accessibilityLabel:e}){return Object(o.jsx)(i.f,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(o.jsx)(i.U,{accessibilityLabel:e,show:!0})})}},WvRU:function(e,t){e.exports="https://s.pinimg.com/webapp/VI@2x-09999946.png"},WwS9:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("/MKj");function o(e){return Object(i.useSelector)(({pins:t})=>e?t[e]:null,i.shallowEqual)}function r(e){const t=null==e?void 0:e.story_pin_data;return Object(i.useSelector)(({storyPins:e})=>t?e[t]:null,i.shallowEqual)}function a(e){const t=null==e?void 0:e.pinner;return Object(i.useSelector)(({users:e})=>t?e[t]:null,i.shallowEqual)}},XBgn:function(e,t,n){n.d(t,"a",(function(){return m}));var i=n("q1tI"),o=n("U1vm"),r=n("mp1x"),a=n("kmwA"),s=n("yweb"),c=n("eyT9"),l=n("n6mq"),d=n("AGnR"),p=n("nKUr");const u={sm:12,md:16,lg:20,xl:24},h="#66CCFF",b={color:h};function m({isVerifiedMerchant:e,size:t,showText:n,showVerifiedIdentity:m}){const j=Object(s.c)(),[f,g]=Object(i.useState)(!1),[x,O]=Object(i.useState)(!0);Object(i.useEffect)(()=>{f&&x&&(O(!1),Object(d.e)({event_type:13,component:13534}))},[f]);const y=Object(c.e)(),w=e?y?h:"blue":"red",v={__style:y?b:{}};return Object(p.jsxs)(i.Fragment,{children:[Object(p.jsx)(l.bb,{onTap:()=>{Object(d.h)({component:13534,element:11717}),g(!0)},rounding:"circle",children:Object(p.jsxs)(l.f,{alignItems:"center",dangerouslySetInlineStyle:v,display:"flex","data-test-id":"verified-badge-icon-"+w,children:[Object(p.jsx)(l.v,{accessibilityLabel:e?j._("Merchant verification badge icon","merchantVerification.badge.icon","Badge indicating that a merchant or user is verified"):j._("Badge icon","merchantVerification.badge.icon","Badge indicating that a merchant or user is verified"),icon:"workflow-status-ok",color:w,inline:!0,size:u[t]}),n&&!m&&Object(p.jsx)(l.f,{marginStart:2,children:Object(p.jsx)(l.cb,{color:"blue",inline:!0,weight:"bold",children:Object(p.jsx)(l.f,{dangerouslySetInlineStyle:v,children:j._("Verified merchant","creator.header.verifiedMerchant","this merchant is a verified merchant")})})})]})}),(e||n&&!m)&&Object(p.jsx)(r.a,{"data-test-id":"modal",isOpen:f,hideCloseIcon:!0,onDismiss:()=>{Object(d.h)({component:13534,element:11716}),g(!1)},type:"verified_merhcant_modal",children:Object(p.jsxs)(l.f,{display:"flex",direction:"column",paddingY:4,paddingX:10,children:[Object(p.jsx)(l.f,{display:"flex",dangerouslySetInlineStyle:v,justifyContent:"center",children:Object(p.jsx)(l.v,{accessibilityLabel:j._("Merchant verification badge icon","creator.verifiedMerchant.modalIcon","Badge indicating that a merchant or user is verified"),color:w,icon:"workflow-status-ok",size:u.lg})}),Object(p.jsx)(l.f,{marginTop:4,children:Object(p.jsx)(l.cb,{color:"blue",weight:"bold",align:"center",children:Object(p.jsx)(l.f,{dangerouslySetInlineStyle:v,children:j._("Verified merchant","creator.verifiedMerchant.modalHeader","this merchant is a verified merchant")})})}),Object(p.jsx)(l.f,{marginTop:4,children:Object(p.jsx)(l.cb,{align:"center",overflow:"normal",children:j._("This retailer meets Pinterest's Merchant Guidelines","creator.verifiedMerchant.modalText.","this merchant is a verified merchant")})}),Object(p.jsxs)(l.f,{display:"flex",marginTop:8,justifyContent:"between",children:[Object(p.jsx)(l.f,{width:"100%",children:Object(p.jsx)(l.g,{onClick:()=>{g(!1)},size:"md",text:j._("Got it","creator.verifiedMerchant.modalButton.","explanation text to close the modal")})}),Object(p.jsx)(l.f,{marginStart:2,width:"100%",children:Object(p.jsx)(o.a,{accessibilityLabel:j._("Learn more","creator.verifiedMerchant.buttonText","learn more about the verified merchant program by visiting help.pinterest.com"),color:"red",external:!0,shape:"pill",size:"lg",to:a.a.settings.HELP_SHOPPING_WITH_PINTEREST,text:j._("Learn more","creator.verifiedMerchant.buttonText","learn more about the verified merchant program by visiting help.pinterest.com")})})]})]})})]})}},XQZ6:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("Lr1Z"),o=n("n6mq"),r=n("nKUr");function a({skinToneOvalHeight:e,skinToneOvalWidth:t,swatchColors:n}){return Object(r.jsx)(o.f,{alignItems:"center","data-test-id":"skinToneFilterSwatch",display:"flex",overflow:"hidden",rounding:"pill",width:t,wrap:!0,children:n.map((n,i)=>Object(r.jsx)(o.f,{dangerouslySetInlineStyle:{__style:{backgroundColor:n}},height:e/2,width:t/2},`${n}-${i}`))})}var s=n("yweb"),c=n("AGnR");const l={filter_name:"Skin tone range",filter_term:"skin_face_color_l",multi_select:!1,options:[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}],vertical:"skin_tone"};function d({navigateReplace:e=!0,onClickApplyFilter:t,query:n,selectedSkinToneTerm:d,showHeaderText:p=!0,skinToneFilters:u=l}){const h=Object(s.c)(),b=u.options,m="/search/pins/?rs=rs&q="+n,j=d?h._("Some ideas in this skin tone range","SkinToneFilters.copy.termSelected","Skin tone filters text"):h._("Pick a skin tone range","SkinToneFilters.copy.noTermSelected","Skin tone filters text"),{filtersContainerHeight:f,filtersContainerWidth:g,skinToneOvalHeight:x,skinToneOvalWidth:O}=function(){const e="undefined"!=typeof window?Math.min((window.innerWidth-40)/4-4,96):0;return{filtersContainerHeight:52,filtersContainerWidth:e,skinToneOvalHeight:44,skinToneOvalWidth:e-8}}();return Object(r.jsxs)(o.t,{alignItems:"center",direction:"column",height:p?88:52,children:[p&&Object(r.jsx)(o.f,{marginBottom:2,children:Object(r.jsx)(o.cb,{color:"darkGray",overflow:"normal",weight:"bold",children:j})}),Object(r.jsx)(o.f,{display:"flex",flex:"none",justifyContent:"around",children:b.map(({swatch_hex_colors:s,term:l},p)=>Object(r.jsx)(i.a,{onTouch:()=>{!function(e){const{index:t,query:n,onClickApplyFilter:i}=e;Object(c.h)({aux_data:{entered_query:n,filter_type:"skin_tone",filter_value:t},element:1341,view_parameter:43,view_type:2}),null==i||i()}({index:p,query:n,onClickApplyFilter:t})},pressState:"none",replace:e,to:`${m}${d!==l?"&filters="+encodeURIComponent(l):""}`,children:Object(r.jsx)(o.f,{alignItems:"center",color:d===l?"darkGray":"white",display:"flex",height:f,justifyContent:"around",rounding:"pill",width:g,children:Object(r.jsx)(o.f,{alignItems:"center",color:"white",display:"flex",height:f-4,justifyContent:"around",rounding:"pill",width:g-4,children:Object(r.jsx)(a,{skinToneOvalHeight:x,skinToneOvalWidth:O,swatchColors:s})})})},l))})]})}},YPSp:function(e,t){e.exports="https://s.pinimg.com/webapp/ES@2x-d867d9a4.png"},YWD0:function(e,t,n){var i=n("juJw"),o=n("yweb"),r=n("iMWs"),a=n("Zswh"),s=n("n6mq"),c=n("nKUr");const l=(e,t)=>{let n={};if(e){const{pinData:i,viewData:o}=e;n={unauth_click_pin_id:i.id,unauth_click_pin_image_signature:i.imageSignature},3===t?n={...n,unauth_page_pin_id:o.id,unauth_page_pin_image_signature:o.imageSignature}:5===t&&(n={...n,unauth_page_board_id:o.id})}return n};t.a=({clickLoggingOptions:e,domain:t,link:n,onClick:d})=>{var p;const u=null===(p=Object(r.b)())||void 0===p?void 0:p.logging,h=Object(o.c)(),b=Object(a.a)(),m=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:l(e.unauthRankingLoggingData,null==u?void 0:u.viewType)}].map(t=>({component:0,element:162,view_type:null==u?void 0:u.viewType,view_parameter:null==u?void 0:u.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...t}));return Object(c.jsx)(s.bb,{onTap:({event:e})=>{e.stopPropagation(),m().forEach(e=>b(e)),d(e)},children:Object(c.jsxs)(s.f,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[Object(c.jsx)(s.f,{marginEnd:1,children:Object(c.jsx)(s.v,{size:9,icon:"arrow-up-right",color:"white",accessibilityLabel:h._("Link","unauth.pin.domain.link","Link to take them to the source of the iamge")})}),Object(c.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),m().forEach(e=>b(e)),d(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:Object(c.jsx)(s.cb,{size:"md",color:"white",inline:!0,weight:"bold",truncate:!0,children:Object(i.a)(t,27)})})]})})}},YaGO:function(e,t){e.exports="https://s.pinimg.com/webapp/zhTW@2x-0ef5b95c.png"},ZCiT:function(e,t){e.exports="https://s.pinimg.com/webapp/KO@2x-1099f44a.png"},ZFin:function(e,t){e.exports="https://s.pinimg.com/webapp/NO@2x-fd9bd702.png"},Zswh:function(e,t,n){var i=n("1n73");t.a=()=>Object(i.b)().logContextEvent},afEI:function(e,t){e.exports="https://s.pinimg.com/webapp/UK@2x-5787bbf9.png"},cGzF:function(e,t){e.exports="https://s.pinimg.com/webapp/RU@2x-888d9aa1.png"},cNZp:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("/MKj"),o=n("n6mq"),r=n("QAzJ"),a=n("nKUr");function s(e){const t=Object(r.b)("mweb_auth_gestalt_tabs_v2"),n=Object(r.b)("mweb_unauth_gestalt_tabs_v2");let s;return s=Object(i.useSelector)(({session:e})=>e.isAuthenticated)?t().anyEnabled:n().anyEnabled,Object(a.jsx)(o.Z,{_dangerouslyUseV2:s,...e})}},cXYV:function(e,t){e.exports="https://s.pinimg.com/webapp/zhCN@2x-0b2349f4.png"},dRc8:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("q1tI"),o=n("sEfC"),r=n.n(o);function a(){const[e,t]=Object(i.useState)(null);return Object(i.useEffect)(()=>{const e=()=>t({width:window.innerWidth,height:window.innerHeight});e();const n=r()(e,50);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}},dw4l:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("qrav"),a=n("8zEK"),s=n("/0j8"),c=n("n6mq"),l=n("wMN6"),d=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.PureComponent{constructor(...e){super(...e),p(this,"state",{isPlaying:!1,isVideoReady:!1,isVisibleForPlaying:!1,startLoading:!1}),p(this,"handleVisibilityChanged",e=>{const{intersectionRatio:t}=e[0],{isPlaying:n,isVideoReady:i,startLoading:o}=this.state;t>=.8?(this.setState({isVisibleForPlaying:!0}),this.videoRef&&(o?i&&!n&&this.videoRef.play():(this.videoRef.load(),this.setState({startLoading:!0})))):(this.setState({isVisibleForPlaying:!1}),this.videoRef&&i&&this.videoRef.pause())}),p(this,"handleVideoPause",()=>this.setState({isPlaying:!1})),p(this,"handleVideoPlay",()=>this.setState({isPlaying:!0})),p(this,"getVideoRef",e=>this.videoRef=e),p(this,"setIsVideoReadyTrue",()=>{this.setState({isVideoReady:!0}),this.videoRef&&!this.state.isPlaying&&this.state.isVisibleForPlaying&&this.videoRef.play()})}render(){const{isFullWidth:e,pin:t}=this.props,n=Object(a.a)(t);if(!n)return Object(d.jsx)(c.f,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:Object(d.jsx)(s.a,{id:t.id})});const{height:i,thumbnail:o,url:p,width:u}=n,h=Object(l.g)(!0),b=(null!=i?i:1)/(null!=u?u:1),m=b*h;return Object(d.jsx)(r.a,{options:{threshold:[0,.5,.8,1]},onVisibilityChange:this.handleVisibilityChanged,children:Object(d.jsx)(c.f,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:100*b+"%"}},children:Object(d.jsx)(c.f,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:Object(d.jsx)("video",{height:e?m:"100%",muted:!0,onCanPlay:this.setIsVideoReadyTrue,onPause:this.handleVideoPause,onPlay:this.handleVideoPlay,playsInline:!0,poster:o,preload:"none",ref:this.getVideoRef,src:p,width:e?h:"100%"})})})})}}t.a=Object(o.connect)(({pins:e},{pinId:t})=>({pin:e[t]}),()=>({}))(u)},e5ub:function(e,t){e.exports="https://s.pinimg.com/webapp/TR@2x-c216b517.png"},eFhR:function(e,t,n){n.d(t,"a",(function(){return x}));var i=n("q1tI"),o=n("/MKj"),r=n("Lr1Z"),a=n("mp1x"),s=n("28DW"),c=n("24BL"),l=n("yweb"),d=n("Dgpg"),p=n("eyT9"),u=n("QAzJ"),h=n("g6r8"),b=n("wzxk"),m=n("n6mq"),j=n("nKUr");function f({board:e,pinner:t}){if(e&&e.url&&e.name){var n,i;const o=e.url.split("/")[1],a=t&&t.full_name?t.full_name:o,s=Object(j.jsx)(m.cb,{color:"darkGray",inline:!0,size:"md",children:Object(j.jsx)(r.a,{to:null!==(n=e.url)&&void 0!==n?n:"",inline:!0,pressState:"compress",children:null!==(i=e.name)&&void 0!==i?i:""},"board-link")},"boardLink"),c=Object(j.jsx)(m.cb,{color:"darkGray",inline:!0,size:"md",weight:"bold",children:Object(j.jsx)(r.a,{to:`/${o}/`,inline:!0,pressState:"compress",children:a},"profile-link")},"profileLink"),l=t&&(t.image_small_url||t.image_large_url);return Object(j.jsxs)(m.f,{display:"flex",direction:"row",children:[l?Object(j.jsx)(r.a,{to:`/${o}/`,inline:!0,pressState:"compress",children:Object(j.jsx)(m.f,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,children:Object(j.jsx)(m.x,{naturalHeight:32,naturalWidth:32,alt:a,fit:"cover",color:"rgb(231, 186, 176)",src:l})})},"profile-link"):null,Object(j.jsxs)(m.f,{display:"flex",direction:"column",justifyContent:"center",children:[c,s]})]})}return null}function g({annotations:e,board:t,description:n,pinner:i,title:o}){return Object(j.jsxs)(m.f,{children:[Object(j.jsx)(m.f,{marginBottom:2,children:e&&e.length>0&&Object(j.jsx)(d.a,{annotations:e,mode:"expanded"})}),Object(j.jsx)(m.f,{marginBottom:3,children:Object(j.jsxs)("figcaption",{children:[Object(j.jsx)(m.u,{color:"darkGray",size:"sm",accessibilityLevel:3,children:o}),Object(j.jsx)(m.f,{height:4}),Object(j.jsx)(m.cb,{color:"darkGray",children:n})]})}),Object(j.jsx)(f,{board:t,pinner:i})]})}function x(e){const t=Object(l.c)(),{pin:n,board:r,onCloseup:d,onIdeasPage:f,pinner:x,size:O}=e,{interstitialUpsellDismissed:y,isBot:w}=Object(o.useSelector)(({session:e})=>({interstitialUpsellDismissed:e.unauthInterstitialDismissed,isBot:e.isSeoBot})),[v,_]=Object(i.useState)(!1),S=Object(h.b)(),{group:T}=Object(c.a)(),{annotationsWithLinks:k,description:I}=Object(b.c)(n),P=Object(u.b)("mweb_trim_grid_title_ff")().anyEnabled,C=Object(b.b)(n,P)||n.description,E=t._("See more","more information icon","more information icon"),A=!S||"enabled_vase_modal_without_layer"===T,L=Object(j.jsx)(m.f,{color:Object(p.e)()?"darkGray":"white",dangerouslySetInlineStyle:{__style:{border:Object(p.e)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:A?"100%":"100vw",zIndex:new m.s(1),children:Object(j.jsxs)(m.f,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:y?0:12,children:[Object(j.jsx)(m.f,{left:!0,position:"absolute",top:!0,color:"white",padding:4,children:Object(j.jsx)(m.w,{accessibilityLabel:t._("Cancel","close modal icon","close modal icon"),icon:"cancel",size:"sm",onClick:()=>{Object(s.a)("mweb.unauth.see_more.dismissed"),_(!1)}})}),Object(j.jsx)(m.f,{alignItems:"center",marginBottom:8,children:Object(j.jsx)(m.cb,{align:"center",weight:"bold",children:Object(j.jsx)("span",{className:"deprecatedTextSizeXL",children:t._("More information","more information label","more information label")})})}),Object(j.jsx)(g,{title:C,description:I,board:r,pinner:x,annotations:k})]})});return Object(j.jsxs)(m.f,{right:!0,marginTop:d?4:0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[Object(j.jsx)(m.w,{accessibilityLabel:E,icon:"ellipsis",iconColor:f?"darkGray":"gray",size:O||"md",onClick:({event:e})=>{e.stopPropagation(),Object(s.a)("mweb.unauth.see_more.shown"),_(!0)}}),w&&A?Object(j.jsx)(m.f,{display:v?"flex":"none",children:L}):Object(j.jsx)(a.a,{childPaddingX:0,childPaddingY:0,hideCloseIcon:!0,isOpen:v,children:L})]})}},eqwQ:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("SvRC"),o=(n("n6mq"),n("EC67")),r=n("nKUr");function a({emptyState:e,feedItemProps:t=(()=>({})),feedKey:n,feedOffset:a=(()=>0),gridConfig:s=(()=>({})),noCache:c,pullToRefresh:l=!1,renderFeedItem:d,resourceName:p,resourceOptions:u,resourceSchema:h,trafficSource:b,serverRender:m}){return function(j){const f=Object(o.i)(),g=Object(o.h)(),x=Object(o.k)(),O={...j,location:f,history:g,match:x};return Object(r.jsx)(i.c,{resourceConfig:{name:p,options:"function"==typeof u?u(O):u,schema:h,noCache:"function"==typeof c?c(O):c},feedItemProps:t&&t(O),feedKey:"function"==typeof n?n(O):n,feedOffset:a(O),gridConfig:s&&s(O),pullToRefresh:l,renderFeedItem:d&&((e,t)=>d(e,t,j)),trafficSource:"function"==typeof b?b(O):b,emptyState:e&&e(O),serverRender:m})}}},fEUV:function(e,t){e.exports="https://s.pinimg.com/webapp/EL@2x-e764ccf8.png"},fM3H:function(e){e.exports=JSON.parse('{"v":"5.6.5","fr":29.9700012207031,"ip":0,"op":224.000009123707,"w":750,"h":1334,"nm":"bgonly","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":106,"s":[100]},{"t":115.000004684046,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[251.504,811.504,0],"ix":2},"a":{"a":0,"k":[3.504,385.504,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.473,0.473,26.039]},"t":47,"s":[-15,-15,100]},{"t":90.0000036657751,"s":[40,40,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[317.008,317.008],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.992156862745,0.360784313725,0.298039215686,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[4.387,385.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":46.0000018736184,"op":6410.00026108465,"st":-63.0000025660426,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":72,"s":[100]},{"t":81.0000032991976,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[622.504,883.504,0],"ix":2},"a":{"a":0,"k":[3.504,385.504,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"rc","d":1,"s":{"a":0,"k":[566,552],"ix":2},"p":{"a":0,"k":[0,352],"ix":3},"r":{"a":0,"k":67,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0,0],"y":[1,1]},"o":{"x":[0.167,0.167],"y":[0,0]},"t":21,"s":[10,10]},{"t":86.0000035028518,"s":[317.008,317.008]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.454901960784,0.909803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.41],"y":[1]},"o":{"x":[0.167],"y":[1.509]},"t":21,"s":[43]},{"t":86.0000035028518,"s":[4]}],"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[4.387,385.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":20.0000008146167,"op":6384.00026002565,"st":-89.0000036250443,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[128.504,249.504,0],"ix":2},"a":{"a":0,"k":[3.504,385.504,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.12,0.12,0.12],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.7,0.7,31.489]},"t":40,"s":[15,15,100]},{"t":92.0000037472368,"s":[60,60,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"rc","d":1,"s":{"a":0,"k":[1121,959],"ix":2},"p":{"a":0,"k":[0,364],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[317.008,317.008],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.105882352941,0.705882352941,0.443137254902,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.12],"y":[1]},"o":{"x":[0.167],"y":[0.197]},"t":40,"s":[326]},{"t":111.000004521123,"s":[0]}],"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[4.387,385.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":40.0000016292334,"op":6437.00026218439,"st":-36.0000014663101,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":120,"s":[100]},{"t":141.000005743048,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[372.504,576.504,0],"ix":2},"a":{"a":0,"k":[3.504,385.504,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.085,0.085,26.096]},"t":12,"s":[-10,-10,100]},{"t":142.000005783779,"s":[297,297,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"rc","d":1,"s":{"a":0,"k":[500,500],"ix":2},"p":{"a":0,"k":[0,417],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[317.008,317.008],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,0.862745098039,0.596078431373,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":12,"s":[10]},{"t":127.000005172816,"s":[3]}],"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[4.387,385.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":11.0000004480392,"op":6437.00026218439,"st":-36.0000014663101,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Shape Layer 9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[63.609,848.609,0],"ix":2},"a":{"a":0,"k":[-254.719,-5.039,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":85,"s":[0,0,100]},{"t":227.0000092459,"s":[12,12,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[431.219,431.219],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.086274509804,0.501960784314,0.98431372549,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-254.719,-5.039],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":75.0000030548126,"op":6548.00026670551,"st":75.0000030548126,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Shape Layer 7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[676.609,387.609,0],"ix":2},"a":{"a":0,"k":[-254.719,-5.039,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":58,"s":[0,0,100]},{"t":200.000008146167,"s":[8,8,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[431.219,431.219],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.988235294118,0.78431372549,0.180392156863,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-254.719,-5.039],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":48.0000019550801,"op":6521.00026560577,"st":48.0000019550801,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Shape Layer 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[629.609,321.609,0],"ix":2},"a":{"a":0,"k":[-254.719,-5.039,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":30,"s":[0,0,100]},{"t":172.000007005704,"s":[19,19,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[431.219,431.219],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.105882352941,0.705882352941,0.443137254902,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-254.719,-5.039],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":20.0000008146167,"op":6493.00026446531,"st":20.0000008146167,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Shape Layer 8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[641.609,1042.609,0],"ix":2},"a":{"a":0,"k":[-254.719,-5.039,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.24,0.24,0.24],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":60,"s":[0,0,100]},{"t":225.000009164438,"s":[106,106,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[431.219,431.219],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.894117647059,0.764705882353,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-254.719,-5.039],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":50.0000020365418,"op":6523.00026568724,"st":50.0000020365418,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[175.609,467.609,0],"ix":2},"a":{"a":0,"k":[-254.719,-5.039,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[1.117,1.117,173.148]},"t":10,"s":[0,0,100]},{"t":197.000008023974,"s":[155,155,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[431.219,431.219],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.898039215686,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-254.719,-5.039],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":6473.0002636507,"st":0,"bm":0},{"ddd":0,"ind":10,"ty":1,"nm":"White Solid 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[375,667,0],"ix":2},"a":{"a":0,"k":[375,667,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"sw":750,"sh":1334,"sc":"#ffffff","ip":0,"op":6473.0002636507,"st":0,"bm":0}],"markers":[]}')},ffDT:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("i2lo"),a=n("bcHz"),s=n("n6mq"),c=n("4kAQ"),l=n("nKUr");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.PureComponent{constructor(...e){super(...e),d(this,"state",{paused:!1,showPulsar:!1,hasMounted:!1}),d(this,"handleDismiss",e=>{const{onClickDismiss:t,dismissExperience:n,experience:i}=this.props;if(!i)return;const{experience_id:o,placement_id:r}=i;n(r,o),t&&t()}),d(this,"wrapperRef",Object(i.createRef)())}componentDidMount(){this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}mountPulsar(){const{experience:e}=this.props;if(!e)return;const{display_data:t}=e;t.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){const e=this.wrapperRef,{paused:t}=this.state;if(!e||!e.current)return null;const n=e.current.getBoundingClientRect(),{height:i,width:o}=n,r=-(68+i/2),c=-(68-o/2);return Object(l.jsx)(a.a,{pressState:"none",children:Object(l.jsx)(s.f,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:1,marginTop:r,marginLeft:c,pointerEvents:"none"}},children:Object(l.jsx)(s.M,{paused:t,size:136})})})}render(){const{idealDirection:e,eligibleIds:t,showCaret:n,size:i,color:o,children:a,experience:c}=this.props,{showPulsar:d,hasMounted:p}=this.state;if(!c||!t.includes(c.experience_id)||!p)return a({experience:c});const{display_data:u}=c;return Object(l.jsx)(r.a,{eligibleIds:t,experience:c,children:Object(l.jsxs)(s.f,{ref:this.wrapperRef,children:[a({experience:c}),d?this.renderPulsar():u.has_tooltip&&Object(l.jsx)(s.L,{anchor:this.wrapperRef.current,color:o,idealDirection:e||"down",onDismiss:this.handleDismiss,showCaret:n,size:i,children:Object(l.jsx)(s.f,{column:12,padding:3,children:Object(l.jsx)(s.cb,{color:"white",weight:"bold",children:u.text})})})]})})}}t.a=Object(o.connect)(null,e=>({dismissExperience:(t,n)=>e(Object(c.d)(t,n)),completeExperience:(t,n)=>e(Object(c.a)(t,n))}))(p)},g6r8:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("/MKj");const o=()=>{const e=Object(i.useSelector)(({session:e})=>e.isTablet),t=Object(i.useSelector)(({session:e})=>e.isMobile);return e?"tablet":t?"phone":"desktop"},r=()=>"phone"===o(),a=()=>"desktop"===o();t.a=o},gCPk:function(e,t,n){var i=n("/MKj"),o=n("8W6c"),r=n("n6mq"),a=n("nKUr");var s=({imageUrls:e,subtitle:t,subtitleSize:n,title:i,titleSize:o})=>!e||e.length<=0?null:Object(a.jsx)(r.f,{color:"white",overflow:"hidden",position:"relative",rounding:8,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",paddingTop:"75%"}},children:Object(a.jsx)(r.f,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:Object(a.jsx)(r.x,{alt:i,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:e[0],children:Object(a.jsx)(r.f,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},display:"flex",alignItems:"end",paddingY:6,paddingX:5,children:Object(a.jsxs)(r.f,{direction:"column",display:"flex",justifyContent:"center",width:"100%",children:[t&&Object(a.jsx)(r.f,{marginBottom:1,children:Object(a.jsx)(r.cb,{color:"white",size:n,align:"center",children:t})}),Object(a.jsx)(r.u,{color:"white",size:o,align:"center",children:i})]})})})})}),c=n("FDmi"),l=n("I6XH"),d=n("AGnR");const p=Math.floor(24);var u=({articleId:e,imageUrls:t,subtitle:n,title:o,viewParameter:s,viewType:u,user:h})=>{const{isAuthenticated:b}=Object(i.useSelector)(({session:e})=>e);if(!h||!t||t.length<=0)return null;const{full_name:m,image_medium_url:j,image_small_url:f}=h,g=j||f||"",x=Math.min(t.length,3),O={aux_data:{today_article_id:e},component:13525,object_id_str:e,view_parameter:s,view_type:u};return Object(a.jsxs)(r.f,{color:"white",overflow:"hidden",rounding:8,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},children:[Object(a.jsx)(r.f,{display:"flex",position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{paddingTop:"45%"}},children:Object(a.jsx)(r.f,{display:"flex",height:"100%",direction:"row",left:!0,position:"absolute",top:!0,width:"100%",children:t.slice(0,x).map((e,t)=>Object(a.jsx)(r.f,{width:100/x+"%",children:Object(a.jsx)(r.x,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:e},t)}))})}),Object(a.jsxs)(r.f,{flex:"none",justifyContent:"center",paddingX:5,paddingY:6,position:"relative",width:"100%",children:[Object(a.jsx)(r.f,{height:48,position:"absolute",width:48,dangerouslySetInlineStyle:{__style:{left:`calc(50% - ${p}px)`,top:`-${p}px`}},children:Object(a.jsx)(c.a,{name:null!=m?m:"",outline:!0,size:"fit",src:g})}),o&&Object(a.jsx)(r.f,{marginTop:2,children:Object(a.jsx)(r.u,{size:"sm",align:"center",children:o})}),n&&Object(a.jsx)(r.f,{marginTop:2,children:Object(a.jsx)(r.cb,{align:"center",size:"sm",children:n})}),b&&Object(a.jsx)(r.f,{display:"flex",justifyContent:"center",marginTop:3,children:Object(a.jsx)(l.a,{isSecondaryButton:!0,onTap:()=>{Object(d.h)({...O,element:62})},size:"lg",user:h,viewParameter:s,viewType:u})})]})]})},h=n("7MwI"),b=n("2A+z");var m=function({userId:e}){return Object(a.jsx)(b.a,{avatarSize:"xs",hideButtons:!0,shouldNavigateToProfile:!1,type:"row",userId:e,viewParameter:3372,viewType:1})},j=n("F2ZA"),f=n("t84P"),g=n("EC67"),x=n("WwS9");var O=function({articleId:e,gridIndex:t,pinId:n,pinOfficialUserId:i,showCreator:o,title:s,viewParameter:c,viewType:l}){const d=Object(g.i)(),p=Object(x.a)(n);if(!p)return null;const{images:u}=p,b=(null==u?void 0:u["736x"])||(null==u?void 0:u["236x"])||(null==u?void 0:u["170x"]);if(!b)return null;const O=Object(j.d)(i,p);return Object(a.jsxs)(r.f,{color:"white",overflow:"hidden",rounding:8,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},children:[Object(a.jsx)(f.d,{auxData:{grid_index:t,today_article_id:e},loggingId:p.id,objectIdStr:p.id,slotIndex:t,impressionData:{imageURL:b.url},component:13525,trackingParams:Object(h.a)((d.state||{}).trackingParams,p),viewParameter:c,viewType:l,children:Object(a.jsx)(r.f,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:b.height/b.width*100+"%"}},children:Object(a.jsx)(r.f,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:Object(a.jsx)(r.x,{alt:s,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:b.url})})})}),Object(a.jsxs)(r.f,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[Object(a.jsx)(r.u,{align:"center",size:"sm",children:s}),o&&O&&Object(a.jsx)(r.f,{display:"flex",marginTop:3,justifyContent:"center",children:Object(a.jsx)(m,{userId:O})})]})]})},y=n("Ido7");var w=({articleId:e,gridIndex:t,pinId:n,title:i,viewParameter:o,viewType:s})=>{const l=Object(g.i)(),d=Object(x.a)(n),p=Object(x.b)(d),u=Object(x.c)(d);if(!d)return null;const b=(null==u?void 0:u.page_count)||"",{images:m}=d,j=(null==m?void 0:m["736x"])||(null==m?void 0:m["236x"])||(null==m?void 0:m["170x"]);if(!j)return null;const O=(null==p?void 0:p.image_medium_url)||(null==p?void 0:p.image_small_url)||"",w=(null==p?void 0:p.full_name)||"",v=Boolean(O||w);return Object(a.jsxs)(r.f,{color:"white",overflow:"hidden",paddingY:6,rounding:8,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},children:[Object(a.jsx)(r.f,{paddingX:6,display:"flex",justifyContent:"center",children:Object(a.jsx)(r.u,{align:"center",size:"sm",children:i})}),Object(a.jsx)(f.d,{auxData:{grid_index:t,today_article_id:e},loggingId:d.id,objectIdStr:d.id,slotIndex:t,impressionData:{imageURL:j.url},component:13525,trackingParams:Object(h.a)((l.state||{}).trackingParams,d),viewParameter:o,viewType:s,children:Object(a.jsxs)(r.f,{marginTop:4,paddingX:12,children:[Object(a.jsx)(r.C,{rounding:8,children:Object(a.jsx)(r.f,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:j.height/j.width*100+"%"}},children:Object(a.jsx)(r.f,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:Object(a.jsx)(r.x,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:j.url,children:Object(a.jsx)(r.f,{position:"relative",marginStart:1,marginTop:1,children:Object(a.jsx)(y.a,{icon:"story-pin",text:b.toString()})})})})})}),v&&Object(a.jsxs)(r.f,{alignItems:"center",display:"flex",marginTop:2,maxWidth:"100%",children:[Object(a.jsx)(r.f,{flex:"none",height:44,width:44,marginEnd:2,children:Object(a.jsx)(c.a,{name:"",outline:!0,size:"fit",src:O})}),Object(a.jsx)(r.cb,{truncate:!0,children:w})]})]})})]})},v=n("dw4l");var _=function({articleId:e,gridIndex:t,pinOfficialUserId:n,showCreator:i,title:o,videoPinId:s,viewParameter:c,viewType:l}){const d=Object(g.i)(),p=Object(x.a)(s);if(!p)return null;const{images:u}=p,b=(null==u?void 0:u["736x"])||(null==u?void 0:u["236x"])||(null==u?void 0:u["170x"])||{},O=Object(j.d)(n,p);return Object(a.jsxs)(r.f,{color:"white",direction:"column",display:"flex",flex:"none",overflow:"hidden",rounding:8,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",transform:"translate3d(0, 0, 0)"}},children:[Object(a.jsx)(f.d,{auxData:{grid_index:t,today_article_id:e},loggingId:s,objectIdStr:s,slotIndex:t,impressionData:{imageURL:b.url},component:13525,trackingParams:Object(h.a)((d.state||{}).trackingParams,p),viewParameter:c,viewType:l,children:Object(a.jsx)(v.a,{pinId:s})}),Object(a.jsxs)(r.f,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[Object(a.jsx)(r.u,{align:"center",size:"sm",children:o}),i&&O&&Object(a.jsx)(r.f,{display:"flex",marginTop:3,justifyContent:"center",children:Object(a.jsx)(m,{userId:O})})]})]})};var S=({imageUrls:e,subtitle:t,subtitleSize:n,title:i,titleSize:o})=>{if(!e||e.length<=0)return null;const s=Math.min(e.length,3);return Object(a.jsx)(r.f,{color:"white",overflow:"hidden",position:"relative",rounding:8,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",paddingTop:"75%"}},children:Object(a.jsxs)(r.f,{display:"flex",direction:"column",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[Object(a.jsx)(r.f,{display:"flex",height:"100%",width:"100%",children:e.slice(0,s).map((e,t)=>Object(a.jsx)(r.x,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:e},t))}),Object(a.jsxs)(r.f,{flex:"none",justifyContent:"center",paddingX:5,paddingY:6,width:"100%",children:[t&&Object(a.jsx)(r.f,{marginBottom:1,children:Object(a.jsx)(r.cb,{size:n,align:"center",children:t})}),Object(a.jsx)(r.u,{size:o,align:"center",children:i})]})]})})};const T=new Set([3,2,6]),k=({children:e,href:t,isAuthenticated:n,onTap:i})=>n?Object(a.jsx)(r.bb,{onTap:({event:e,disableOnNavigation:t})=>{t(),i({event:e})},tapStyle:"compress",children:e}):Object(a.jsx)(r.bb,{href:t,onTap:({event:e,disableOnNavigation:t})=>{t(),i({event:e})},role:"link",children:e});t.a=({gridIndex:e,id:t,article:n,subtitleSize:c,titleSize:l,viewParameter:p,viewType:h})=>{const b=Object(g.h)(),m=Object(i.useSelector)(({users:e})=>e),x=Object(i.useSelector)(({pins:e})=>e),{isAuthenticated:y}=Object(i.useSelector)(({session:e})=>e),v=Object(i.useSelector)(({todayArticles:e})=>n||e[t]);if(!v)return null;const{article_creator_user:I,content_pin:P,content_pin_official_user:C,display_type:E,feed_source:A,header_pin_id:L,image_urls:F,show_creator:D,subtitle:B,title:M,video_pin:R}=v;let N=null,z=Object(j.e)(A,M,t);switch(E){case 0:N=Object(a.jsx)(s,{imageUrls:F,subtitle:B,subtitleSize:c||"lg",title:M,titleSize:l||"md"});break;case 1:N=Object(a.jsx)(S,{imageUrls:F,subtitle:B,subtitleSize:c||"lg",title:M,titleSize:l||"md"});break;case 8:const n=m[I||""];n?(N=Object(a.jsx)(u,{articleId:t,imageUrls:F,subtitle:B,title:M,user:n,viewParameter:p,viewType:h}),z=`/${encodeURIComponent(n.username)}/`):N=null;break;case 2:R&&(N=Object(a.jsx)(_,{articleId:t,gridIndex:e,pinOfficialUserId:C,showCreator:D,title:M,videoPinId:R,viewParameter:p,viewType:h}),z="/pin/"+R);break;case 3:N=Object(a.jsx)(O,{articleId:t,gridIndex:e,pinId:P,pinOfficialUserId:C,showCreator:D,title:M,viewParameter:p,viewType:h}),z="/pin/"+L;break;case 6:N=Object(a.jsx)(w,{articleId:t,gridIndex:e,pinId:P,title:M,viewParameter:p,viewType:h}),z="/pin/"+L;break;default:N=null}return N?Object(a.jsx)(f.f,{auxData:{grid_index:e.toString(),today_article_id:t},loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:p||3372,viewType:h||1,children:({impressionTrackerRef:n})=>Object(a.jsx)(r.f,{ref:n,children:Object(a.jsx)(k,{href:z,isAuthenticated:y,onTap:()=>{if(Object(d.h)({view_type:h||1,view_parameter:p||3372,component:13525,aux_data:{today_article_id:t,grid_index:e.toString()}}),T.has(E)){const t=P||R;Object(d.e)({event_type:8948,view_type:h||1,view_parameter:p||3372,object_id_str:t,clientTrackingParams:t?x[t].tracking_params:void 0,aux_data:{today_article_id:t,grid_index:e.toString(),cosmic_ray_count:"4",closeup_navigation_type:Object(o.a)(b)}})}b.push(z)},children:N})})}):null}},gJeo:function(e,t,n){n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return b}));var i=n("q1tI"),o=n("n6mq"),r=n("nKUr");function a({category:e,ingredients:t,textSize:n="lg"}){return Object(r.jsxs)(o.f,{marginBottom:4,children:[e&&Object(r.jsx)(o.f,{children:Object(r.jsx)(o.cb,{weight:"bold",size:n,children:e})}),(null!=t?t:[]).map(e=>{var t,i;return Object(r.jsx)(o.f,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:Object(r.jsxs)(o.cb,{size:n,children:[e.amt||null," ",e.name]})},`${null!==(t=e.name)&&void 0!==t?t:""}-${null!==(i=e.name)&&void 0!==i?i:""}`)})]})}var s=n("QqZJ"),c=n("g6r8"),l=n("yweb"),d=n("qpbZ");var p=n("Pezf");const u=({m:e,h:t,rm:n,rh:i},o)=>e&&(!t||i<=0)?Object(d.b)(o.ngettext("{{mins}} minute","{{mins}} minutes",n,"number showing the minutes to complete a recipe","number showing the minutes to complete a recipe"),{mins:n.toString()}):t?Object(d.b)(o.ngettext("{{hrs}} hour","{{hrs}} hours",i,"number showing the hours to complete a recipe","number showing the hours to complete a recipe"),{hrs:i.toString()}):null,h=({m:e,h:t,rm:n,rh:i,i18n:o})=>e&&(!t||i<=0)?Object(d.b)(o._("{{mins}}m","number showing minutes to complete a recipe","number showing mnutes to complete a recipe"),{mins:n.toString()}):t?Object(d.b)(o._("{{hrs}}h {{mins}}m","number showing hours to complete a recipe","number showing hours to complete a recipe"),{hrs:t.toString(),mins:e.toString()}):null,b=(e,t)=>{let n;return n=e.cook_times&&e.cook_times.total?Object(p.a)({m:e.cook_times.total.m||0,h:e.cook_times.total.h||0}):Object(p.a)({m:e.cook_times&&e.cook_times.cook&&e.cook_times.cook.m||0,h:e.cook_times&&e.cook_times.cook&&e.cook_times.cook.h||0}),u(n,t)};t.a=({recipe:e,pinLink:t,image:n})=>{const d=Object(l.c)(),p=Object(c.a)(),{name:u,categorized_ingredients:h}=e,m=h&&(e=>{const t=e.diets&&e.diets.length>0&&e.diets.join(", "),n=e.servings_summary&&e.servings_summary.summary;return t&&n?`${t} • ${n}`:t||n})(e),j=(e=>e.categorized_ingredients?e.categorized_ingredients.reduce((e,t)=>{var n,i;return e+(null!==(n=null===(i=t.ingredients)||void 0===i?void 0:i.length)&&void 0!==n?n:0)},0):0)(e),f=b(e,d),[g,x]=Object(i.useState)(!1);if(!f&&!j&&!m)return null;const O="phone"!==p?106:109;return Object(r.jsxs)(o.f,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[Object(r.jsxs)(o.f,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,maxHeight:g?void 0:O,overflow:"hidden",children:[Object(r.jsx)(o.f,{marginBottom:4,children:Object(r.jsx)(o.cb,{weight:"bold",align:"desktop"===p?"start":"center",children:d._("Ingredients","Ingredients category heading for recipes","Ingredients category heading for recipes")})}),Object(r.jsxs)(s.a,{itemScope:!0,itemType:"https://schema.org/Recipe",children:[Object(r.jsx)("meta",{content:u,itemProp:"name"}),n&&Object(r.jsx)("meta",{content:n,itemProp:"image"}),Array.isArray(h)&&h.length>0&&Object(r.jsx)(o.f,{column:12,"data-test-id":"single-column-ingredients",children:h.map(({category:e,ingredients:t},n)=>Object(r.jsx)(o.f,{marginBottom:2,children:Object(r.jsx)(a,{category:e,ingredients:t,textSize:"lg"})},n))})]})]}),Object(r.jsx)(o.f,{marginBottom:4,display:"flex",justifyContent:"phone"===p?"center":void 0,children:g?t&&Object(r.jsx)(o.B,{href:t,onClick:({disableOnNavigation:e})=>e(),children:Object(r.jsx)(o.g,{inline:!0,text:d._("Make it","closeup.recipe.make_it_button","label for button go to recipe link")})}):Object(r.jsx)(o.g,{inline:!0,text:d._("See all","closeup.recipe.see_all_ingredients_button","label for button to exand recipe ingredients"),onClick:()=>{x(!g)}})})]})}},geJr:function(e,t){e.exports="https://s.pinimg.com/webapp/TH@2x-988a46e6.png"},h8Qw:function(e,t,n){var i=n("/MKj"),o=n("NwG/"),r=n("Lr1Z"),a=n("jnLG"),s=n("yweb"),c=n("S1na"),l=n("n6mq"),d=n("nwTc"),p=n("nKUr");const u=({decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:o,nameTextSize:r,renderAsPill:d,showFollowerCount:u,topic:h,topicBlob:b,topicInfoForContextualExp:m})=>{const j=Object(s.c)(),f=Object(c.a)(),g=m||h||b||{},x=g.images["236x"]||g.images["400x"]||g.images["474x"]||g.images.orig||{height:1,url:"",width:1},O=g.follower_count||-1,y=Object(p.jsx)(l.v,{accessibilityLabel:j._("Selected"),color:"white",icon:n?"check":"check-circle",size:n?12:24});return d?Object(p.jsx)(a.a,{color:g.background_color||"#767676",image:x,isSelected:i,title:g.name}):Object(p.jsxs)(l.f,{position:"relative","aria-selected":i,children:[Object(p.jsx)(l.C,{rounding:n||t?4:2,children:Object(p.jsxs)(l.f,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[Object(p.jsx)(l.f,{bottom:!0,left:!0,padding:n&&i?1:0,position:"absolute",right:!0,rounding:n&&i?4:0,top:!0,children:Object(p.jsx)(l.x,{alt:g.name,color:g.background_color||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:x.url})}),Object(p.jsx)(l.f,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:n&&i?"4px solid #767676":"none"}},rounding:n?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),n&&i&&Object(p.jsx)(l.f,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),t?Object(p.jsx)(l.f,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:Object(p.jsx)(l.cb,{align:"center",color:"white",size:r,weight:"bold",children:g.name})}):Object(p.jsxs)(l.f,{bottom:!0,left:!0,padding:e?1:2,position:"absolute",right:!0,children:[Object(p.jsx)(l.cb,{color:"white",size:r,weight:"bold",children:g.name}),u&&O>=0&&Object(p.jsx)(l.f,{paddingY:1,children:Object(p.jsxs)(l.cb,{color:"white",size:"sm",children:[Object(p.jsx)(l.cb,{color:"white",inline:!0,size:"sm",weight:"bold",children:f(o,O,{shortform:!0,shortform_maximum_fraction_digits:1})}),j._("followers")]})})]}),i&&Object(p.jsx)(l.f,{margin:2,position:"absolute",right:!0,top:!0,children:n?Object(p.jsx)(l.f,{alignItems:"center",color:"darkGray",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:y}):y})]})};t.a=({decreaseNamePadding:e=!1,id:t,isHomefeedTuner:n,isLego:a,isSelected:s=!1,linkDestination:c="topics",nameTextSize:h="lg",onTouch:b,padding:m=2,renderAsPill:j,showFollowButton:f=!1,showFollowerCount:g=!1,shouldClickthrough:x=!1,topicBlob:O,topicInfoForContextualExp:y,viewParameter:w,viewType:v})=>{const _=Object(i.useDispatch)(),S=Object(i.useSelector)(({topics:e})=>e[t]),T=Object(i.useSelector)(({session:e})=>e.locale),k=Object(p.jsxs)(l.f,{"data-test-id":"nux-picker-topic",children:[Object(p.jsx)(u,{decreaseNamePadding:e,isHomefeedTuner:n,isLego:a,isSelected:s,locale:T,nameTextSize:h,renderAsPill:j,showFollowerCount:g,topic:S,topicBlob:O,topicInfoForContextualExp:y}),!!S&&f&&Object(p.jsx)(l.f,{paddingY:2,children:Object(p.jsx)(o.a,{shouldShowAddRemoveText:n,followEventType:601,id:S.id,invertColors:n,isFollowed:S.is_followed||!1,onFollow:e=>_(Object(d.b)(e)),onUnfollow:e=>_(Object(d.d)(e)),size:"md",unfollowEventType:602,viewParameter:w||void 0,viewType:v||void 0})})]});let I="/";return S&&("explore"===c?I="/explore/"+encodeURIComponent(S.slug):["topic","topics"].includes(c)?I="/topics/"+S.id:"ideas"===c?I=`/ideas/${encodeURIComponent(S.slug)}/${S.id}`:"search"===c&&(I="/search/pins/?rs=ac&q="+encodeURIComponent(S.slug))),x&&null!=S&&S.slug?Object(p.jsx)(r.a,{inline:!1,onTouch:b,pressState:["compress","background"],rounding:2,to:I,children:Object(p.jsx)(l.f,{padding:m,children:k})}):k}},hCZv:function(e,t){e.exports="https://s.pinimg.com/webapp/VI@2x-abdc2e13.png"},hlxQ:function(e,t,n){n.d(t,"a",(function(){return y}));var i=n("q1tI"),o=n("/MKj"),r=n("FDmi"),a=n("NwG/"),s=n("U1vm"),c=n("yweb"),l=n("n6mq"),d=n("nKUr");const p={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}};var u=({image:e,pin:t,width:n})=>{var i;const o=Object(c.c)(),r=t?null===(i=t.images)||void 0===i?void 0:i["236x"]:e;return Object(d.jsx)(l.f,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:r?Object(d.jsxs)(l.f,{position:"relative",children:[Object(d.jsx)(l.A,{width:n,height:117,contentAspectRatio:r.width/r.height,children:Object(d.jsx)(l.x,{alt:o._("pin image","alt text for pin image","alt text for pin image"),color:r.dominant_color||void 0,naturalWidth:r.width,naturalHeight:r.height,src:r.url})}),Object(d.jsx)(l.f,{dangerouslySetInlineStyle:p,height:117,width:n,position:"absolute",top:!0,left:!0})]}):Object(d.jsx)(l.f,{color:"lightGray",width:n,height:117})})},h=n("S1na"),b=n("XBgn");var m=function({badgeSize:e,badgeSpacing:t,fullName:n,verifiedType:o,truncate:r=!1}){const a=n.split(" "),s=a.slice(0,a.length-1).join(" "),c=" ".concat(a[a.length-1]);return r?Object(d.jsxs)(l.f,{display:"flex",children:[Object(d.jsx)(l.cb,{truncate:!0,weight:"bold",children:n}),Object(d.jsx)(l.f,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:Object(d.jsx)(b.a,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]}):Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)("span",{children:s}),Object(d.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[c," ",Object(d.jsx)(l.f,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:Object(d.jsx)(b.a,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]})]})},j=n("kEen"),f=n("qpbZ"),g=n("AGnR"),x=n("t84P"),O=n("5SBu");function y({action:e,auxData:t,onFollowUser:n,onUnfollowUser:p,userId:b,userPins:y,viewParameter:w,viewType:v,truncateName:_=!1}){const S=Object(c.c)(),T=Object(h.a)(),k=Object(o.useDispatch)(),{locale:I}=Object(o.useSelector)(({session:e})=>e),[P,C]=Object(i.useState)(null),E=e=>{e&&C(e.offsetWidth)},A=Object(o.useSelector)(({users:e})=>e[b]),{explicitly_followed_by_me:L,follower_count:F=0,full_name:D,image_medium_url:B,is_verified_merchant:M,recent_pin_images:R,username:N,verified_identity:z}=A,H=()=>{Object(g.e)({event_type:9029,object_id_str:b,view_type:v,view_parameter:w,aux_data:t})},U=e=>{n&&n(),k(Object(O.g)(e))},W=e=>{p&&p(),k(Object(O.k)(e))},G=P?Math.floor(P/2)-1:0,q=P?P-G:0,V=R&&(R["222x"]||R["192x"]),Y=[Object(d.jsx)(u,{image:null==V?void 0:V[0],pin:null==y?void 0:y[0],width:G},"pinImage-0"),Object(d.jsx)(u,{image:null==V?void 0:V[1],pin:null==y?void 0:y[1],width:q},"pinImage-1")];return Object(d.jsx)(x.h,{loggingId:b,objectIdStr:b,slotIndex:0,viewParameter:w,viewType:v,children:({impressionTrackerRef:t})=>Object(d.jsx)(l.f,{ref:t,padding:1,marginBottom:4,"data-test-id":"user-rep",children:Object(d.jsx)(j.a,{to:`/${N}/`,onTouch:()=>{return e=b,void Object(g.e)({event_type:43,object_id_str:e,view_parameter:w,view_type:v});var e},children:Object(d.jsxs)(l.t,{direction:"column",gap:2,width:"100%",children:[P?Object(d.jsx)(l.C,{rounding:4,children:Object(d.jsx)(l.t,{children:Y})}):Object(d.jsx)(l.f,{height:117,ref:E,width:"100%"}),Object(d.jsx)(l.t,{justifyContent:"center",children:Object(d.jsx)(l.f,{marginTop:-10,height:60,width:60,children:Object(d.jsx)(r.a,{outline:!0,name:null!=D?D:"",src:null!=B?B:""})})}),Object(d.jsxs)(l.t,{direction:"column",gap:1,alignItems:"center",children:[Object(d.jsx)(l.t,{alignItems:"stretch",maxWidth:P||void 0,children:Object(d.jsx)(l.cb,{align:"center",weight:"bold",truncate:_,children:M||null!=z&&z.verified?Object(d.jsx)(m,{badgeSize:"md",badgeSpacing:2,fullName:null!=D?D:"",verifiedType:M?"verifiedMerchant":"verifiedIdentity",truncate:_}):D})}),Object(d.jsx)(l.cb,{inline:!0,size:"sm",align:"center",children:Object(f.b)(S.ngettext("{{followers}} follower","{{followers}} followers",F,"PinnerAuthority.followersCount","Count of a user's followers"),{followers:T(I,F,{shortform:!0})})}),Object(d.jsx)(l.t,{children:e&&e.url?Object(d.jsx)(s.a,{accessibilityLabel:e.text,color:"lightGray",shape:"pill",size:"lg",text:e.text,to:e.url,onTouch:H}):Object(d.jsx)(a.a,{id:b,isSecondaryButton:!0,isFollowed:L,onFollow:U,onUnfollow:W,size:"lg",followEventType:45,unfollowEventType:46,viewParameter:w,viewType:v})})]})]})})})})}},hqnJ:function(e,t,n){var i=n("i2lo"),o=n("q1tI"),r=n("bcHz"),a=n("fv8A"),s=n("eyT9"),c=n("n6mq"),l=n("nKUr");const d={lightMode:{backgroundColor:"#E60023",color:"#FFFFFF"},darkMode:{backgroundColor:"#E60023",color:"#FFFFFF"}},p={lightMode:{backgroundColor:"#EFEFEF",color:"#111111"},darkMode:{backgroundColor:"#292929",color:"#EFEFEF"}},u=({color:e,isPrimary:t,shape:n,text:i,textColor:o})=>{const r=(t?d:p)[Object(s.e)()?"darkMode":"lightMode"];return Object(l.jsx)(c.cb,{align:"center",weight:"bold",children:Object(l.jsx)("div",{className:t?"banner-button-primary":"banner-button-secondary",style:{backgroundColor:e||r.backgroundColor,borderRadius:"pill"===n?"24px":"4px",color:o||r.color,padding:"10px 14px"},children:i})})};var h=({external:e,externalQueryParams:t,newTab:n,onTouch:i,pressState:o,refresh:s,to:d,accessibilityLabel:p,color:h,isPrimary:b,textColor:m,minHeight:j=40,shape:f,text:g})=>Object(l.jsx)(c.f,{"aria-label":p,minHeight:j,children:d?Object(l.jsx)(a.a,{external:e,externalQueryParams:t,newTab:n,onTouch:i,refresh:s,to:d,children:({navigate:e})=>Object(l.jsx)(r.a,{onTouch:e,pressState:o||"none",rounding:"pill"===f?"pill":2,children:Object(l.jsx)(u,{color:h,isPrimary:b,shape:f,text:g,textColor:m})})}):Object(l.jsx)(r.a,{onTouch:i,pressState:o||"none",rounding:"pill"===f?"pill":2,children:Object(l.jsx)(u,{color:h,isPrimary:b,shape:f,text:g,textColor:m})})}),b=n("ihsa"),m=n("EfoL");function j(e){return e.startsWith("https://")||e.startsWith("http://")}var f=n("wMN6");var g=function({experience:e,onComplete:t,onDismiss:n}){const{display_data:i={},experience_id:r,placement_id:a}=e||{},s=Object(o.useMemo)(()=>Object(f.e)(f.p)(i),[i]),{backgroundColorNarrowMweb:d,backgroundColorWideMweb:p,backgroundImageNarrow:u,backgroundImageWide:g,button1ColorNarrowMweb:x,button1ColorWideMweb:O,button1TextColorNarrowMweb:y,button1TextColorWideMweb:w,button1Text:v,button1Uri:_,button2ColorNarrowMweb:S,button2ColorWideMweb:T,button2TextColorNarrowMweb:k,button2TextColorWideMweb:I,button2Text:P,button2Uri:C,completeButtonAction:E,coverImage:A,detailedTextWithLinks:L,iconImage:F,layoutNarrow:D,layoutWide:B,links:M,linkTitles:R,primaryColorNarrowMweb:N,primaryColorWideMweb:z,titleText:H}=s,{windowWidth:U}=Object(m.h)(),W=U<=480,G=W?D:B,q=W?{STACKED_TEXT:1,CENTERED_ICON_IMAGE_AND_TEXT:2,COVER_IMAGE_AND_TEXT:3}:{INLINE_TEXT:1,INLINE_ICON_IMAGE_AND_TEXT:2,STACKED_TEXT:3},V=!W&&G!==q.STACKED_TEXT,Y=W?d:p,K=W?x:O,X=W?y:w,$=W?S:T,Q=W?k:I,Z=W?N:z,{altText:J,uri:ee}=(W?u:g)||{},{altText:te,uri:ne}=A||{},{altText:ie,uri:oe}=F||{},re=W&&G===q.CENTERED_ICON_IMAGE_AND_TEXT||!W&&G===q.INLINE_ICON_IMAGE_AND_TEXT,ae=W?"96px":"48px",se=W&&G===q.COVER_IMAGE_AND_TEXT,ce=v&&Object(l.jsx)(c.f,{marginEnd:2,children:Object(l.jsx)(h,{accessibilityLabel:v,color:K,external:_?j(_):void 0,onTouch:()=>{!_&&a&&r&&n&&n()},shape:"pill",text:v,textColor:X,to:_})}),le=P&&Object(l.jsx)(h,{accessibilityLabel:P,color:$,external:C?j(C):void 0,isPrimary:!0,onTouch:()=>{return e=E,void(t&&t(e));var e},shape:"pill",text:P,textColor:Q,to:C}),de=M.reduce((e,t,n)=>{const i=`<a href="${t}" ${j(t)?'rel="noreferrer noopener" target="_blank"':""}>${R[n]}</a>`;return e.replace(`{${n}}`,i)},L),pe={backgroundColor:Y,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},ue={backgroundImage:!ee||re||se?void 0:`url(${ee})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return Object(l.jsx)(c.f,{dangerouslySetInlineStyle:{__style:pe},marginBottom:1,rounding:4,children:Object(l.jsxs)(c.C,{rounding:4,children:[se&&ne&&Object(l.jsx)(c.f,{alignItems:"start",display:"flex",height:128,justifyContent:"center",width:"100%",children:Object(l.jsx)(c.x,{alt:te||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:ne})}),Object(l.jsxs)(c.f,{"aria-label":J,alignItems:"center",dangerouslySetInlineStyle:{__style:ue},direction:V?"row":"column",display:"flex",justifyContent:"between",marginTop:se?-2:0,padding:6,children:[Object(l.jsxs)(c.f,{alignItems:"center",direction:V?"row":"column",display:"flex",justifyContent:"between",maxWidth:V?void 0:"560px",children:[re&&oe&&Object(l.jsx)(c.f,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginEnd:V?4:0,marginBottom:V?0:6,children:Object(l.jsx)(c.f,{height:ae,width:ae,children:Object(l.jsx)(c.C,{rounding:V?4:6,children:Object(l.jsx)(c.x,{alt:ie||"icon",naturalHeight:1,naturalWidth:1,src:oe})})})}),!V&&H&&Object(l.jsx)(c.cb,{align:"center",weight:"bold",children:Object(l.jsx)("div",{style:{color:Z,fontSize:"20px",marginBottom:"8px"},children:H})}),L&&Object(l.jsxs)(c.cb,{align:V?"start":"center",overflow:"normal",children:[Object(l.jsx)(b.a,{unsafeCSS:`\n                      .nag-text a {\n                        color: ${Z||""};\n                        font-weight: bold;\n                      }`}),Object(l.jsx)("div",{className:"nag-text",dangerouslySetInnerHTML:{__html:de},style:{color:Z}})]})]}),(ce||le)&&Object(l.jsxs)(c.f,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:V?0:-1,marginStart:V?4:0,marginTop:V?0:4,wrap:!V,children:[ce,le]})]})]})})};t.a=({experience:e={}})=>Object(l.jsx)(i.a,{experience:e,predicate:e=>e&&e.display_data&&1===e.display_data.component_type,children:({complete:e,dismiss:t,experience:n})=>Object(l.jsx)(g,{experience:n,onComplete:e,onDismiss:t})})},i2lo:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("4kAQ");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),a(this,"view",()=>{const{experience:e,isBackendExperience:t,viewExperience:n,viewExperienceObject:i}=this.props;e&&(t?i(e):n(e.placement_id,e.experience_id))}),a(this,"complete",e=>{const{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:o,preventRemoval:r}=this.props;if(i){const{placement_id:a,experience_id:s}=i||{},c=r||2===e;(1===e||c)&&a&&s&&(o?n(i,c):t(a,s,c))}}),a(this,"dismiss",()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i}=this.props,{placement_id:o,experience_id:r}=n||{};n&&(i?t(n):e(o,r))}),a(this,"shouldRenderExperience",()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:n,predicate:i}=this.props,{experience_id:o,type:r}=e;if(i&&i(e))return!0;if(t&&t.includes(o))return!0;if(n&&n.includes(r))return!0}return!1})}componentDidMount(){const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}render(){const{children:e,experience:t}=this.props;return t&&e&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,view:this.view}):i.Children.only(e):null}}a(s,"defaultProps",{eligibleIds:[],eligibleTypes:[]});t.a=Object(o.connect)(({experiences:e},t)=>({experience:t.experience||(t.placementId?e[t.placementId]:void 0)}),e=>({completeExperience:(t,n,i)=>e(Object(r.a)(t,n,i)),completeExperienceObject:(t,n)=>e(Object(r.b)(t,n)),dismissExperience:(t,n)=>e(Object(r.d)(t,n)),dismissExperienceObject:t=>e(Object(r.e)(t)),viewExperience:(t,n)=>e(Object(r.n)(t,n)),viewExperienceObject:t=>e(Object(r.o)(t))}))(s)},i4MZ:function(e,t){e.exports="https://s.pinimg.com/webapp/FI@2x-695433d6.png"},iMWs:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var i=n("1dBE");const{Provider:o,Consumer:r,useHook:a,HOC:s}=Object(i.b)("pageContext")},iaut:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("/MKj"),o=n("n6mq"),r=n("nKUr");const a=new o.s(1);function s({children:e,isImagePinForUnauthOnTablet:t}){const n=Object(i.useSelector)(({session:e})=>e.isAuthenticated);return Object(r.jsxs)(o.f,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:n?void 0:a,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[Object(r.jsx)(o.f,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},isjV:function(e,t,n){n.r(t),n.d(t,"FollowingFeed",(function(){return _})),n.d(t,"default",(function(){return S}));var i=n("q1tI"),o=n.n(i),r=n("/MKj"),a=n("eqwQ"),s=n("MKeS"),c=n("pE5B"),l=n("Bb4+"),d=n("o+5w"),p=n("rYoy"),u=n("HMf0"),h=n("n6mq"),b=n("r8+8"),m=n("F2ZA"),j=n("RNo4"),f=n("QAzJ"),g=n("OadL"),x=n("EC67"),O=n("nKUr"),y=n.n(O);const w=Object(s.a)({resolved:{},chunkName:()=>"HomePage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendor-react"),n.e(0),n.e("HomePage")]).then(n.bind(null,"NpKs")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"NpKs"}}),v=Object(i.lazy)(()=>n.e(669).then(n.bind(null,"8Cto"))),_=Object(a.a)({feedKey:"following",trafficSource:"feed_following",resourceName:"FollowingFeedResource",resourceOptions:()=>({}),feedItemProps:()=>({viewParameter:0,viewType:1}),pullToRefresh:!0,emptyState:({history:e,location:t})=>Object(O.jsx)(p.a,{children:Object(O.jsx)(h.f,{paddingX:2,children:Object(O.jsx)(v,{history:e,location:t})})})});function S(){const e=Object(x.h)(),t=Object(x.i)(),n=Object(u.a)("/"),{anyEnabled:i}=Object(f.a)("mweb_video_feed"),{anyEnabled:o}=Object(f.a)("mweb_today_tab_v1"),a=Object(r.useSelector)(e=>e),{activeTabBoardId:s,activeTabIndex:p}=Object(r.useSelector)(({homefeedTabUI:e})=>({activeTabIndex:e.activeTabIndex,activeTabBoardId:e.activeTabBoardId})),y=Object(r.useSelector)(e=>{var t;return(null===(t=Object(g.i)(e))||void 0===t?void 0:t.country)||""}),v=Object(r.useSelector)(({session:e})=>e.locale),S=Object(m.h)(y,v)&&o,T=Object(g.a)("homefeed-more-ideas-tabs"),k=Object(r.useSelector)(e=>T(e)),I=Object(j.k)(t.search),P=I&&I.boardId||s,C=(k||[]).map(e=>a.boards[e.id]);return n||(i?Object(O.jsx)(w,{}):Object(O.jsx)(d.a,{viewType:1,viewParameter:0,children:Object(O.jsxs)(l.b,{hasFixedHeader:!0,children:[Object(O.jsx)(b.c,{noPadding:!0,hideOnScroll:!1,overrideTop:0,children:Object(O.jsx)(h.f,{paddingY:1,children:Object(O.jsx)(c.b,{tabBoards:C,currentTabIndex:p,currentBoardId:P,shouldShowFollowingFeedTab:!0,shouldShowTodayTab:S})})}),Object(O.jsx)(_,{history:e,location:t})]})}))}},jXQH:function(e,t,n){var i=n("TO8r"),o=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(o,""):e}},jnLG:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("eyT9"),o=n("n6mq"),r=n("nKUr");function a({color:e,image:t,isSelected:n,title:a}){return Object(r.jsxs)(o.f,{alignItems:"center","aria-selected":n,dangerouslySetInlineStyle:{__style:{backgroundColor:n?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[Object(r.jsx)(o.C,{height:48,rounding:"circle",width:48,children:Object(r.jsx)(o.x,{alt:a,color:e,fit:"cover",naturalHeight:t.height,naturalWidth:t.width,src:t.url})}),Object(r.jsx)(o.f,{marginStart:2,marginEnd:3,children:Object(r.jsx)(o.cb,{color:n?"white":Object(i.e)()?"lightGray":"darkGray",children:Object(r.jsx)("span",{style:{fontWeight:600},children:a})})})]})}},jxkU:function(e,t){e.exports="https://s.pinimg.com/webapp/DE@2x-22831293.png"},kBCb:function(e,t){e.exports="https://s.pinimg.com/webapp/ID@2x-34da9a4a.png"},kH38:function(e,t){e.exports="https://s.pinimg.com/webapp/DE@2x-e398675a.png"},"l+Ya":function(e,t,n){n.d(t,"a",(function(){return v}));var i=n("/MKj"),o=n("K/ae"),r=n("o+5w"),a=n("hFTz"),s=n("gCPk"),c=n("n6mq"),l=n("nKUr");var d=({marginTop:e,subtitle:t,title:n})=>{const i=Math.trunc((e||0)/4);return Object(l.jsxs)(c.f,{paddingX:9,marginTop:i,"data-test-id":"today-tab-header",children:[t?Object(l.jsx)(c.cb,{align:"center",children:n}):Object(l.jsx)(c.u,{accessibilityLevel:1,align:"center",size:"sm",children:n}),t&&Object(l.jsx)(c.f,{marginTop:1,children:Object(l.jsx)(c.u,{accessibilityLevel:1,align:"center",size:"md",children:t})})]})},p=n("q1tI"),u=n("yweb"),h=n("pE5B"),b=n("VuCO"),m=n("AGnR"),j=n("EC67");var f=({hasGoToHomefeedButton:e,marginBottom:t,marginTop:n,subtitle:o,title:r})=>{const a=Object(u.c)(),s=Object(i.useDispatch)(),d=Object(p.useCallback)(()=>s(Object(b.a)(null,h.a)),[s]),f=Object(j.h)();return Object(l.jsxs)(c.f,{"data-test-id":"today-tab-footer",alignItems:"center",display:"flex",direction:"column",paddingX:12,dangerouslySetInlineStyle:{__style:{marginBottom:t,marginTop:n}},children:[Object(l.jsx)(c.v,{accessibilityLabel:a._("End of feed","today_tab.end_of_feed","icon marking end of today tab"),color:"darkGray",icon:"check-circle",size:30}),Object(l.jsx)(c.f,{marginTop:4,children:Object(l.jsx)(c.cb,{align:"center",children:r})}),Object(l.jsx)(c.f,{marginTop:1,children:Object(l.jsx)(c.cb,{align:"center",weight:"bold",children:o})}),e&&Object(l.jsx)(c.f,{marginTop:10,children:Object(l.jsx)(c.g,{inline:!0,onClick:()=>{Object(m.h)({view_type:1,view_parameter:3372,component:8,element:11689}),d(),f.push("/")},text:a._("Go to home feed","today_tab.end_of_feed.go_back_to_homefeed_button","Button label at the end of today tab that takes user back to homefeed")})})]})};var g=({id:e,itemIndex:t})=>{var n;const o=Object(i.useSelector)(t=>t.stories[e]),r=Object(i.useSelector)(({session:e})=>e.isAuthenticated);switch(null==o?void 0:o.story_type){case"today_tab_date_header":case"today_tab_header":return Object(l.jsx)(d,{marginTop:0===t?0:24,subtitle:(null===(n=o.subtitle)||void 0===n?void 0:n.format)||"",title:o.title.format});case"today_tab_footer":const e=28;return Object(l.jsx)(f,{hasGoToHomefeedButton:r,marginTop:e,marginBottom:e,subtitle:o.subtitle.format,title:o.title.format});default:return null}},x=n("F2ZA"),O=n("0HhX");const y=({data:e,itemIdx:t})=>{const n=(()=>{switch(e.type){case"todayArticle":return Object(l.jsx)(c.f,{"data-test-id":"today-tab-article",children:Object(l.jsx)(s.a,{id:e.id,gridIndex:t,viewType:1,viewParameter:3372})});case"story":return Object(l.jsx)(g,{id:e.id,itemIndex:t});default:return null}})();return Object(l.jsx)(c.f,{paddingY:2,children:n})};function w({numDaysToFetch:e,paddingY:t=3}){var n;const r=Object(u.c)(),a=Object(j.i)(),{fetching:s,fetchMore:d}=Object(O.a)({name:"TodayTabResource",options:Object(x.g)(!0,e,null===(n=a.state)||void 0===n?void 0:n.referrer)}),{isTablet:p}=Object(i.useSelector)(({session:e})=>e),h=Object(i.useSelector)(({feeds:e})=>e["today-tab"]),b=Array.isArray(h)&&h.length>0;return Object(l.jsxs)(c.f,{paddingY:t,"data-test-id":"today-tab-feed",children:[b&&Object(l.jsx)(o.a,{cacheKey:"todayTab",comp:y,items:h,loadItems:d,minCols:p?2:1,gutterWidth:p?24:12}),s&&!b&&Object(l.jsx)(c.f,{column:12,paddingY:2,children:Object(l.jsx)(c.U,{accessibilityLabel:r._("Loading feed","today_tab.loading","spinner label when loading today tab"),show:!0})})]})}function v({numDaysToFetch:e,paddingY:t}){return Object(l.jsx)(r.a,{viewType:1,viewParameter:3372,children:Object(l.jsx)(a.a,{view:1,viewParameter:3372,children:Object(l.jsx)(w,{numDaysToFetch:e,paddingY:t})})})}},lbiE:function(e,t){e.exports="https://s.pinimg.com/webapp/EL@2x-5895bc67.png"},lnDX:function(e,t,n){n.d(t,"a",(function(){return V}));var i=n("q1tI"),o=n("o9su"),r=n("B/lV"),a=n("SyXB"),s=n("gz6+");var c=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...Object(s.a)("constraint_",e),...Object(s.a)("mark_",Object(a.d)()),...Object(s.a)("browser_",{...t?Object(s.b)(t):{},...Object(s.c)()})}),l=n("FylZ"),d=n("LvPn"),p=n("+lzj");var u=(e,t)=>{const{firstInputDelay:n}=Object(p.e)();return[...e.map(e=>Object(d.a)(e,t)).filter(Boolean),...n?[{name:"fid",id:Object(l.a)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]},h=n("HMdf"),b=n("fZG9");var m=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:a,imageTimings:s,metricId:l,pwtStaticContext:d,startTime:p,traceId:m,spans:j})=>{const f=Object(h.c)();let g;"initial_app_load"===l.navigationType&&(g=Object(o.a)());const x=s.map(({name:e})=>e),O=f.map(e=>Object(r.a)(e,x)).filter(({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime||e<n.startTime-100)(e,{startTime:p,endTime:a}));return{type:"COMPLETE",traceId:m,startTime:p,endTime:a,spans:u(O,m).concat(j),annotationMap:c({constraintMap:i,initialNavTiming:g,annotations:t}),binaryAnnotationMap:Object(b.b)({annotateExperiments:e,binaryAnnotations:n,entries:f,metricId:l,performanceResources:O,pwtEndTime:a,pwtStaticContext:d})}},j=n("3/Bf");let f=!1;var g=(e,t)=>e&&t?f?(Object(j.b)("duplicated_initial_app_load_surface_pwt"),Object(l.a)()):(f=!0,t):Object(l.a)(),x=n("n6mq"),O=n("bNC6"),y=n("nKUr");function w({children:e,heading:t}){return Object(y.jsxs)("table",{style:{width:"100%"},cellPadding:4,children:[Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:Object(y.jsx)("th",{colSpan:2,style:{background:"#efefef"},children:Object(y.jsx)(x.cb,{weight:"bold",align:"center",children:t})})})}),Object(y.jsx)("tbody",{children:e})]})}function v({name:e,children:t}){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:Object(y.jsx)(x.cb,{weight:"bold",children:e})}),Object(y.jsx)("td",{children:"string"==typeof t?Object(y.jsx)(x.cb,{children:t}):t})]})}function _({result:e}){return"ABORT"===e.type?Object(y.jsx)(v,{name:"Abort Reason",children:e.reason}):Object(y.jsxs)(i.Fragment,{children:[Object(y.jsx)(v,{name:"PWT (ms)",children:Object(y.jsx)(x.cb,{align:"end",children:Math.round(e.endTime-e.startTime)})}),Object(y.jsx)(v,{name:"PinTrace",children:Object(y.jsx)(x.cb,{italic:!0,children:Object(y.jsx)(x.B,{href:"https://pintrace.pinadmin.com/zipkin/traces/"+e.traceId,target:"blank",inline:!0,onClick:({disableOnNavigation:e})=>e(),children:"Open in a new tab"})})})]})}function S({data:e}){const{metricId:t,constraints:n,constraintMap:i,startTime:o,result:r}=e;return Object(y.jsxs)(x.f,{children:[Object(y.jsxs)(w,{heading:Object(O.b)(t),children:[Object(y.jsx)(v,{name:"Thrift Id",children:String(Object(O.a)(t))}),Object(y.jsx)(v,{name:"Surface",children:t.surface}),Object(y.jsx)(v,{name:"Navigation Type",children:t.navigationType}),Object(y.jsx)(v,{name:"Viewer Authed",children:String(t.isAuthenticated)})]}),Object(y.jsx)(w,{heading:"Constraints",children:n.map(e=>Object(y.jsx)(v,{name:e,children:Object(y.jsx)(x.cb,{align:"end",children:i[e]?Math.round(i[e]-o):"pending..."})},"constraint_"+e))}),Object(y.jsx)(w,{heading:"Result",children:r?Object(y.jsx)(_,{result:r}):Object(y.jsx)(v,{name:"result",children:Object(y.jsx)(x.U,{accessibilityLabel:"profiling PWT",show:!0})})})]})}var T=n("LT60");const k=e=>e.result?"COMPLETE"===e.result.type?"darkGray":"red":"gray";function I({data:e}){const[t,n]=Object(i.useState)(!1);return Object(y.jsx)(T.a,{children:Object(y.jsxs)(x.z,{children:[Object(y.jsx)(x.f,{position:"fixed",margin:3,marginBottom:12,bottom:!0,left:!0,width:50,height:50,dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:Object(y.jsx)(x.w,{accessibilityLabel:"PwtDebugger",bgColor:"lightGray",iconColor:k(e),icon:"flash",size:"lg",onClick:()=>n(!0)})}),t&&Object(y.jsx)("div",{style:{position:"absolute",zIndex:2e3},children:Object(y.jsx)(x.G,{accessibilityModalLabel:"Pinner Wait Time Debugger Details",heading:"Pinner Wait Time",onDismiss:()=>n(!1),footer:null,size:"sm",children:Object(y.jsx)(x.f,{padding:6,children:Object(y.jsx)(S,{data:e})})})})]})})}var P=n("mRg4");var C=(e,t)=>{const n=Object(i.useRef)(e);Object(i.useEffect)(()=>{n.current=e},[e]);const o=Object(i.useRef)(t);Object(i.useEffect)(()=>{o.current=t},[t]),Object(i.useEffect)(()=>()=>o.current(n.current),[])};var E=(e,t)=>{const[n,o]=Object(i.useState)(t);return{state:n,dispatch:t=>o(n=>e(n,t))}},A=n("XtwW"),L=n("FZ8N"),F=n("LrH5"),D=n("6lKZ"),B=n("y2Ga"),M=n("xfna");const R=["initial_app_load","client_route_push"],N=Object(F.a)("PwtSurface"),z="NavigationComplete",H="VisuallyComplete",U=(e,t)=>{e.isSampled&&Object(P.a)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},W=e=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){const t=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t]));return((e,t)=>{var n;const{metricConfig:{metricId:i,pwtStaticContext:o,annotateExperiments:r},annotations:a,binaryAnnotations:s,constraintMap:c,startTime:l,imageTimings:d,isSampled:p,spans:u}=e,h=g("initial_app_load"===i.navigationType,null===(n=o.serverData)||void 0===n?void 0:n.trace_id),b=m({annotateExperiments:r,annotations:a,binaryAnnotations:s,constraintMap:c,endTime:t,imageTimings:d,metricId:i,pwtStaticContext:o,startTime:l,traceId:h,spans:u});return p&&Object(P.a)({metricId:i,pwtStaticContext:o,result:b}),{...e,result:b,status:"DONE"}})(e,t)}return e},G=(e,t)=>{const{constraint:n,time:i}=t,o=Object(O.b)(e.metricConfig.metricId);return A.a?e.metricConfig.constraints.find(e=>e===n)?e.constraintMap[n]?(N(`constraint "${n}" is already complete.`),Object(j.b)("duplicated_constraint_complete",{constraint:n,action:o}),e):(N(`marking constraint "${n}" as complete`),W({...e,constraintMap:{...e.constraintMap,[n]:i||A.a.now()}})):(N(`marked constraint "${n}" is not a required constraint.`),e):(Object(j.b)("missing_window_performance",{action:o}),e)},q=(e,t)=>{if(N("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:n,startTime:i,isSampled:o}=t;if("TIMING"===e.status&&i!==e.startTime&&U(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};const r=Object(O.b)(n.metricId);return"TIMING"===e.status&&e.startTime===i&&e.constraintMap.NavigationComplete?(Object(j.b)("duplicated_init_route_action",{action:r}),e):(Object(j.c)("TIMING."+r),G({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:o,spans:[]},{constraint:z}))})(e,t.payload);if("TIMING"!==e.status)return N("ignoring action due to invalid state "+e.status,t),e;switch(t.type){case"ABORT":U(e,t.reason);const n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":const{name:i}=t.payload;if(!A.a)return e;const o=A.a.now();return N(`adding annotation {${i}: ${o}}`),{...e,annotations:{...e.annotations,[i]:o}};case"BINARY_ANNOTATE":const{name:r,value:a,annotationType:s}=t.payload;return N(`adding binary annotation {${r}: ${a}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:a,type:s}}};case"MARK_CONSTRAINT_COMPLETE":return G(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!A.a){const t=Object(O.b)(e.metricConfig.metricId);Object(j.b)("missing_window_performance",{action:t})}N(`removing constraint "${t}"`);const n=e.metricConfig.constraints.filter(e=>e!==t),{[t]:i,...o}=e.constraintMap;return W({...e,constraintMap:o,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!A.a){const t=Object(O.b)(e.metricConfig.metricId);Object(j.b)("missing_window_performance",{action:t})}N(`updating pwt segment to "${t}"`);const n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:n}}=t;if(0===n.length){U(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const i=Math.max(...n.map(e=>e.responseEnd||0));return G({...e,imageTimings:n},{constraint:H,time:i})}case"ADD_SUBSPAN":const{startTime:c}=e,{payload:{name:d,startTime:p,endTime:u,annotations:h,binaryAnnotations:b,parentId:m}}=t;return{...e,spans:[...e.spans,{name:d,id:Object(l.a)(),startTime:p||c,endTime:u,annotationMap:{...h},binaryAnnotationMap:{...b},parentId:m}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:Object(l.a)(),startTime:A.a?A.a.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const f=e.spans.findIndex(e=>e.name===t.payload.name);return f>-1?(e.spans[f].endTime=A.a?A.a.now():0,t.payload.annotations&&(e.spans[f].annotationMap={...e.spans[f].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[f].binaryAnnotationMap={...e.spans[f].binaryAnnotationMap,...t.payload.binaryAnnotations})):Object(j.b)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const g=Object(O.b)(e.metricConfig.metricId);return Object(j.b)("invalid_pwt_surface_action",{action:g}),e}};function V({children:e,...t}){const n=Object(M.b)(),o={...t,navigationInfo:{navigationType:(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(n),clientNavigation:n}},{state:r,context:a}=(({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:o,annotateExperiments:r,customEnabledNavigationTypes:a,navigationInfo:{clientNavigation:s,navigationType:c},sampleRate:l})=>{const d=Object(i.useRef)("NOT_SET"),p=Object(M.c)(),{state:u,dispatch:h}=E(q,{status:"DISABLED",metricConfig:null});if(d.current!==s&&(d.current=s,p)){const{isAuthenticated:i}=p,d=a||R,u=e&&c&&d.includes(c)?{metricId:{type:"surface",surface:e,navigationType:c,isAuthenticated:i,segment:n},annotateExperiments:r,constraints:[z,...t||[],...o?[H]:[]],pwtStaticContext:p}:null;h({type:"INIT_ROUTE",payload:{metricConfig:u,startTime:s?s.time:0,isSampled:!l||Math.random()<l}})}if(Object(i.useEffect)(()=>{const e=e=>{h({type:"ABORT",reason:e})};D.a.onSessionPause(e);const t=()=>{window.removeEventListener("resize",t),h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{D.a.removePauseListener(e),window.removeEventListener("resize",t)}},[]),C(u,e=>{N("handling unmount",e),"TIMING"===e.status&&U(e,"unmount")}),"TIMING"!==u.status||!u.constraintMap.NavigationComplete)return{state:u,context:null};const{startTime:b,metricConfig:m}=u;return{state:u,context:{id:b,metricId:m.metricId,abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),setVisuallyCompleteResult:m.constraints.includes(H)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:A.a?A.a.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),addSubspan:(e,t,n,i={},o={},r=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:o,parentId:r}}),startSubspan:(e,t={},n={},i=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}})(o);return(()=>{const e=Object(B.c)(),t=!!e;Object(i.useEffect)(()=>{if(t){const t=null!=e&&e.metricId?Object(O.b)(e.metricId):null;Object(j.b)("nested_pwt_surface",{action:t})}},[t])})(),Object(y.jsxs)(i.Fragment,{children:[Object(y.jsx)(B.b,{value:a,children:e}),L.b&&"DISABLED"!==r.status&&Object(y.jsx)(I,{data:{metricId:r.metricConfig.metricId,constraints:r.metricConfig.constraints,constraintMap:r.constraintMap,startTime:r.startTime,result:"DONE"===r.status?r.result:null}})]})}},mUuv:function(e,t){e.exports="https://s.pinimg.com/webapp/JA@2x-15535147.png"},mp1x:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("hLPq"),a=n("D2p8"),s=n("yweb"),c=n("AGnR"),l=n("n6mq"),d=n("nKUr");const p=new l.s(100),u=new l.n([p]);var h=function(){const e=Object(s.c)(),t=Object(d.jsx)(l.f,{padding:2,color:"blue",rounding:"circle",children:Object(d.jsx)(l.v,{accessibilityLabel:e._("Learn more about Pinterest","signup.modal.app.upsell.prod.education.jp","Upsell prod education link JP"),color:"white",icon:"question-mark",size:12})}),n=Object(d.jsxs)(l.f,{alignItems:"center",display:"flex",direction:"row",dangerouslySetInlineStyle:{__style:{padding:"24px 63px 24px 62px"}},children:[t,Object(d.jsx)(l.f,{marginStart:2,marginTop:1,children:Object(d.jsx)(l.B,{inline:!0,target:"blank",href:"https://pinterestjapanblog.com/pinterest-beginners-guide-2020/",onClick:({disableOnNavigation:e})=>{e(),Object(c.h)({view_type:132,component:218,element:271})},children:Object(d.jsx)(l.cb,{align:"center",weight:"bold",children:e._("Learn more about Pinterest","signup.modal.app.upsell.prod.education.jp","Upsell prod education link JP")})})})]});return Object(d.jsx)(l.f,{position:"fixed",alignItems:"center",display:"flex",width:"100vw",height:"15vw",justifyContent:"center",bottom:!0,zIndex:u,dangerouslySetInlineStyle:{__style:{borderRadius:"32px 32px 0px 0px",backgroundColor:"#EBF4FE"}},children:n})},b=n("bcHz"),m=n("Lr1Z"),j=n("LT60"),f=n("eyT9"),g=n("CYge"),x=n("6CnQ"),O=n("wMN6"),y=n("28DW");function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v={headingOffset:{__style:{marginLeft:-10,marginRight:50}},RTLheadingOffset:{__style:{marginRight:-10,marginLeft:50}},clearIcon:{__style:{marginRight:15}},clearIconRTL:{__style:{marginLeft:15}},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:Object(f.e)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,borderRadius:"16px 16px 0px 0px"},tabletStyles:{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1},nonTabletSignUpStyles:{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"},legoModal:{borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},baseStylesSliding:{border:Object(f.e)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0},fullscreenStyles:{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"},tabletNarrowStyle:{width:425,left:"50%",transform:"translateX(-50%)"}}};class _ extends i.Component{constructor(...e){super(...e),w(this,"state",{isShowing:!1}),w(this,"getMaskStyles",()=>{const{isMaskTransparent:e,maskFadeInDuration:t}=this.props,{isShowing:n}=this.state,i=v.mask.baseStyles;return{__style:e?{...i,...t?{opacity:n?1:0,transitionDuration:t}:null,backgroundColor:"transparent"}:{...i,...t?{opacity:n?1:0,transitionDuration:t}:null}}}),w(this,"getModalStyles",()=>{const{fullScreenHeight:e,isCard:t,isFullscreen:n,isTablet:i,modalFadeInDuration:o,modalStyle:r,overrideBorder:a,isLegoModal:s,slideUpDuration:c,type:l,thinnerModal:d}=this.props,{isShowing:p}=this.state,u=e?{...v.modal.fullscreenStyles,height:e,marginTop:`calc(-${e} / 2)`,top:"50%"}:v.modal.fullscreenStyles;let h;n?h=u:i?h=v.modal.tabletStyles:t?h={...v.modal.baseStyles,width:"400px",left:"30vw"}:"signup"===l?(h=v.modal.nonTabletSignUpStyles,d&&("undefined"!=typeof window&&window.screen&&window.screen.width>=375?(h.left="36px",h.right="36px"):"undefined"!=typeof window&&window.screen&&window.screen.width>=345&&(h.left="21px",h.right="21px"))):h={...v.modal.baseStyles,borderRadius:"32px 32px 0 0"},s&&(h={...h,...v.modal.legoModal});return{__style:{...r||h,...a?{border:a}:Object.freeze({}),...c?{transform:p?"translateY(0)":"translateY(100vh)",transitionDuration:c}:Object.freeze({}),...o?{opacity:p?1:0,transitionDuration:o}:Object.freeze({})}}}),w(this,"getModalStylesSlideUp",()=>{const{overrideBorder:e,isLegoModal:t,isFullscreen:n,isTablet:i,type:o}=this.props,{isShowing:r}=this.state;let a=v.modal.baseStylesSliding,s=r?"translateY(0)":"translateY(100vh)";return a.border=e||a.border,a.height=n?"100vh":a.height,t&&(a={...a,...v.modal.legoModal}),i&&"related_interests_modal"===o&&(a={...a,...v.modal.tabletNarrowStyle},s=r?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...a,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:s}}}),w(this,"onMaskTouch",e=>{const t=e,{onDismiss:n,type:i}=this.props,o=n?"with":"without",r=i||"unknown_type";Object(y.i)(`mweb_unauth.mobile_modal.wash_tap.${r}.${o}_dismissal`,{x:t.clientX,y:t.clientY}),n&&n()}),w(this,"preventModalScroll",e=>{e.preventDefault()}),w(this,"preventBodyScroll",()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}}),w(this,"resetBodyScroll",()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})}componentDidMount(){const{allowScrolling:e,isOpen:t,setAppFocusState:n,type:i}=this.props;Object(y.a)(`mweb_unauth.mobile_modal.${i||"unknown_type"}.did_mount.is_open.${String(!!t)}`),t&&!e&&(a.c.pause(),n(!1),this.preventBodyScroll()),this.requestAnimationFrameId=Object(O.n)(()=>this.setState({isShowing:!0}))}componentDidUpdate(e){const{isOpen:t,allowScrolling:n,setAppFocusState:i}=this.props;t&&!e.isOpen?(a.c.pause(),i(!1),n||this.preventBodyScroll()):!t&&e.isOpen&&(a.c.resume(),i(!0),this.resetBodyScroll())}componentWillUnmount(){const{isOpen:e,setAppFocusState:t}=this.props;e&&(a.c.resume(),t(!0),this.resetBodyScroll()),"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){const{accessibilityCloseIconLabel:e,showJpLearnMoreModal:t,allowScrolling:n,childPaddingX:i,childPaddingY:o,children:a,disableMask:s,enableCloseIconBackground:c,heading:p,clearIcon:u,hasCustomHeight:f,hideCloseIcon:x,isFullscreen:O,isOpen:y,isRTL:w,isSlideUp:_,legoBoardModalsEnabled:S=!1,onCloseIconDismiss:T,onDismiss:k,overrideZDepth:I,overrideBackgroundColor:P,clearIconLink:C,renderHiddenWhenClosed:E=!1,i18n:A}=this.props,L=this.getMaskStyles(),F=P||"white";if(!(y||E))return null;const D=Object(d.jsxs)(l.f,{display:y?"inlineBlock":"visuallyHidden",zIndex:I?new l.s(I):new l.n([g.d]),position:E&&!y?"static":"relative",children:[t?Object(d.jsx)(h,{}):null,!s&&Object(d.jsx)(b.a,{accessibilityLabel:A._("Mobile Signup Modal Mask","mweb.signup_modal.mask","The acessibility label for the mask of mobile signup modal"),onTouch:this.onMaskTouch,pressState:"none",children:Object(d.jsx)(l.f,{position:"fixed",top:!0,left:!0,onTouchMove:n?()=>{}:this.preventModalScroll,dangerouslySetInlineStyle:L})}),c&&Object(d.jsx)(l.f,{top:!0,left:!0,position:"fixed",zIndex:new l.s(v.modal.baseStyles.zIndex),children:Object(d.jsx)(l.w,{accessibilityLabel:this.props.i18n._("close icon background","accesibility label for close icon on a overlay","accesibility label for close icon on a overlay"),icon:"cancel",iconColor:S?"darkGray":"white",onClick:T,size:"lg"})}),Object(d.jsxs)(l.f,{position:"fixed",color:F,onTouchMove:this.preventModalScroll,dangerouslySetInlineStyle:_?this.getModalStylesSlideUp():this.getModalStyles(),children:[e&&!x&&Object(d.jsx)(l.f,{children:Object(d.jsxs)(l.f,{flex:"grow",display:"flex",alignItems:"center",children:[Object(d.jsx)(l.f,{display:"flex",alignItems:"center",padding:2,children:Object(d.jsx)(r.a,{accessibilityLabel:e,color:"darkGray",icon:"cancel",onTouch:k,padding:4,size:S?"lg":"sm"})}),Object(d.jsx)(l.f,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:w?u?void 0:v.RTLheadingOffset:u?void 0:v.headingOffset,children:O?p:Object(d.jsx)(l.cb,{align:"center",weight:"bold",children:Object(d.jsx)("span",{className:"deprecatedTextSizeXL",children:p})})}),u&&Object(d.jsx)(l.f,{display:"flex",alignItems:"center",dangerouslySetInlineStyle:w?v.clearIconRTL:v.clearIcon,children:Object(d.jsx)(m.a,{to:C||"",pressState:"none",onTouch:k,children:Object(d.jsx)(l.cb,{align:"center",weight:"bold",color:"gray",children:Object(d.jsx)("span",{className:"deprecatedTextSizeXL",children:u})})})})]})}),Object(d.jsx)(l.f,{paddingX:i,paddingY:o,height:f?window.innerHeight-12+"px":"auto",overflow:f?"scrollY":"auto",children:a})]})]});return Object(d.jsx)(j.a,{children:Object(d.jsx)(l.z,{children:D})})}}w(_,"defaultProps",{allowScrolling:!1,childPaddingX:3,childPaddingY:3,hasCustomHeight:!1});t.a=Object(o.connect)(e=>({isRTL:e.session.isRTL}),e=>({setAppFocusState:t=>e(Object(x.a)(t))}))((function(e){const t=Object(s.c)();return Object(d.jsx)(_,{...e,i18n:t})}))},"mqJ/":function(e,t){e.exports="https://s.pinimg.com/webapp/DA@2x-0a8213db.png"},"n+mC":function(e,t,n){t.a=({name:e,width:t,height:n})=>{const i=`${n}${"number"==typeof n?"px":""}`,o="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${o} ${i};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${i};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${o}px 0;\n  }\n  100% {\n      background-position: ${o}px 0;\n  }\n}\n`}},nSKK:function(e,t){e.exports="https://s.pinimg.com/webapp/SK@2x-bfa2f8d5.png"},pE5B:function(e,t,n){n.d(t,"a",(function(){return _}));var i=n("q1tI"),o=n("/MKj"),r=n("i2lo"),a=n("G5lw"),s=n("Tn9N"),c=n("ANjH"),l=n("T0FN"),d=n("VuCO"),p=n("wMN6"),u=n("AGnR"),h=n("yweb"),b=n("4kAQ"),m=n("n6mq"),j=n("EC67"),f=n("nKUr");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x={__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},O=1,y=2,w=3,v=4,_=0;class S extends i.PureComponent{constructor(...e){super(...e),g(this,"state",{tooltipHidden:!1}),g(this,"tooltipAnchor",Object(i.createRef)()),g(this,"getElementType",e=>{switch(e){case y:return 11081;case O:return 11674;default:return 11082}}),g(this,"handleChangeTab",e=>{var t;const n=null===(t=this.tabs)||void 0===t?void 0:t[e];n&&(this.props.setActiveTab(n.boardId,e),Object(u.e)({event_type:n.tabType===O?102:101,view_type:1,view_parameter:92,component:13184,element:this.getElementType(n.tabType),aux_data:{index:e.toString()}}))}),g(this,"handleCompleteExperience",({event:e})=>{e.stopPropagation(),e.preventDefault();const{completeExperience:t,experience:n,setActiveTab:i}=this.props;if(t(n),this.tabs){const e=this.tabs.findIndex(e=>e.tabType===w);this.tabs&&this.tabs[e]&&i(this.tabs[e].boardId,e)}}),g(this,"handleDismissExperience",({event:e})=>{e.stopPropagation(),e.preventDefault();const{dismissExperience:t,experience:n}=this.props;t(n)}),g(this,"handleDismissFlyout",()=>{const{dismissExperience:e,experience:t}=this.props;e(t)}),g(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({tooltipHidden:e})})}),g(this,"handleScroll",Object(p.o)(e=>{const{tooltipHidden:t}=this.state,n=window.scrollY;this.lastScrollPos>n+l.a&&t?this.updateHiddenState(!1):n>this.lastScrollPos+l.a&&!t&&this.updateHiddenState(!0),this.lastScrollPos=n},20))}get tabs(){const{currentTabIndex:e,shouldShowFollowingFeedTab:t,shouldShowTodayTab:n,tabBoards:i}=this.props,{tooltipHidden:o}=this.state;if(i.length||n||t){const r=[{href:"/",text:this.props.i18n._("For you","homefeed.moreIdeasTab.homefeedTab","Homefeed tab"),tabType:y}];return n&&r.push({href:"/today/",text:this.props.i18n._("Today","Today tab","Today tab"),tabType:O,locationState:{referrer:1}}),t&&r.push({href:"/following",text:this.props.i18n._("Following","Following tab","Following tab"),tabType:v}),r.push(...i.filter(e=>e).map(({id:t,name:n},i)=>({href:"/?boardId="+t,text:0!==i||e!==_||o?Object(f.jsx)(m.f,{maxWidth:100,overflow:"hidden",dangerouslySetInlineStyle:x,children:n}):Object(f.jsxs)(m.f,{ref:this.tooltipAnchor,children:[Object(f.jsx)(m.f,{maxWidth:100,overflow:"hidden",dangerouslySetInlineStyle:x,children:n}),this.renderTooltip([501228])]}),boardId:t,tabType:w}))),r}return null}componentDidMount(){window.addEventListener("scroll",this.handleScroll),this.props.shouldShowTodayTab&&Object(u.e)({event_type:13,view_type:1,view_parameter:92,component:13184,element:11674})}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}renderTooltip(e){const{experience:t}=this.props,n=t&&t.display_data||{};return Object(f.jsx)(r.a,{eligibleIds:e,experience:t,children:Object(f.jsx)(m.L,{onDismiss:this.handleDismissFlyout,anchor:this.tooltipAnchor.current,color:"blue",idealDirection:"down",size:"sm",children:Object(f.jsxs)(m.f,{padding:2,column:12,children:[Object(f.jsx)(m.f,{padding:2,dangerouslySetInlineStyle:{__style:{whiteSpace:"normal"}},children:Object(f.jsx)(m.cb,{color:"white",weight:"bold",children:n.text})}),Object(f.jsxs)(m.f,{display:"flex",paddingY:2,column:12,children:[Object(f.jsx)(m.f,{paddingX:2,column:6,children:Object(f.jsx)(m.g,{color:"transparent",onClick:this.handleDismissExperience,text:n.dismiss_button_text||"",size:"sm"})}),Object(f.jsx)(m.f,{paddingX:2,column:6,children:Object(f.jsx)(m.g,{color:"white",onClick:this.handleCompleteExperience,text:n.complete_button_text||"",size:"sm"})})]})]})})})}render(){if(this.tabs){const e=this.tabs.map(e=>({href:e.href,text:e.text,locationState:e.locationState}));return Object(f.jsx)(s.a,{items:e,selectedTabIndex:this.props.currentTabIndex,onChange:this.handleChangeTab})}return null}}const T=Object(c.compose)(Object(o.connect)(null,e=>({completeExperience:t=>e(Object(b.b)(t)),dismissExperience:t=>e(Object(b.e)(t)),setActiveTab:(t,n)=>e(Object(d.a)(t,n))})),j.l)(S);t.b=function(e){const t=Object(h.c)();return Object(f.jsx)(a.a,{id:1000049,children:({experience:n})=>Object(f.jsx)(T,{...e,experience:n,i18n:t})})}},pTLB:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const o=Object(i.createContext)(null),r=o.Provider,a=()=>Object(i.useContext)(o)},pVvX:function(e,t){e.exports="https://s.pinimg.com/webapp/PL@2x-5685a97f.png"},pZP8:function(e,t){e.exports="https://s.pinimg.com/webapp/HU@2x-2916bbea.png"},puiS:function(e,t){e.exports="https://s.pinimg.com/webapp/SV@2x-0e099997.png"},q5ep:function(e,t){e.exports="https://s.pinimg.com/webapp/IT@2x-60e3683e.png"},qALL:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c}));var i=n("n6mq"),o=n("nKUr");const r=({children:e})=>Object(o.jsx)(i.f,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),a=({children:e})=>Object(o.jsx)(i.f,{padding:2,children:e}),s=({children:e})=>Object(o.jsx)(i.f,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),c=({children:e})=>Object(o.jsx)(i.f,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},qDpr:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r}));const i=236,o=4,r=-1},qcoM:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),o=n("qrav"),r=n("dRc8"),a=n("iaut"),s=n("lIsI"),c=n("n6mq"),l=n("nKUr");const d=.75,p=.3,u=new c.n([a.a]);t.b=({children:e,getDrawerOffsetTop:t,hideDrawer:n})=>{var a;const h=Object(i.useRef)(null),[b,m]=Object(i.useState)(null),[j,f]=Object(i.useState)(0),[g,x]=Object(i.useState)(!1),O=(null===(a=Object(r.a)())||void 0===a?void 0:a.height)||0,[y,w]=Object(i.useState)(!1),v=()=>{const e=t();return e>0&&O>0?e-O*p+60:0};return Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(c.W,{bottom:0,zIndex:u,children:Object(l.jsx)(c.f,{color:"white",dangerouslySetInlineStyle:{__style:{...g?{transitionDuration:"500ms",transitionProperty:"maxHeight, borderRadius"}:{},borderRadius:0===b&&g?0:"32px 32px 0 0",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)",maxHeight:null===b?"25vh":`calc(100vh - ${b}px)`,overscrollBehavior:"none",touchAction:"none"}},"data-layout-shift-boundary-id":"Drawer",ref:h,marginEnd:-s.a,marginStart:-s.a,paddingX:s.a,onTouchStart:e=>{const{clientY:t}=e.touches[0];f(t),x(!1)},onTouchMove:e=>{var t;e.preventDefault();const{clientY:n}=e.touches[0],i=h.current,o=null==i?void 0:i.parentElement,r=null!==(t=null!=b?b:null==o?void 0:o.offsetTop)&&void 0!==t?t:null,a=n-j;if(null!==r&&a){const e=O*p,t=O*d,n=Math.floor(Math.min(t,Math.max(e,r+a)));m(n);const i=v();if(O>0&&i>0){const e=i*(s=n/O,1-(Math.max(p,Math.min(d,s))-p)/.45);window.pageYOffset<e&&window.scrollTo({top:e})}n<.525*O&&w(!0)}var s;f(n)},onTouchEnd:()=>{if(y){x(!0);m(O*p);const e=v();e&&window.scrollTo({top:e,behavior:"smooth"}),w(!1)}},children:e})}),Object(l.jsx)(o.a,{onVisibilityChange:e=>{const[t]=e||[];t&&t.isIntersecting&&n()},children:Object(l.jsx)(c.f,{height:"100vh"})})]})}},qqi5:function(e,t){e.exports="https://s.pinimg.com/webapp/ID@2x-1dc864b9.png"},"rc+o":function(e,t){e.exports="https://s.pinimg.com/webapp/zhCN@2x-d3d7eda9.png"},sEfC:function(e,t,n){var i=n("GoyQ"),o=n("QIyF"),r=n("tLB3"),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,d,p,u,h,b=0,m=!1,j=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=c,i=l;return c=l=void 0,b=t,p=e.apply(i,n)}function x(e){return b=e,u=setTimeout(y,t),m?g(e):p}function O(e){var n=e-h;return void 0===h||n>=t||n<0||j&&e-b>=d}function y(){var e=o();if(O(e))return w(e);u=setTimeout(y,function(e){var n=t-(e-h);return j?s(n,d-(e-b)):n}(e))}function w(e){return u=void 0,f&&c?g(e):(c=l=void 0,p)}function v(){var e=o(),n=O(e);if(c=arguments,l=this,h=e,n){if(void 0===u)return x(h);if(j)return clearTimeout(u),u=setTimeout(y,t),g(h)}return void 0===u&&(u=setTimeout(y,t)),p}return t=r(t)||0,i(n)&&(m=!!n.leading,d=(j="maxWait"in n)?a(r(n.maxWait)||0,t):d,f="trailing"in n?!!n.trailing:f),v.cancel=function(){void 0!==u&&clearTimeout(u),b=0,c=h=l=u=void 0},v.flush=function(){return void 0===u?p:w(o())},v}},snfI:function(e,t,n){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("q1tI"),o=n("1dBE"),r=n("nKUr");const{Provider:a,Consumer:s,useHook:c}=Object(o.c)("NavFooterContext");function l({children:e}){const[t,n]=Object(i.useState)(),[o,s]=Object(i.useState)(!1),[c,l]=Object(i.useState)(!1),[d,p]=Object(i.useState)(!1);return Object(r.jsx)(a,{value:{homeFlyoutText:t,isNavFooterHiddenAfterScroll:o,setHomeFlyoutText:n,setIsNavFooterHiddenAfterScroll:s,setShowHomeBadge:l,setShowHomeFlyoutWithButton:p,showHomeBadge:c,showHomeFlyoutWithButton:d},children:e})}},"t12/":function(e,t,n){var i=n("q1tI");t.a=Object(i.createContext)("undefined"!=typeof window?window:null)},t73z:function(e,t){e.exports="https://s.pinimg.com/webapp/FR@2x-bf910b39.png"},tLB3:function(e,t,n){var i=n("jXQH"),o=n("GoyQ"),r=n("/9aa"),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},vZdC:function(e,t){e.exports="https://s.pinimg.com/webapp/TH@2x-0a53c197.png"},wWTz:function(e,t){e.exports="https://s.pinimg.com/webapp/NL@2x-5f1515db.png"},wWUS:function(e,t){e.exports="https://s.pinimg.com/webapp/DA@2x-e5d12354.png"},wdUa:function(e,t,n){n.d(t,"a",(function(){return Oe}));var i=n("0BYx"),o=n.n(i),r=n("9S0N"),a=n.n(r),s=n("wWUS"),c=n.n(s),l=n("jxkU"),d=n.n(l),p=n("fEUV"),u=n.n(p),h=n("TZCD"),b=n.n(h),m=n("L9+L"),j=n.n(m),f=n("i4MZ"),g=n.n(f),x=n("1lhQ"),O=n.n(x),y=n("8sPw"),w=n.n(y),v=n("pZP8"),_=n.n(v),S=n("kBCb"),T=n.n(S),k=n("x20t"),I=n.n(k),P=n("Iv9x"),C=n.n(P),E=n("1eJw"),A=n.n(E),L=n("0DNT"),F=n.n(L),D=n("J/m7"),B=n.n(D),M=n("O0mV"),R=n.n(M),N=n("AQTh"),z=n.n(N),H=n("ZFin"),U=n.n(H),W=n("pVvX"),G=n.n(W),q=n("UbOS"),V=n.n(q),Y=n("NOhL"),K=n.n(Y),X=n("cGzF"),$=n.n(X),Q=n("nSKK"),Z=n.n(Q),J=n("puiS"),ee=n.n(J),te=n("geJr"),ne=n.n(te),ie=n("HAEv"),oe=n.n(ie),re=n("e5ub"),ae=n.n(re),se=n("TyUm"),ce=n.n(se),le=n("hCZv"),de=n.n(le),pe=n("cXYV"),ue=n.n(pe),he=n("YaGO"),be=n.n(he),me=n("yweb"),je=n("eQwl"),fe=n("n6mq"),ge=n("nKUr");const xe={"AR-SA":o.a,"ZH-CN":ue.a,"ZH-TW":be.a,CS:a.a,DA:c.a,DE:d.a,EL:u.a,EN:b.a,ES:j.a,FI:g.a,FR:O.a,HI:w.a,HU:_.a,ID:T.a,IT:I.a,JA:C.a,KO:A.a,ML:F.a,MS:B.a,NB:U.a,NL:R.a,NN:z.a,NO:U.a,PL:G.a,PT:V.a,RO:K.a,RU:$.a,SK:Z.a,SV:ee.a,TH:ne.a,TL:oe.a,TR:ae.a,UK:ce.a,VI:de.a};function Oe({locale:e}){const t=Object(me.c)(),n=Object(je.c)(e),i=xe[n]||xe.EN,o=t._("Install the Pinterest app on iOS");return Object(ge.jsx)(fe.x,{naturalHeight:80,naturalWidth:270,src:i,alt:o})}},x20t:function(e,t){e.exports="https://s.pinimg.com/webapp/IT@2x-5749beff.png"},y7vW:function(e,t){e.exports="https://s.pinimg.com/webapp/EN@2x-c3eda626.png"},yqcB:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("gg0E"),o=n("q1tI"),r=n("y2Ga"),a=n("SyXB");function s({children:e,isAtEndOfFeed:t,pinData:n,itemCount:s,includeBackgroundImages:c=!1,includeVideos:l=!1}){return Object(i.b)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:c,includeVideos:l}),function(e){const t=Object(r.c)(),n=Object(o.useRef)(null);Object(o.useEffect)(()=>{e!==n.current&&(n.current=e,t&&Object(a.c)(a.a))},[!!t,e])}(s),e}},zAWC:function(e,t,n){n.d(t,"b",(function(){return Ae}));var i=n("q1tI"),o=n("/MKj"),r=n("1Fta"),a=n("FDmi"),s=n("SBn3"),c=n("8zEK"),l=n("bcHz"),d=n("rYoy"),p=n("yweb"),u=n("EfoL"),h=n("n6mq"),b=n("nKUr");var m=Object(o.connect)(({pins:e},{pinId:t})=>({pin:e[t]}),()=>({}))((function({pin:e}){var t,n,i,o,r,a;const s=Object(p.c)(),{images:c,dominant_color:l}=e,{pinTitle:d}=Object(u.m)({i18n:s,pin:e});let m=null;c&&(m=c["236x"]||c["170x"]);const j=l||"#efefef";return Boolean(m)&&Object(b.jsx)(h.f,{display:"flex",justifyContent:"center",position:"relative",children:Object(b.jsx)(h.f,{height:437,width:247,rounding:4,marginTop:4,marginBottom:4,overflow:"hidden",dangerouslySetInlineStyle:{__style:{border:"1px solid white"}},children:Object(b.jsx)(h.x,{alt:d||"",color:j,naturalHeight:null!==(t=null===(n=m)||void 0===n?void 0:n.height)&&void 0!==t?t:1,naturalWidth:null!==(i=null===(o=m)||void 0===o?void 0:o.width)&&void 0!==i?i:1,src:null!==(r=null===(a=m)||void 0===a?void 0:a.url)&&void 0!==r?r:"",fit:"cover"})})})})),j=n("dw4l"),f=n("qpbZ"),g=n("t84P"),x=n("AGnR"),O=n("5SBu");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=Object(i.lazy)(()=>Promise.all([n.e(303),n.e(367)]).then(n.bind(null,"6wlI")));class v extends i.PureComponent{constructor(...e){super(...e),y(this,"stopPropagation",e=>{e.stopPropagation(),e.preventDefault()}),y(this,"onUserTouch",e=>{e.stopPropagation(),e.preventDefault();const{history:t,pinner:n}=this.props;t.push(`/${n.username}/`)}),y(this,"onCommentIconTouch",e=>{e.stopPropagation(),e.preventDefault();const{history:t,pin:n}=this.props;t.push(`/pin/${n.id}/comments/`)}),y(this,"onFollow",(e,t,n)=>{e.stopPropagation(),e.preventDefault();const{followUser:i,unfollowUser:o}=this.props;n?(i(t),Object(x.e)({event_type:45,view_type:1,view_parameter:3349,object_id_str:t})):(o(t),Object(x.e)({event_type:46,view_type:1,view_parameter:3349,object_id_str:t}))}),y(this,"onSave",e=>{e.stopPropagation(),e.preventDefault();const{history:t,pinId:n}=this.props;Object(x.e)({event_type:5,view_type:1,view_parameter:3349,object_id_str:n}),t.push(`/pin/${n}/repin/`)})}render(){var e;const{i18n:t,pin:n,pinId:o,pinner:r,type:p,feedback:x,feedbackType:O,getRecommendationDescription:y,slotIndex:v}=this.props;if(!n||!r)return null;const{pinTitle:_}=Object(u.m)({i18n:t,pin:n}),{full_name:S,image_large_url:T,image_medium_url:k,explicitly_followed_by_me:I}=r,P=T||k,C=Object(c.a)(n),{aggregated_pin_data:E,category:A,description:L,dominant_color:F,image_signature:D,images:B,is_downstream_promotion:M,promoter:R,story_pin_data_id:N}=n;let z=null;B&&(z=B["736x"]||B["236x"]||B["170x"]);const H=Boolean(R&&!M),U=E&&E.comment_count||0,W={imageURL:null==B||null===(e=B["236x"])||void 0===e?void 0:e.url};return Object(b.jsxs)(i.Fragment,{children:[Object(b.jsxs)(h.f,{alignItems:"center",display:"flex",paddingY:2,children:[P&&Object(b.jsx)(l.a,{onTouch:this.onUserTouch,pressState:"none",children:Object(b.jsx)(a.a,{name:null!=S?S:"",size:"sm",src:P})}),Object(b.jsx)(h.f,{dangerouslySetInlineStyle:{__style:{flex:"1 1 0%"}},marginStart:P?2:void 0,overflow:"hidden",marginEnd:2,children:Object(b.jsx)(l.a,{onTouch:this.onUserTouch,pressState:"none",children:Object(b.jsx)(h.cb,{size:"md",truncate:!0,weight:"bold",children:H?Object(f.b)(this.props.i18n._("Promoted by {{ user }}","Label for who promoted pin","Label for who promoted pin"),{user:S}):S})})}),Object(b.jsx)(h.f,{display:"inlineBlock",children:Object(b.jsx)(l.a,{pressState:"compress",onTouch:e=>this.onFollow(e,r.id,!I),children:Object(b.jsx)(h.f,{color:"lightGray",rounding:"pill",position:"relative",children:Object(b.jsx)(h.f,{padding:3,children:Object(b.jsx)(h.cb,{color:"darkGray",weight:"bold",size:"md",children:I?this.props.i18n._("Unfollow","Unfollow creator button text","Unfollow creator button text"):this.props.i18n._("Follow","Follow creator button text","Follow creator button text")})})})})})]}),Object(b.jsx)(h.f,{children:Object(b.jsx)(g.d,{loggingId:o,objectIdStr:o,slotIndex:v,impressionData:W,viewParameter:3349,component:13484,children:Object(b.jsx)(s.a,{children:"video"===p&&C?Object(b.jsx)(j.a,{pinId:o,isFullWidth:!0}):"storyPin"===p&&N?Object(b.jsx)(m,{pinId:o}):z?Object(b.jsx)(h.x,{alt:_||"",color:F||"#efefef",naturalHeight:z.height,naturalWidth:z.width,src:z.url}):null})})}),_&&"storyPin"!==p&&Object(b.jsx)(h.f,{marginTop:3,children:Object(b.jsx)(h.cb,{weight:"bold",align:"center",children:_})}),Object(b.jsxs)(h.f,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:5,marginTop:3,children:[Object(b.jsx)(h.f,{flex:"grow",display:"flex",justifyContent:"start",width:"50%",children:Object(b.jsx)(l.a,{pressState:"none",onTouch:this.onCommentIconTouch,children:Object(b.jsxs)(h.f,{display:"flex",alignItems:"center",children:[Object(b.jsx)(h.f,{padding:3,children:Object(b.jsx)(h.v,{icon:"speech",accessibilityLabel:this.props.i18n._("Tap to see or add comments on pin","tap to see or add comments on pin","tap to see or add comments on pin"),size:"20"})}),U>0&&Object(b.jsx)(h.f,{marginStart:-1,children:Object(b.jsx)(h.cb,{inline:!0,color:"gray",children:U})})]})})}),Object(b.jsx)(h.f,{flex:"none",display:"inlineBlock",children:Object(b.jsx)(l.a,{pressState:"compress",onTouch:this.onSave,children:Object(b.jsx)(h.f,{color:"red",rounding:"pill",position:"relative",children:Object(b.jsx)(h.f,{paddingX:6,paddingY:5,children:Object(b.jsx)(h.cb,{color:"white",weight:"bold",children:this.props.i18n._("Save","Save the Pin to a board","Save the Pin to a board")})})})})}),Object(b.jsx)(h.f,{flex:"grow",display:"flex",justifyContent:"end",width:"50%",children:Object(b.jsx)(d.a,{children:Object(b.jsx)(w,{feedback:x,feedbackType:O,getRecommendationDescription:y,pinId:o,sourceType:void 0,viewType:1,viewParameter:3349,pinImgSrc:z?z.url:"",bestPinImgSrc:z?z.url:"",pinDescription:L,pinTitle:_,pinCategory:A,imageSignature:D})})})]})]})}}var _=Object(o.connect)(({pins:e,users:t},{pinId:n,pinnerId:i})=>({pin:e[n],pinner:t[i]}),e=>({followUser:(t,n)=>e(Object(O.g)(t,n)),unfollowUser:(t,n)=>e(Object(O.k)(t,n))}))((function(e){const t=Object(p.c)();return Object(b.jsx)(v,{...e,i18n:t})})),S=n("QwGr"),T=n("7MwI"),k=n("Tv6X"),I=n("Wjv+"),P=n("kerF"),C=n("EC67");class E extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>t=>{const{history:n}=this.props;t.preventDefault(),t.stopPropagation();const i=`/pin/${e}/`;n.push(i)},(n="handlePinChipClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{chips:e}=this.props;return Object(b.jsx)(h.f,{marginTop:1,marginStart:-1,marginEnd:-1,position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"33.3%"}},children:Object(b.jsx)(h.f,{display:"flex",justifyContent:"between",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:e.map(e=>{const t=e.images["750x"]||{};return Object(b.jsx)(l.a,{onTouch:this.handlePinChipClick(e.id),pressState:"none",fullWidth:!0,children:Object(b.jsx)(h.f,{flex:"grow",height:"100%",paddingX:1,children:Object(b.jsx)(h.C,{rounding:2,width:"100%",height:"100%",wash:!0,children:Object(b.jsx)(h.x,{alt:"",fit:"cover",naturalHeight:t.height,naturalWidth:t.width,src:t.url})})})},e.id)})})})}}var A=Object(C.l)(E),L=n("nj6m");const F=(e,t)=>{switch(e){case"arrow-up-right":return t._("Promoted Pin","Icon indicating this Pin is promoted","Icon indicating this Pin is promoted");case"play":return t._("Video Pin","Icon indicating this Pin is a video","Icon indicating this Pin is a video");case"gif":return t._("GIF Pin","Icon indicating this Pin is a GIF","Icon indicating this Pin is a GIF");case"star":return t._("Recipe Pin","Icon indicating this Pin is a recipe","Icon indicating this Pin is a recipe");case"tag":return t._("Product Pin","Icon indicating this Pin is a product","Icon indicating this Pin is a product");default:return""}};function D({icon:e,maxRating:t,rating:n,text:o}){const r=Object(p.c)();let a;if(e)switch(e){case"star":a=Object(b.jsx)(L.a,{max_rating:t||"",rating:n||"",width:10});break;case"story-pin":a=Object(b.jsx)(h.cb,{color:"white",children:Object(b.jsx)(h.f,{color:"darkGray",dangerouslySetInlineStyle:{__style:{padding:"1px 3px",borderRadius:"3px",textTransform:"uppercase",fontSize:"11px"}},children:r._("Story","Text indicating this Pin is a story","Text indicating this Pin is a story")})});break;default:a=Object(b.jsx)(h.f,{alignItems:"center",display:"flex",marginEnd:1,children:Object(b.jsx)(h.v,{accessibilityLabel:F(e,r),color:"darkGray",icon:e,inline:!0,size:10})})}return Object(b.jsxs)(h.f,{alignItems:"center",display:"flex",marginBottom:0,children:[a,o&&Object(b.jsx)(i.Fragment,{children:Object(b.jsx)(h.f,{marginStart:1,overflow:"hidden",children:Object(b.jsx)(h.cb,{size:"sm",truncate:!0,children:o})})})]})}var B=n("eyT9");var M=({pinId:e})=>{var t;const n=Object(p.c)(),r=Object(o.useSelector)(({pins:e})=>e)[e];if(!r)return null;const{pinProduct:a}=Object(u.m)({i18n:n,pin:r,useGridTitleOrRichSummary:!1});if(!a||!a.price)return null;const s=a.standard_price||a.price,c=a.min_price||"",l=a.max_price||"",d=a.in_stock||!1,m=null===(t=r.rich_summary)||void 0===t?void 0:t.site_name,j=Object(B.e)()?"white":"darkGray",f=d?j:"gray";return Object(b.jsxs)(i.Fragment,{children:[m&&Object(b.jsx)(h.cb,{color:j,size:"sm",children:m}),Object(b.jsxs)(h.f,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[c&&l?Object(b.jsxs)(h.cb,{size:"sm",color:f,children:[c," - ",l]}):Object(b.jsx)(h.cb,{size:"sm",color:f,children:s}),!d&&Object(b.jsxs)(i.Fragment,{children:[Object(b.jsx)(h.f,{paddingX:1,children:Object(b.jsx)(h.cb,{size:"sm",color:f,children:"·"})}),Object(b.jsx)(h.cb,{size:"sm",color:f,children:n._("Out of stock","pinCard.priceLego.outOfStock","display if a product is out of stock")})]})]})]})},R=n("g6r8"),N=n("24BL"),z=n("isp9"),H=n("gJeo"),U=n("Pezf"),W=n("28DW"),G=n("QAzJ");const q=Object(i.lazy)(()=>n.e(604).then(n.bind(null,"B6I5"))),V=({children:e})=>"desktop"===Object(R.a)()?Object(b.jsx)(h.u,{size:"sm",children:e}):Object(b.jsx)(h.cb,{size:"sm",weight:"bold",children:e});var Y=({allowPriceIndicator:e,contextMenu:t,credits:n,description:r,isHubFeed:s,isPromotedPin:c,isSponsoredPin:u,isSquarePin:m,onCreditsClick:j,pinDescription:f,pinId:g,pinnedToBoardId:x,pinReactionCounts:O,pinTagsChips:y,promoterName:w,recipeCookTime:v,recipeMaxRating:_,recipeRating:S,recipeReviewCount:T,shouldShowReactions:k,title:I,type:E})=>{var L;const F=Object(p.c)(),B=Object(C.i)(),Y=w?60:40,K=Object(o.useSelector)(({session:e})=>e.isAuthenticated),X=Object(R.a)(),$=I||r||"oneTap"===E,Q=Object(o.useSelector)(({pins:e})=>e[g]),Z=Object(o.useSelector)(({boards:e})=>e[x||Q&&Q.board]),J=Object(o.useSelector)(({users:e})=>Q&&Q.pinner&&e[Q.pinner]),{group:ee}=Object(N.a)(),te="enabled_desktop_parity"===ee,ne=Object(G.b)("mweb_unauth_profile_page_unification");return Object(b.jsxs)(i.Fragment,{children:[y&&y.length>0&&Object(b.jsx)(P.a,{name:"mweb_stl_grid_chips",children:({anyEnabled:e})=>e&&Object(b.jsx)(A,{chips:y})}),Object(b.jsxs)(h.f,{display:"flex",height:m?e?104:72:void 0,marginEnd:1,marginStart:1,children:[Object(b.jsxs)(h.f,{flex:"grow",children:[Object(b.jsx)(h.f,{display:"flex",marginTop:1,children:Object(b.jsx)(h.f,{flex:"grow",children:Object(b.jsxs)(i.Fragment,{children:[Object(b.jsxs)(i.Fragment,{children:[I&&!s&&Object(b.jsx)(V,{children:I.length>Y?I.substring(0,Y)+"...":I}),"desktop"===X&&!K&&f&&Object(b.jsx)(h.f,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:Object(b.jsx)(h.cb,{size:"sm",inline:!0,children:f})})]}),e&&Object(b.jsx)(M,{credits:n,pinId:g}),"recipe"===E&&!!T&&Object(b.jsx)(i.Fragment,{children:Object(b.jsxs)(h.f,{alignItems:"center",display:"flex",marginTop:1,children:[!!T&&Object(b.jsx)(D,{icon:"star",maxRating:_||"",rating:S||"",text:""}),!!v&&Object(b.jsxs)(i.Fragment,{children:[Object(b.jsx)(h.f,{paddingX:1,children:Object(b.jsx)(h.cb,{size:"sm",children:"·"})}),Object(b.jsx)(h.cb,{size:"sm",children:Object(H.d)({...Object(U.b)(v),i18n:F})})]})]})})]})})}),k&&O&&Object.keys(O).length>0&&Object(b.jsx)(h.f,{height:18,children:Object(b.jsx)(d.a,{children:Object(b.jsx)(q,{pinReactionCounts:O})})}),n&&"desktop"!==X&&Object(b.jsx)(l.a,{onTouch:e=>j&&j(e),pressState:"none",children:Object(b.jsxs)(h.f,{display:"flex",marginTop:$?1:0,children:[Object(b.jsx)(h.f,{flex:"none",children:Object(b.jsx)(a.a,{name:n.title||"",size:"sm",src:n.mediumAvatar||n.avatar||void 0})}),Object(b.jsxs)(h.f,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,children:[n.title&&Object(b.jsx)(h.cb,{size:"sm",truncate:!0,weight:c||u?"bold":"normal",children:n.title}),Object(b.jsx)(i.Fragment,{children:n.subtitle&&Object(b.jsx)(h.cb,{size:"desktop"===X?"md":"sm",weight:s||u||"desktop"===X?"bold":"normal",truncate:!u,children:n.subtitle})})]})]})}),"desktop"===X&&!!J&&(te||Object(z.P)(B)&&ne().anyEnabled)&&Object(b.jsx)(i.Fragment,{children:Object(b.jsxs)(h.f,{display:"flex",marginTop:$?1:0,children:[Object(b.jsx)(h.f,{flex:"none",children:Object(b.jsx)(a.a,{name:J.username||"",size:"sm",src:null!==(L=J.image_small_url)&&void 0!==L?L:void 0})}),Object(b.jsxs)(h.f,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,children:[Object(b.jsx)(h.B,{hoverStyle:"underline",href:`/${J.username}/`,onClick:({event:e,disableOnNavigation:t})=>{t(),e.stopPropagation(),Object(W.g)("click_board_pin_attribution_board")},children:Object(b.jsx)(h.cb,{size:"md",weight:"bold",children:J.username})}),Object(b.jsx)(h.B,{hoverStyle:"underline",href:Z.url,onClick:({event:e,disableOnNavigation:t})=>{t(),e.stopPropagation(),Object(W.g)("click_board_pin_attribution_profile")},children:Object(b.jsx)(h.cb,{size:"md",children:Z.name})})]})]})})]}),t]})]})};const K=Object(i.lazy)(()=>n.e(749).then(n.bind(null,"75Yz")));var X=({inviteCode:e})=>{const t=Object(p.c)();return Object(b.jsx)(h.f,{minHeight:82,children:Object(b.jsx)(d.a,{fallback:Object(b.jsx)(I.a,{accessibilityLabel:t._("Loading Invitation component","Loading InviteFetch component","loading InviteFetch component")}),children:Object(b.jsx)(K,{invite_code:e,children:e=>{const n=e?e.sender:null,i=n&&n.first_name?n.first_name.substring(0,30):"";if(!i)return null;const o=n&&!n.is_default_image?n.image_medium_url:"",r=Object(f.b)(t._("{{ name }} shared this idea with you","homefeed.pinSenderAvatar.heading","header notifying users that a sender ({{ name }}) shared a Pin to them"),{name:i});return Object(b.jsxs)(h.f,{alignItems:"center",direction:"column",display:"flex",children:[Object(b.jsx)(h.C,{height:32,width:32,children:Object(b.jsx)(a.a,{name:i,src:o})}),Object(b.jsx)(h.f,{width:"80%",paddingY:2,children:Object(b.jsx)(h.cb,{align:"center",size:"md",weight:"bold",children:r})})]})}})})})},$=n("Mstc"),Q=n("6adH"),Z=n("44UH"),J=n("ANjH"),ee=n("58KG"),te=n("9+B8");function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ie extends i.PureComponent{constructor(...e){var t;super(...e),t=this,ne(this,"state",{saveState:void 0}),ne(this,"legoFixedZIndex",new h.s(2)),ne(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:n,i18n:i,oneTapSaveToBoardId:o,pinId:r,pinnedToBoardId:a,showToast:s,viewType:c}=t.props;try{const i=await n(Object(ee.g)({i18n:t.props.i18n,pinId:r,boardId:o,showToast:s,onUndo:()=>{t.onDeletePin()},trackingParams:{clientTrackingParams:e,pinnedToBoardId:a},isOneTapSave:!0,viewType:c}));t.setState({saveState:"saved"}),n(Object(te.b)({boardId:o,localPinId:i.id,pinId:r}))}catch(l){s({isError:!0,text:l.message||i._("Sorry! Something went wrong on our end.","error during repin","error during repin")}),t.setState({saveState:void 0})}})),ne(this,"onDeletePin",(async function(){const{dispatch:e,i18n:n,pinId:i,savedInfo:o,showToast:r}=t.props;if(o){e(Object(te.a)({boardId:o.boardId,localPinId:o.localPinId,pinId:i}));try{await e(Object(ee.c)(o.localPinId,o.boardId)),r({text:n._("Pin deleted!","User deleted their pin","User deleted their pin")}),t.setState({saveState:void 0})}catch(a){r({isError:!0,text:n._("Sorry! There was an error deleting your Pin.","Error when user tried to delete pin","Error when user tried to delete pin")}),t.setState({saveState:"saved"})}}})),ne(this,"handlePinAction",({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:t}=this.state,{history:n,pinId:i,isOneTapExploreLocalTab:o,pinnedToBoard:r}=this.props;["saving","deleting"].includes(t)||o&&r||(t||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),o?n.push({pathname:`/pin/${i}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))}),ne(this,"shouldDisplayAsSaved",({isOneTapExploreLocalTab:e,pinnedToBoard:t,savedInfo:n})=>e?!!t:!!n)}render(){const{children:e,clientTrackingParams:t,homepageExperience:n,i18n:o,isInQuickSaveExperience:r,isOneTapExploreLocalTab:a,isRTL:s,location:c,oneTapSaveToBoardId:l,pinId:d,pinnedToBoard:p,pinnedToBoardId:u,savedInfo:m,shouldShowSaveHandoffExp:j}=this.props;if(!(l||a||r||j))return e;const f=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:a,pinnedToBoard:p,savedInfo:m}),g="#000",x="rgba(255, 255, 255, 0.8)",O="white",y="darkGray";return Object(b.jsxs)(i.Fragment,{children:[e,Object(b.jsx)(h.f,{bottom:!0,left:s,padding:2,position:"absolute",right:!s,zIndex:this.legoFixedZIndex,children:r||j?Object(b.jsx)($.a,{buttonText:!!p&&o._("Saved","OneTapSave.QuickSaveButton.Saved","Message on saved pin"),clientTrackingParams:t,color:p?"white":"red",deeplinkUri:"deeplinkUri",experience:n,inline:!0,pinnedToBoardId:u,minWidth:54,pinId:d,shape:"pill",shouldShowSavedButton:!!p,to:{pathname:`/pin/${d}/repin/`,state:{trackingParams:c.state?c.state.trackingParams:""}},showSaveHandoffExperience:j}):Object(b.jsx)(h.bb,{onTap:this.handlePinAction,rounding:"circle",children:Object(b.jsx)(h.f,{dangerouslySetInlineStyle:{__style:{backgroundColor:f?g:x}},padding:2,rounding:"circle",children:Object(b.jsx)(h.f,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:Object(b.jsx)(h.v,{accessibilityLabel:f?o._("saved","checkmark icon to show pin has been saved","checkmark icon to show pin has been saved"):o._("save","button for saving quickly with one click","button for saving quickly with one click"),icon:f?"check":"add",color:f?O:y,size:"24"})})})})})]})}}const oe=Object(J.compose)(Object(o.connect)((e,{pinId:t})=>({savedInfo:e.pins[t]&&e.pins[t].savedInfo,pinnedToBoard:e.pins[t]&&e.pins[t].pinned_to_board,homepageExperience:e.experiences[40001]})),Q.b,C.l)((function(e){var t;const n=Object(p.c)(),i=Object(Z.b)(null===(t=e.homepageExperience)||void 0===t?void 0:t.experience_id),{isRTL:r}=Object(o.useSelector)(({session:e})=>e),a=Object(o.useSelector)(({session:e})=>e.unauthSavePinId),s=Object(o.useSelector)(({session:e})=>e.isAuthenticated)&&!!a&&a===e.pinId;return Object(b.jsx)(ie,{...e,i18n:n,isInQuickSaveExperience:i,shouldShowSaveHandoffExp:s,isRTL:r})}));oe.displayName="OneTapSave";var re=oe,ae=n("I1Y6");function se({boardUrl:e,boardName:t,isQuicksave:n}){const i=Object(p.c)(),o=Object(C.h)(),r=Object(G.b)("mweb_curation_save_behavior"),a=Object(G.b)("mweb_boardless_pins"),s=n&&(r({dangerouslySkipActivation:!0}).anyEnabled||a({dangerouslySkipActivation:!0}).anyEnabled),c=new h.s(1);return Object(b.jsx)(h.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:c,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:Object(b.jsx)(h.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:Object(b.jsx)(h.bb,{onTap:t=>{t.event.preventDefault(),o.push(s?"/me/":e)},children:Object(b.jsx)(h.cb,{color:"white",children:Object(f.b)(i._("Saved to {{boardName}}","PinCard.SavedToBoard.Overlay","Saved to board overlay"),{boardName:Object(b.jsx)(h.cb,{color:"white",weight:"bold",inline:!0,children:s?i._("Profile","PinCard.SavedToProfile.Overlay",'Part of string saying "Saved to Profile" after saving a Pin'):Object(ae.a)(t,22)},"pincard-"+t)})})})})})}var ce=n("Ido7"),le=n("pTLB"),de=n("YWD0");var pe=({domainLinkData:e})=>{const t=Object(p.c)(),n=Object(le.b)();return Object(b.jsxs)(h.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,color:"transparentDarkGray",children:[Object(b.jsx)(h.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",children:Object(b.jsx)(h.u,{color:"white",children:t._("Open","Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.","Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.")})}),!!e&&Object(b.jsx)(h.f,{position:"absolute",bottom:!0,left:!0,children:Object(b.jsx)(de.a,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})};const ue=({width:e,height:t,minY:n,maxY:i})=>{const o=t=>e<=0||!t?"0%":Math.round(t/e*100)+"%";return{top:n<=0?"0%":o(-1*n*t),bottom:i>=1?"0%":o(-1*(1-i)*t)}},he=({children:e,margin:t})=>Object(b.jsx)(h.f,{dangerouslySetInlineStyle:{__style:t?{marginTop:t.top,marginBottom:t.bottom}:{}},position:"relative",children:Object(b.jsx)(h.C,{wash:!0,rounding:4,children:e})});var be=({clientTrackingParams:e,color:t,description:n,domainLinkData:r,hideBottomCardText:a,image:s,imageAltText:c,imageCrop:l,isMessenger:d,isOneTapExploreLocalTab:u,isSquarePin:m,onError:j,oneTapSaveToBoardId:f,onLoad:g,pinId:x,pinnedToBoardId:O,pinVideo:y,slotIndex:w,storyData:v,title:_,type:S,videoDuration:T,viewType:k})=>{var I;const P=Object(p.c)(),{group:C}=Object(G.a)("mweb_image_lazy_loading"),[E,A]=Object(i.useState)(!1),L=Object(o.useSelector)(({session:e})=>e.isAuthenticated),F=Object(o.useSelector)(({experiences:e})=>e[40001]),D=Object(Z.b)(null==F?void 0:F.experience_id),B=D&&0===(null===(I=F.display_data)||void 0===I?void 0:I.pin_count),M=0===w&&D&&B,N=Object(R.a)(),z=Object(o.useSelector)(({pins:e})=>e[x]),H=Object(o.useSelector)(({boards:e})=>e[O||z&&z.board]),U=O&&z.savedThisSession,W=r&&r.link?"with-link":"without-link",q=!L&&"desktop"!==N,V=Object(b.jsx)(h.x,{alt:c||_||n||"",color:t,naturalHeight:s.height,naturalWidth:s.width,onError:j,onLoad:g,src:s.url,loading:(C.includes("eager")?"eager":C.includes("lazy")&&"lazy")||"auto",fit:m?"cover":void 0}),Y=m?Object(b.jsx)(h.f,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:Object(b.jsx)(h.f,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:V})}):V;return Object(b.jsxs)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:[Object(b.jsxs)(h.f,{"data-test-id":`pincard-${S}-${W}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:q?void 0:()=>A(!0),onMouseLeave:q?void 0:()=>A(!1),position:"relative",rounding:4,children:[Object(b.jsxs)(re,{clientTrackingParams:e||"",oneTapSaveToBoardId:f,isOneTapExploreLocalTab:u,pinId:x,pinnedToBoardId:O,viewType:k,children:["gif"===S&&!a&&!U&&Object(b.jsx)(ce.a,{text:P._("GIF","pin.pinCard.gifIconIdentifier","pin type identifier for gifs")}),"video"===S&&T&&!a&&!U&&Object(b.jsx)(ce.a,{text:T}),"storyPin"===S&&v&&v.page_count>0&&!U&&Object(b.jsx)(ce.a,{icon:"story-pin",text:v.page_count.toString()}),Object(b.jsx)(he,{margin:l?ue({width:s.width,height:s.height,minY:l.min_y,maxY:l.max_y}):void 0,children:"video"===S&&d&&y?Object(b.jsx)(h.jb,{accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityUnmuteLabel:"",aspectRatio:y.width/y.height,captions:"",loop:!0,playing:!0,playsInline:!0,poster:s.url,src:y.url,volume:0}):Y})]}),E&&!L&&Object(b.jsx)(pe,{domainLinkData:r}),L&&U&&Object(b.jsx)(se,{boardName:H.name,boardUrl:H.url,isQuicksave:"quick_saves"===H.layout})]}),M&&Object(b.jsx)("div",{style:{position:"absolute",bottom:-30,right:-18,pointerEvents:"none"},children:Object(b.jsx)(h.M,{size:120})})]})},me=n("Lr1Z"),je=n("eqXv");const fe={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:1,transition:"opacity 1s ease"}},ge=(e,t,n)=>Object(b.jsx)(me.a,{inline:!0,to:t,pressState:"background",children:Object(b.jsx)(h.cb,{color:"white",inline:!0,size:"md",weight:"bold",children:n})},e);function xe({color:e,getFeedbackText:t,onUnfollow:n,pinId:r,showing:a,unfollowed:s,undoAction:c,undoActionOptions:l,viewParameter:d,viewType:u}){const m=Object(p.c)(),[j,f]=Object(i.useState)(a?"fadeIn":"initial"),g=Object(i.useRef)(null);Object(i.useEffect)(()=>("initial"===j&&a&&(g.current=window.requestAnimationFrame(()=>f("fadeIn"))),()=>{g.current&&window.cancelAnimationFrame(g.current)}),[j,f,a]);const O=Object(o.useDispatch)(),{subTitle:y,title:w,unfollow:v}=t(ge);let _=w,S=y;v&&s&&(_=v.title,S=v.subTitle);const T=()=>{let e=c,t=l;s&&v&&v.actionOptions&&v.action&&(t={...v.actionOptions,undo:!0},"unfollowPinner"===v.action?e="followPinner":"unfollowBoard"===v.action?e="followBoard":"unfollowTopic"===v.action&&(e="followTopic")),Object(je.a)(e,t),O(Object(ee.l)(r,"")),Object(x.e)({event_type:101,view_type:u,view_parameter:d,component:0,element:11181})};return a&&Object(b.jsx)(h.f,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...fe[j]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:Object(b.jsx)(h.f,{width:"100%",height:"100%",color:"darkGray",rounding:4,overflow:"auto",children:Object(b.jsxs)(h.f,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[Object(b.jsxs)(h.f,{children:[Object(b.jsx)(h.u,{size:"sm",color:"white",children:_}),S&&Object(b.jsxs)(h.f,{marginTop:1,children:[Object(b.jsx)(h.cb,{color:"white",size:"md",inline:!0,children:S}),Object(b.jsx)(me.a,{to:"/edit",inline:!0,rounding:2,pressState:"background",children:Object(b.jsx)(h.cb,{color:"white",inline:!0,size:"md",weight:"bold",children:m._("Tune your home feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})})]})]}),!s&&v&&Object(b.jsx)(h.f,{paddingY:1,children:Object(b.jsx)(h.g,{color:"white",text:m._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user"),onClick:()=>v?Object(je.a)(v.action,v.actionOptions,n):void 0})}),Object(b.jsx)(P.a,{name:"mweb_undo_hiding_a_pin",activate:!0,children:({anyEnabled:e})=>e&&(s?Object(b.jsx)(h.f,{paddingY:1,children:Object(b.jsx)(h.g,{color:"white",text:m._("Follow again","Text on the button to follow a specific board / user again","Text on the button to follow a specific board / user again"),onClick:T})}):!v&&!!c&&Object(b.jsx)(h.f,{paddingY:1,children:Object(b.jsx)(h.g,{color:"white",text:m._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin"),onClick:T})}))})]})})})}var Oe=n("JJAz"),ye=n("eFhR"),we=n("wzxk");function ve(e){const{pin:t,board:n,pinner:i}=e,{anyEnabled:o}=Object(G.a)("mweb_seo_page_metadata_grid_padding"),{anyEnabled:r}=Object(G.a)("mweb_trim_grid_title_ff");return o?Object(b.jsxs)(h.f,{paddingX:2,marginBottom:3,display:"flex",children:[Object(b.jsx)(h.f,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"3"}},flex:"grow",maxHeight:48,minHeight:12,overflow:"hidden",width:142,children:Object(b.jsx)(h.cb,{size:"sm",weight:"bold",children:Object(we.b)(t,r)||t.description})}),Object(b.jsx)(h.f,{children:Object(b.jsx)(ye.a,{pin:t,board:n,pinner:i||"",size:"md"})})]}):Object(b.jsxs)(h.f,{paddingX:2,children:[Object(b.jsx)(h.f,{marginTop:-2,position:"absolute",right:!0,children:Object(b.jsx)(ye.a,{pin:t,board:n,pinner:t.pinner||"",size:"sm"})}),Object(b.jsx)(h.f,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"3"}},left:!0,maxHeight:48,minHeight:12,overflow:"hidden",width:142,children:Object(b.jsx)(h.cb,{size:"sm",weight:"bold",children:Object(we.b)(t,r)||t.description})})]})}var _e=n("Dgpg"),Se=n("bUAJ"),Te=n("kEen"),ke=n("TXO6"),Ie=n("VjTW"),Pe=n("NymR"),Ce=n("ulr2");function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ae=({isDesktop:e})=>e?0:1,Le=Object(i.lazy)(()=>Promise.all([n.e(4),n.e(300),n.e(605)]).then(n.bind(null,"fdOw"))),Fe=e=>Boolean(e.is_eligible_for_web_closeup),De=e=>Boolean(e.promoter&&!e.is_downstream_promotion),Be={width:1,height:1,url:""},Me=e=>{const{attribution:t,embed:n,is_eligible_for_web_closeup:i,rich_summary:o,videos:r,story_pin_data_id:a}=e,s=n||t&&t.embed;return i?"oneTap":r||s&&"video"===s.type?"video":s&&"gif"===s.type?"gif":o&&"product"===o.type_name?"product":o&&"recipe"===o.type_name?"recipe":a?"storyPin":"image"},Re=e=>{if("video"===Me(e)&&e.videos&&e.videos.video_list){const{duration:t=0}=e.videos.video_list[Object.keys(e.videos.video_list)[0]]||{};return Object(Pe.g)(t)}return""},Ne=Object(i.lazy)(()=>Promise.all([n.e(303),n.e(367)]).then(n.bind(null,"6wlI")));class ze extends i.Component{constructor(...e){super(...e),Ee(this,"state",{startImpressionTimer:!1}),Ee(this,"getPinImage",()=>{const{pin:e,isSquarePin:t,shouldLimitResolution:n}=this.props;if(!e||!e.images)return Be;if(n&&e.images["170x"])return e.images["170x"];var i;if(t)return{height:136,url:null===(i=e.images["236x"])||void 0===i?void 0:i.url,width:136};const o=["236x","170x","136x136","736x","474x","orig"];for(const r of o)if(e.images[r]&&e.images[r].url)return e.images[r];return Be}),Ee(this,"getImpressionData",()=>{const{pin:e}=this.props,t=Object(c.a)(e),n=t?{isNativeVideoAndWatchable:!!(t&&t.url&&t.height&&t.width)||void 0,videoIdStr:t&&e.videos?e.videos.id:void 0}:{},i=this.getPinImage();return{richTypes:e.shopping_flags||[],imageURL:i.url||"",...n,...this.props.impressionData}}),Ee(this,"getAuxData",()=>{const{auxData:e={},pin:t}=this.props;return{commerce_data:Object(S.a)(t),pwa_type:"undefined"!=typeof window?Object(Oe.b)(window):"unknown",...e}}),Ee(this,"getFeedbackType",()=>{const{board:e,feedback:t,viewParameter:n,pin:i,pinner:o}=this.props;return this.feedbackHelpers.getFeedbackType({board:e,feedback:t,viewParameter:n,pin:i,pinner:o})}),Ee(this,"getRecommendationDescription",e=>{const{board:t,pinner:n,promoter:i,pin:o}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:o.ad_match_reason,board:t,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n,promoter:i,recommendationReason:o.recommendation_reason,sourceInterest:o.source_interest})}),Ee(this,"getPinHiddenFeedbackText",e=>{const{board:t,pin:n,pinner:i}=this.props,o=this.feedbackHelpers.getUnfollowAction({board:t,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:i,sourceInterest:n.source_interest});return o?{title:this.props.i18n._("Pin hidden","message displayed after hiding a pin","message displayed after hiding a pin"),subTitle:this.getRecommendationDescription(e),unfollow:o}:{title:this.props.i18n._("Pin hidden","message displayed after hiding a pin","message displayed after hiding a pin"),subTitle:this.props.i18n._("Got it! We'll try to show you more relevant Pins in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}}),Ee(this,"feedbackHelpers",Object(r.a)({i18n:this.props.i18n,interpolateNamedTemplate:f.b})),Ee(this,"logOneTap",()=>{const{pin:e,trackingParams:t,viewType:n,viewParameter:i,auxData:o}=this.props,r=Object(T.a)(t,e),a={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:35,component:this.props.componentType,object_id_str:e.id,aux_data:{commerce_data:Object(S.a)(e),grid_index:this.props.slotIndex,image_signature:e.image_signature,...this.props.auxData},clientTrackingParams:r};Object(x.e)({event_type:8948,view_type:n,view_parameter:i,object_id_str:e.id,clientTrackingParams:r,aux_data:{image_signature:e.image_signature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...o}}),Object(x.g)(a),Object(x.e)({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:r,aux_data:{closeup_navigation_type:"web_closeup",image_signature:e.image_signature},object_id_str:e.id})}),Ee(this,"markPinAsSeen",()=>this.props.markPinAsSeen(this.props.pinId)),Ee(this,"handleLoad",()=>{this.setState({startImpressionTimer:!0})}),Ee(this,"handleError",()=>{this.setState({startImpressionTimer:!1})}),Ee(this,"handleClick",e=>{const{auxData:t,componentType:n,deviceType:i,pin:o,slotIndex:r,trackingParams:a,viewParameter:s,viewType:c,onPinClick:l,isAuth:d,unauthDesktopSignupModalPageContext:p}=this.props,u=e=>Object(W.a)(`unauth_pin_rep.${e}.${String(s)}`);if(u("click"),Object(x.f)({view_type:c,view_parameter:s,element:35,component:n,object_id_str:o.id,clientTrackingParams:Object(T.a)(a,o),aux_data:{commerce_data:Object(S.a)(o),grid_index:r,image_signature:o.image_signature,...t}}),Fe(o)||Object(x.e)({event_type:8948,view_type:c,view_parameter:s,object_id_str:o.id,clientTrackingParams:Object(T.a)(a,o),aux_data:{image_signature:o.image_signature,commerce_data:Object(S.a)(o),closeup_navigation_type:"click",grid_index:r,cosmic_ray_count:"3",...t}}),!d)switch(c){case 3:Object(W.g)("click_pin_related_image");break;case 5:Object(W.g)("click_board_pin_image");break;case 210:Object(W.g)("click_topic_pin_image")}if(Fe(o)&&this.logOneTap(),l&&l(),"desktop"===i){if(e.metaKey){u("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${o.id}/`,"_blank").focus()}else if(!d&&p){const{pinImageClickHandler:t}=p;t({event:e,pin:o,linkTarget:"duploClientNav"})}}}),Ee(this,"handleCreditsClick",e=>{var t;const{history:n,pin:i}=this.props,{id:o,sponsorship:r,story_pin_data_id:a}=i,{creator:{id:s}={},sponsor:{id:c}={}}=r||{},l=!!a;e.stopPropagation(),e.preventDefault();const d=null===(t=this.getCredits())||void 0===t?void 0:t.link;d&&n.push(d),Object(x.h)({view_type:3,element:27,object_id_str:o,component:l?230:void 0,aux_data:{pin_id:o,...s&&c?{creator_id:s,sponsor_id:c}:{}}})}),Ee(this,"handleUnfollowPin",()=>this.props.markPinUnfollowed(this.props.pin.id)),Ee(this,"handlePinSend",e=>{e&&e.stopPropagation&&e.stopPropagation();const{pin:t,board:n,setSharingOnBoardPage:i}=this.props;n&&t&&i&&n.isSocialSeasonalBoard&&i(!0,"pin",t.id)}),Ee(this,"isOverrideImageOnly",()=>{const{pin:{rich_summary:e},viewer:t,viewParameter:n,overrideImageOnlyGridForJp:i,overrideImageOnlyGridForKr:o}=this.props,r=3375===n;return i||o||e&&43===n&&!Object(ke.d)(t)||r}),Ee(this,"convertToGif",e=>{const t=Math.max(e.embed&&e.embed.width||0,236),n=Math.max(e.embed&&e.embed.height||0,236);return{url:e.embed?e.embed.src:"",width:t,height:n}})}componentDidMount(){const{isAuth:e,slotIndex:t,pin:n,viewParameter:i,location:o}=this.props;if(!e&&0===t&&3070===i){const e=o.pathname;Object(Se.a)(e,n)}}getIsClaimedContent(){var e,t;const{pin:n,viewParameter:i}=this.props;return 3375===i&&!(null===(e=n.link_domain)||void 0===e||null===(t=e.official_user)||void 0===t||!t.is_primary_website_verified)}getCredits(){var e,t;const{board:n,nativeCreator:i,pin:o,pinner:r,promoter:a,viewParameter:s}=this.props,c=0===s,l=3475===s,d=3173===s,p=3375===s,u=this.getIsClaimedContent(),h=!!o.native_creator,b=De(o),{sponsorship:m}=o,j=!!m;if(!(b||j||c||d||h||u))return;switch(b?"PROMOTED":j?"SPONSORED":h?"NATIVE_CONTENT":u?"CLAIMED_CONTENT":n&&"protected"===n.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED":return{title:this.props.i18n._("Promoted by","Grid pin annotation","Grid pin annotation"),subtitle:a.full_name,avatar:this.getPinnerImage(a.image_small_url),mediumAvatar:this.getPinnerImage(a.image_medium_url),link:`/${a.username}/`};case"SPONSORED":if(!m)throw new Error("sponsorship doesn't exist when expected");const{creator:s,sponsor:c}=m;return{title:null==s?void 0:s.full_name,subtitle:Object(f.b)(this.props.i18n._("Paid partnership with {{ name }}","pin.pincard.attributionForSponsorship","Subtext of pincard attribution for a sponsored pin"),{name:null!==(e=null==c?void 0:c.full_name)&&void 0!==e?e:""}),avatar:this.getPinnerImage(null==s?void 0:s.image_small_url),mediumAvatar:this.getPinnerImage(null==s?void 0:s.image_medium_url),link:`/${null!==(t=null==s?void 0:s.username)&&void 0!==t?t:""}/`};case"NATIVE_CONTENT":let d=(null==n?void 0:n.url)||`/pin/${o.id}/`;return(p||l)&&(d=`/${i.username}/`),{title:l?this.props.i18n._("Created by","created by label for story pins","created by label for story pins"):"",subtitle:i.full_name,avatar:this.getPinnerImage(i.image_small_url),mediumAvatar:this.getPinnerImage(i.image_medium_url),link:d};case"CLAIMED_CONTENT":const{link_domain:u}=o,{official_user:h}=u||{};return h?{subtitle:h.full_name,avatar:this.getPinnerImage(h.image_small_url),mediumAvatar:this.getPinnerImage(h.image_medium_url),link:h.username?`/${h.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n._("Saved by","Grid pin annotation","Grid pin annotation"),subtitle:"",avatar:this.getPinnerImage(null==r?void 0:r.image_small_url),mediumAvatar:this.getPinnerImage(null==r?void 0:r.image_medium_url),link:(null==n?void 0:n.url)||`/pin/${o.id}/`};default:return{title:(null==r?void 0:r.full_name)||"",subtitle:"",avatar:this.getPinnerImage(null==r?void 0:r.image_small_url),mediumAvatar:this.getPinnerImage(null==r?void 0:r.image_medium_url),link:(null==n?void 0:n.url)||`/pin/${o.id}/`}}}getSharedHeaderInviteCode(){var e;const{viewParameter:t,viewedSharedPins:n,pinId:i}=this.props;return 92===t?null===(e=n&&n[i])||void 0===e?void 0:e.inviteCode:void 0}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{grid_title:e,rich_summary:t,description:n}=this.props.pin;return"string"==typeof e?{title:e,description:""}:{title:null==t?void 0:t.display_name,description:n}}renderPinCard(){var e;const{board:t,country:n,componentType:i,disableAppUpsell:o,deviceType:r,feedback:a,history:s,imageOnly:p,i18n:m,isAuth:j,isFocusPin:f,isFullWidth:g,isOneTapExploreLocalTab:x,isSeoPageMetadataGridExp:O,isSquarePin:y,isImageOnlyExp:w,location:v,onPinLinkClick:S,onVolumeChange:P,oneTapSaveToBoardId:C,pin:E,activateProfileUnificationExp:A,storyPin:L,pinner:F,promoter:D,slotIndex:B,trafficSource:M,viewParameter:R,viewType:N,showSeoMetadata:H,topLevelTrafficSource:U,topLevelTrafficSourceDepth:W,undoAction:G,undoActionOptions:q,trackingParams:V,vaseDisplayMode:K}=this.props,{aggregated_pin_data:$,category:Q,image_signature:Z,rich_summary:J,title:ee,sponsorship:te}=E,{description:ne,title:ie}=this.getPinText(),oe="desktop"===r,re=Me(E),ae=0===R,se=3475===R,ce=De(E),le=!!te,de=Object(T.a)((v&&v.state||{}).trackingParams,E),pe=w&&!this.isOverrideImageOnly(),ue=t&&t.isSocialSeasonalBoard,he=this.getPinImage(),me=ue&&"gif"===re?this.convertToGif(E):he,je=Object(c.a)(E),fe=Object(we.a)(null!==(e=E.description)&&void 0!==e?e:"",E.description_html||"",E.pin_join),{annotationsWithLinks:ge}=Object(we.c)(E),Oe=j?ne:Object(k.a)(E),ye=Object(Ie.c)(E)&&!se,Se=O?2:0,ke=O?0:2,Pe=!j&&!!E.story_pin_data_id&&!!E.seo_url;let Ce;if(Ce=Fe(E)?E.tracked_link||E.link:Pe?E.seo_url:`/pin/${E.id}/`,3474===R)return Object(b.jsx)(d.a,{fallback:Object(b.jsx)(I.a,{accessibilityLabel:this.props.i18n._("Loading Videos Feed Pin","Loading Videos Feed Pin component","Loading Videos Feed Pin component")}),children:Object(b.jsx)(Le,{bestPinImgSrc:Object(u.d)(E),color:E.dominant_color,componentType:i,feedback:a,feedbackType:this.getFeedbackType(),image:me,imageAltText:fe,imageSignature:Z,isFocusPin:f,onReady:this.handleLoad,onVideoClick:this.handleClick,onVolumeChange:P,pinId:E.id,pinReactionCounts:E.reaction_counts,mp4Video:je,hlsVideo:E.videos&&E.videos.video_list&&E.videos.video_list.V_HLSV4,title:ie,trackingParams:V,type:re,viewParameter:R,viewType:N})});{var Ee,Be,ze,He,Ue,We,Ge,qe;const e=!ne||pe&&!ae?void 0:ne.trim(),i=this.getSharedHeaderInviteCode(),c={country:n,deeplinkUri:Pe?E.seo_url:"pin/"+E.id,external:Fe(E),externalQueryParams:{pin:E.id,client_tracking_params:V},isAppUpsellDisabled:o,onTouch:this.handleClick,pinCategory:E.category,pressState:g||"none",rounding:4,title:this.props.i18n._("See this Pin","App Upsell Text after clicking on Pin in feed","App Upsell Text after clicking on Pin in feed"),to:{pathname:Ce,state:{trackingParams:V,trafficSource:M,topLevelTrafficSource:U,topLevelTrafficSourceDepth:W}},upsellType:"direct",viewParameter:R,viewType:N,clientTrackingParams:de},f=Ae({isDesktop:oe}),O=oe?0:ke;return Object(b.jsxs)(h.f,{"data-test-id":"pin","data-test-pin-id":E.id,marginBottom:oe?0:Se,children:[g?Object(b.jsx)(Te.a,{...c,children:Object(b.jsx)(h.f,{padding:f,marginBottom:O,children:Object(b.jsx)(_,{feedback:a,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,history:s,pinId:E.id,pinnerId:F?F.id:"",slotIndex:B,type:re})})}):Object(b.jsxs)(h.f,{padding:f,marginBottom:O,children:[Object(b.jsxs)(Te.a,{...c,children:[!!i&&Object(b.jsx)(X,{inviteCode:i}),Object(b.jsx)(be,{clientTrackingParams:de,color:null!==(Ee=E.dominant_color)&&void 0!==Ee?Ee:"",description:e,domainLinkData:E.domain&&E.link?{clickLoggingOptions:{auxData:{objectId:E.id,grid_index:B,sanitized_url:E.link}},domain:E.domain,link:E.link,onClick:S}:void 0,hideBottomCardText:ue,image:me,imageAltText:fe,imageCrop:E.image_crop,isMessenger:ue,isOneTapExploreLocalTab:x,isSquarePin:y,onError:this.handleError,oneTapSaveToBoardId:C,onLoad:this.handleLoad,pinId:E.id,pinnedToBoardId:(null===(Be=E.pinned_to_board)||void 0===Be?void 0:Be.id)||"",pinVideo:ue&&je||void 0,slotIndex:B,storyData:L,title:!pe||ae?ie:void 0,type:re,videoDuration:Re(E),viewType:N})]}),(se||!p&&(j||"desktop"===r)||"shop_feed_auth_and_unauth_mweb_override"===M)&&Object(b.jsxs)(h.f,{children:["desktopParity"===K&&ge&&Object(b.jsx)(_e.a,{annotations:ge,mode:Object(z.P)(v)&&A&&A().anyEnabled?"expanded":"inlineWithScrollArrows"}),Object(b.jsx)(Te.a,{...c,children:Object(b.jsx)(Y,{allowPriceIndicator:["shop_feed","shop_feed_auth_and_unauth_mweb_override"].includes(M),contextMenu:j?Object(b.jsx)(h.f,{marginStart:1,children:Object(b.jsx)(h.f,{height:26,width:24,children:Object(b.jsx)(d.a,{children:Object(b.jsx)(Ne,{adMatchReason:E.ad_match_reason,bestPinImgSrc:Object(u.d)(E),feedback:a,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,imageSignature:Z,pinCategory:Q,pinDescription:Oe,pinId:E.id,pinImgSrc:me.url,pinTitle:ee,sourceType:ce?"ad":ae?"following":void 0,viewParameter:R,viewType:N})})})}):null,credits:this.getCredits(),description:e,isHubFeed:se,isPromotedPin:ce,isSponsoredPin:le,isSquarePin:y,onCreditsClick:this.handleCreditsClick,pinDescription:Oe,pinId:E.id,pinnedToBoardId:(null===(ze=E.pinned_to_board)||void 0===ze?void 0:ze.id)||"",pinReactionCounts:E.reaction_counts,pinTagsChips:($||{}).pin_tags_chips,promoterName:D.full_name,recipeCookTime:pe?void 0:E.rich_summary&&E.rich_summary.display_cook_time,recipeMaxRating:pe||null==J||null===(He=J.aggregate_rating)||void 0===He?void 0:He.best_rating,recipeRating:pe||null==J||null===(Ue=J.aggregate_rating)||void 0===Ue?void 0:Ue.rating_value,recipeReviewCount:pe||null==J||null===(We=J.aggregate_rating)||void 0===We?void 0:We.review_count,shouldShowReactions:ye,title:ie,type:re})})]})]}),(null==t?void 0:t.isSocialSeasonalBoard)&&j&&Object(b.jsx)(h.f,{color:"lightGray",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:-2,position:"relative",rounding:2,width:"90%",children:Object(b.jsx)(l.a,{onTouch:this.handlePinSend,pressState:"none",rounding:2,children:Object(b.jsx)(h.f,{padding:3,children:Object(b.jsx)(h.cb,{align:"center",weight:"bold",children:m._("Send")})})})}),"reported"===E.feedback_status?Object(b.jsx)(xe,{color:null!==(Ge=E.dominant_color)&&void 0!==Ge?Ge:"",getFeedbackText:()=>({title:this.props.i18n._("Reported","message displayed after reporting a pin","message displayed after reporting a pin"),subTitle:this.props.i18n._("Thanks! Your feedback helps us keep the Pinterest community safe.","message displayed after reporting a pin","message displayed after reporting a pin")}),pinId:E.id,showing:!!E.feedback_status}):Object(b.jsx)(xe,{color:null!==(qe=E.dominant_color)&&void 0!==qe?qe:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:E.id,showing:!!E.feedback_status,undoAction:G,undoActionOptions:q,unfollowed:"unfollowed"===E.feedback_status,viewParameter:R,viewType:N}),H&&"inlineHidden"===K&&Object(b.jsx)(ve,{pin:E,board:t,pinner:F})]})}}render(){const{componentType:e,pin:t,trackingParams:n,viewParameter:i,viewType:o,slotIndex:r,objectIdStr:a,viewData:s}=this.props,{startImpressionTimer:c}=this.state;return t?Object(b.jsx)(g.d,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!c,loggingId:t.id,objectIdStr:a,onTracked:this.markPinAsSeen,slotIndex:r,trackingParams:n,viewData:s,viewParameter:i,viewType:o,children:this.renderPinCard()}):null}}t.a=Object(o.connect)(({boards:e,experiences:t,pins:n,session:i,users:o,storyPins:r},a)=>{const s=n[a.pinId]||null,c=s&&s.story_pin_data_id?r[s.story_pin_data_id]:void 0,l=t[1000107];return{board:s&&e[s.board],country:i.country,hasPoorConnection:i.hasPoorConnection,isAuth:i.isAuthenticated,isImageOnlyExp:l&&500678===l.experience_id,pin:s,storyPin:c,pinner:s&&o[s.pinner],promoter:null!=s&&s.promoter&&o[s.promoter]||{},undoAction:s&&s.undoAction,undoActionOptions:s&&s.undoActionOptions,viewer:o[i.userId],viewedSharedPins:i.viewedSharedPins,nativeCreator:null!=s&&s.native_creator&&o[s.native_creator]||{}}},(e,{viewParameter:t,viewType:n})=>({markPinAsSeen:i=>e(Object(ee.a)({pinId:i,viewParameter:t,viewType:n})),markPinUnfollowed:t=>e(Object(ee.l)(t,"unfollowed")),setSharingOnBoardPage:(t,n,i)=>e(Object(Ce.y)(t,n,i))}))((function(e){const t=Object(p.c)(),{anyEnabled:n}=Object(G.a)("mweb_seo_page_metadata_grid_padding"),i=Object(G.b)("mweb_jp_render_grid_with_title_desc"),o=Object(G.b)("mweb_kr_render_grid_with_title_desc"),r=Object(le.b)(),a=Object(G.b)("mweb_unauth_profile_page_unification"),s=Object(R.a)(),{group:c}=Object(N.a)(),l="desktop"===s&&"enabled_vase_modal_without_layer"!==c?"desktopParity":"inlineHidden";return Object(b.jsx)(ze,{...e,deviceType:s,isSeoPageMetadataGridExp:n,overrideImageOnlyGridForJp:i().anyEnabled,overrideImageOnlyGridForKr:o().anyEnabled,activateProfileUnificationExp:a,unauthDesktopSignupModalPageContext:r,vaseDisplayMode:l,i18n:t})}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/22-26d02954e24ba3b3923f.mjs.map