(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[8],{"0G5S":function(e,t,r){r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a}));const n=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(r){return console.error("Cannot access localStorage."),t}},o=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},a=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(r){console.error("Cannot access localStorage.")}}},"0b9w":function(e,t,r){r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a}));var n=r("uJiI");const o=e=>decodeURIComponent(e),a=e=>encodeURIComponent(Object(n.a)(e))},"1dBE":function(e,t,r){r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return c}));var n=r("q1tI"),o=r("nKUr");function a(e,t){let r=e.slice(1);if(r=r.endsWith("Context")?r:r+"Context",t){return{hocDisplayName:`with${e[0].toUpperCase()}${r}(${t})`}}return{propsDisplayName:`${e[0].toLowerCase()}${r}`,messageDisplayName:`${e[0].toUpperCase()}${r}`}}function s(e,t){const r=Object(n.createContext)(t),{messageDisplayName:o}=a(e);r.displayName=o;const s=r.Provider,i=({children:e})=>{const t=Object(n.useContext)(r);if(void 0===t)throw new Error(`${o}Consumer must be used within a ${o}Provider.`);return e(t)};return s.displayName=o+"Provider",i.displayName=o+"Consumer",{Provider:s,Consumer:i,useHook:function(){const e=Object(n.useContext)(r);if(void 0===e)throw new Error(`use${o} must be used within a ${o}Provider.`);return e}}}function i(e){const t=Object(n.createContext)(),{propsDisplayName:r,messageDisplayName:s}=a(e);t.displayName=s;const i=t.Provider;function c(i){const{hocDisplayName:c}=a(e,String(i.displayName||i.name)),u=e=>{const a=Object(n.useContext)(t);if(void 0===a)throw new Error(`${c} must be used within a ${s}Provider.`);if(e[r])throw new Error("Parent Component and Context are passing to the component the same variables.");const u={[r]:a};return Object(o.jsx)(i,{...e,...u})};return u.displayName=c,u}const u=({children:e})=>{const r=Object(n.useContext)(t);if(void 0===r)throw new Error(`${s}Consumer must be used within a ${s}Provider.`);return e(r)};return c.displayName=s+"HOC",i.displayName=s+"Provider",u.displayName=s+"Consumer",{Provider:i,Consumer:u,useHook:function(){const e=Object(n.useContext)(t);if(void 0===e)throw new Error(`use${s} must be used within a ${s}Provider.`);return e},HOC:c}}function c(e){const t=Object(n.createContext)(),{propsDisplayName:r,messageDisplayName:s}=a(e);t.displayName=s;const i=t.Provider;function c(s){const{hocDisplayName:i}=a(e,String(s.displayName||s.name)),c=e=>{const a=Object(n.useContext)(t),i={[r]:a};return Object(o.jsx)(s,{...e,...i})};return c.displayName=i,c}const u=t.Consumer;return c.displayName=s+"HOC",i.displayName=s+"Provider",{Provider:i,Consumer:u,useHook:()=>Object(n.useContext)(t),HOC:c}}},"6RYE":function(e,t,r){var n=r("wMN6");const o=(e,t)=>Object.keys(t).reduce((e,r)=>((e,t,r)=>({...e,[r]:Object(n.f)(e[r],t)}))(e,t[r],r),e);t.a=function(e,t){return(r,n)=>{const a=t(r,n);if(n.payload&&!Array.isArray(n.payload)){const{normalizedResponse:t}=n.payload;if(t&&((s=t).entities&&s.entities[e]))return o(a,t.entities[e])}var s;return a}}},"9SMi":function(e,t,r){r.d(t,"a",(function(){return a}));var n=r("6RYE"),o=r("jUT+");const a=e=>({type:o.A,payload:{storyId:e}}),s=e=>e.trim().toLowerCase();t.b=(e={})=>Object(n.a)("stories",(t=e,r)=>{switch(r.type){case o.C:case o.K:if("BoardSectionResource"===r.payload.resource&&r.payload.normalizedResponse){const{name:e,board_id:n}=r.payload.options;return(({state:e,boardId:t,name:r})=>{const n=s(r);return Object.keys(e).reduce((r,o)=>{const a=e[o];return{...r,[o]:"section_title_recommendations"===a.story_type&&a.objects.find(e=>"board"===e.schema&&e.id===t)?{...a,objects:a.objects.filter(e=>!("board_section_name_recommendation"===e.type&&s(e.name)===n))}:a}},{})})({state:t,boardId:n,name:e})}return t;case o.H:if("BoardsFeedResource"===r.payload.resource){const e=r.payload.response.resource_response.data.filter(e=>"story"===e.type).reduce((e,t)=>({...e,[t.id]:t}),{});return{...t,...e}}return t;default:return t}})},AGnR:function(e,t,r){r.d(t,"b",(function(){return m})),r.d(t,"d",(function(){return g})),r.d(t,"e",(function(){return v})),r.d(t,"a",(function(){return R})),r.d(t,"f",(function(){return w})),r.d(t,"h",(function(){return S})),r.d(t,"g",(function(){return I})),r.d(t,"c",(function(){return A}));var n=r("eOdZ"),o=r("Ptwp"),a=r("T+ZI"),s=r("0XHI"),i=r("r92k"),c=r("7Cbv");const u=[6945],d=e=>u.includes(e),l=()=>1e6*Date.now();let p,f=[],_=[],y=0;const b=()=>{const e=Object(i.b)().getState().session.browserType;return f.reduce((t,r)=>{const n=t.find((o=r,e=>e.view_type===o.viewType&&e.view_parameter===o.viewParameter&&e.event_type===o.eventType&&e.object_id_str===o.objectIdStr&&Object(a.a)(e.view_data,o.viewData)));var o;if(n&&!d(r.eventType))r.impressionType in n.event_data?n.event_data[r.impressionType].push(r.eventData):n.event_data[r.impressionType]=[r.eventData];else{const n={event_type:r.eventType,view_parameter:r.viewParameter,view_type:r.viewType,view_data:r.viewData,time:l(),component:r.component,clientUUID:Object(c.a)(),aux_data:r.auxData||{},event_data:{[r.impressionType]:d(r.eventType)?r.eventData:[r.eventData]},browser:e,object_id_str:r.objectIdStr||void 0};t.push(n)}return t},[])},m=(e,t,r)=>{const o=l(),a=Object(i.b)(),s=a.getState(),c=[..._,...b()].map(e=>(s.session&&s.session.isAuthenticated?e.userIdStr=s.session.userId:e.userIdStr="",e));if(c.length>0){const t=a.getState().session;n.a.create("ContextLogResource",{events:c,report_time:o,stage:t.stage,appVersion:t.appVersion}).callCreate({async:!e})}_=[],f=[],y=0},h=e=>{const t=(e=>{if(!e.isImpression)return Object(s.a)(JSON.stringify(e.data));const{impression:t}=e;return Object(s.a)(JSON.stringify(f.length?t.eventData:t))})(e);y+t>20480&&m(void 0,void 0,{type:"addEvent"}),y+=t,e.isImpression?f.push(e.impression):_.push(e.data)},g=e=>h({isImpression:!0,impression:e}),v=e=>{const t=Object(i.b)().getState(),r=l(),n={aux_data:{},event_data:{},view_data:{},...e,time:r,clientUUID:Object(c.a)(),browser:t.session.browserType};if(h({isImpression:!1,data:n}),12===e.event_type){const n={aux_data:{},event_data:{},view_data:{},...e,time:r,clientUUID:Object(c.a)(),browser:t.session.browserType,event_type:7946};h({isImpression:!1,data:n})}const a=new Date;return p?p&&p.getUTCDate()!==a.getUTCDate()&&(p=a,Object(o.a)()):p=a,n},R={flushContextEvents:()=>m(!0),logContextEvent:e=>{v(e)}},w=e=>v({...e,event_type:101}),S=e=>v({...e,event_type:102});let E=null;const O=(e,t)=>{let r=null;return n=>{if(n&&!r)return r=v({...n,event_type:e}),E&&E.storeClickthroughProperties(r),e;if(!n&&r){const e={...r,event_type:t,duration_ns:l()-r.time};return v(e),r=null,t}return null}},I=O(12,4100),A=(O(6946,6970),e=>{E=e})},JJAz:function(e,t,r){r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return d})),r.d(t,"e",(function(){return l}));var n=r("gxu6"),o=r("RNo4");const a="android-app://com.pinterest.twa";function s(e){return e.startsWith(a)}function i(e){return["twa","cct","browser","webview"].includes(e)}function c(e){return!!e&&(s(n.a("_pinterest_referrer")||"")||s(e.document&&e.document.referrer||"")||function(e){if(e&&e.location&&e.location.search)return i(Object(o.k)(e.location.search).twa_type);return!1}(e))}function u(e){if(!e)return null;if(c(e))return"android-twa";if(e.matchMedia&&e.matchMedia("(display-mode: standalone)").matches&&e.navigator&&e.navigator.userAgent){const t=e.navigator.userAgent;if(t.includes("Chrome"))return"chrome";if(t.includes("Safari"))return"safari"}return"unknown"}function d(e){const t=u(e);return!(!t||"unknown"===t)}function l(e,t){if("unknown"!==t)switch(t){case"twa":return 3354;case"cct":return 3355;case"browser":return 3356;default:return null}else switch(e){case"chrome":return 3351;case"safari":return 3352;default:return null}}},"O/nw":function(e,t,r){var n=r("pZLX");const o={AggregatedCommentResource:n.a,AggregatedCommentFeedResource:n.g,AggregatedActivityFeedResource:n.g,BestPinsFeedResource:n.g,BestPinsFeedAltResource:n.g,BoardArchiveResource:n.g,BoardCollaboratorsResource:n.g,BoardContentRecommendationResource:n.g,BoardFeedResource:n.g,BoardFollowingResource:n.g,BoardlessPinsResource:n.g,BoardPickerBoardsResource:{all_boards:n.g,boards_shortlist:n.g},BoardSectionEditResource:n.d,BoardSectionsRepinResource:n.g,BoardSectionsResource:n.g,BoardsFeedResource:n.g,BoardResource:n.b,BoardSectionResource:n.d,BoardSectionPinsResource:n.g,BoardInviteResource:n.h,BoardInvitesResource:n.i,ContactRequestsResource:n.g,ConversationsResource:n.g,DidItLikedByResource:n.r,DidItUserFeedResource:n.g,ExploreTopicsFeedResource:n.g,ExploreArticleBlockBoardResource:n.g,ExploreArticleBlockPinResource:n.g,ExploreArticleBlockSearchResource:n.g,ExploreArticleBlockUserResource:n.g,ExploreArticleBlockUserDidItDataResource:n.g,ExploreArticleResource:n.n,FollowingFeedResource:n.g,HolidaySpotlightRelatedFeedResource:n.g,HolidaySpotlightResource:n.g,InterestFollowingResource:n.g,InterestResource:n.p,MoreIdeasTabsBoardsResource:n.g,NewsHubResource:n.g,NewsHubDetailsResource:n.g,NewsHubSummaryResource:n.j,NuxInterestsResource:n.g,NuxTopicToCreatorsResource:n.r,PartnerPermissionsResource:n.k,PinResource:n.l,PinCatalogResource:n.g,PinsFromBrandResource:n.g,ReactionsResource:n.m,RelatedArticlesResource:n.g,RelatedInterestsResource:n.g,RelatedModulesResource:n.g,RelatedPinFeedResource:n.g,RelatedProductFeedResource:n.g,RepinResource:n.l,BaseSearchResource:{results:n.g},SearchResource:n.g,ShareSuggestionsTypeaheadResource:{items:n.g},ShoppingFeedModularizedResource:n.g,StoryFeedResource:n.g,StoryPinTaggedProductsResource:n.g,StyleContentResource:{results:n.g},StylePivotResource:n.g,SuggestedCreatorsResource:n.r,SuggestedCreatorFollowsResource:n.r,TodayArticleFeedResource:n.g,IdeasHubTodayArticlesResource:n.g,TodayArticleResource:n.o,TodayTabInterestFeedResource:n.g,TodayTabResource:n.g,TopicFeedResource:n.g,UnifiedCommentsResource:n.g,UserActivityPinsResource:n.g,UserFollowersResource:n.g,UserFollowingResource:n.g,UserRecentActivityResource:n.g,UserSimilarBusinessesResource:n.g,UserHomefeedResource:n.g,UserPinsResource:n.g,UserSettingsResource:n.q,UserStoryPinsFeedResource:n.g,UserResource:n.q,VideosFeedResource:n.g,VisualLiveSearchResource:{results:n.g},VisualLiveSearchProductFeedResource:n.g,VisualSearchFlashlightUnifiedResource:n.g};t.a=o},OA2P:function(e,t,r){r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return u}));var n=r("wMN6");var o=r("0G5S");const a="REDUX_STATE",s=()=>!!navigator.serviceWorker,i=()=>s()&&JSON.parse(Object(o.a)(a))||{},c=e=>Object(n.c)(t=>{const r={};r[e]=t,s()&&(e=>{if(window.requestIdleCallback)return window.requestIdleCallback(e);{const t=Date.now();setTimeout(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})},1)}})(()=>(e=>{s()&&Object(o.c)(a,JSON.stringify({...i(),...e}))})(r))},1e3),u=()=>{Object(o.b)(a)}},Ptwp:function(e,t,r){r.d(t,"a",(function(){return i}));var n=r("JJAz"),o=r("eOdZ"),a=r("r92k"),s=r("7Cbv");function i(){if(window.location.pathname.startsWith("/email/subscription")||window.location.pathname.startsWith("/email/remove"))return;const e=Object(a.b)(),{browserType:t,isAuthenticated:r,isPWA:i,unauthId:c}=e.getState().session;if(!r)return;const u=e.getState().currentPage,d=u&&u.viewType,l=u&&u.viewParameter,p=e.getState().session,f=Object(n.b)(window),_={data:{event_type:7137,time:1e6*Date.now(),clientUUID:Object(s.a)(),browser:t,view_type:d,view_parameter:l,unauth_id:c,isPWA:i,auxData:{pwa_type:f&&"unknown"!==f?f:void 0,stage:p.stage},appVersion:p.appVersion}},y=o.a.create("ActiveUserResource",_);let b=3e4;y.callCreate().catch(e=>{setTimeout(()=>{b>36e5||(b*=2,y.callCreate())},b)})}},QtD7:function(e,t,r){r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return c}));var n=r("4xvr"),o=r("eOdZ"),a=r("jUT+");let s;const i=e=>(t,r)=>{const{experiments:i,session:c}=r(),{active:u={},triggerable:d={}}=i;if(!u[e]&&d[e]){t((e=>({type:a.a,payload:{name:e}}))(e));const r={experiment_name:e};c.batchExperimentActivations?(s||(s=new n.b("ActivateExperimentResource",e=>({experiments:e}))),s.enqueue(r)):o.a.create("ActivateExperimentResource",r).callCreate()}return u[e]||d[e]||""},c=()=>{s&&s._queue.length>0&&s.flush()}},TSYQ:function(e,t,r){var n;!function(){var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)&&n.length){var s=o.apply(null,n);s&&e.push(s)}else if("object"===a)for(var i in n)r.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},VH7y:function(e,t,r){e.exports=r("bY5B")()},WgLT:function(e,t,r){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},XiPH:function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e){return!(!e||"function"!=typeof e.hasOwnProperty||!(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function c(e,t,r){return Object.keys(e).reduce((function(t,n){var o=""+n;return t.has(o)?t.set(o,r(t.get(o),e[o])):t}),t)}r.d(t,"a",(function(){return O})),r.d(t,"b",(function(){return w})),r.d(t,"c",(function(){return R}));var u=function(){function e(e,t,r){if(void 0===t&&(t={}),void 0===r&&(r={}),!e||"string"!=typeof e)throw new Error("Expected a string key for Entity, but found "+e+".");var n=r,o=n.idAttribute,s=void 0===o?"id":o,c=n.mergeStrategy,u=void 0===c?function(e,t){return a({},e,t)}:c,d=n.processStrategy,l=void 0===d?function(e){return a({},e)}:d,p=n.fallbackStrategy,f=void 0===p?function(e,t){}:p;this._key=e,this._getId="function"==typeof s?s:function(e){return function(t){return i(t)?t.get(e):t[e]}}(s),this._idAttribute=s,this._mergeStrategy=u,this._processStrategy=l,this._fallbackStrategy=f,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,r){var n,o=e[r];return a({},t,((n={})[r]=o,n))}),this.schema||{})},t.getId=function(e,t,r){return this._getId(e,t,r)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,r,n,o,a){var s=this,i=this.getId(e,t,r),c=this.key;if(c in a||(a[c]={}),i in a[c]||(a[c][i]=[]),a[c][i].some((function(t){return t===e})))return i;a[c][i].push(e);var u=this._processStrategy(e,t,r);return Object.keys(this.schema).forEach((function(t){if(u.hasOwnProperty(t)&&"object"==typeof u[t]){var r=s.schema[t],i="function"==typeof r?r(e):r;u[t]=n(u[t],u,t,i,o,a)}})),o(this,u,e,t,r),i},t.denormalize=function(e,t){var r=this;return i(e)?c(this.schema,e,t):(Object.keys(this.schema).forEach((function(n){if(e.hasOwnProperty(n)){var o=r.schema[n];e[n]=t(e[n],o)}})),e)},o(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),d=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,r){return!this.isSingleSchema&&this._schemaAttribute(e,t,r)},t.inferSchema=function(e,t,r){if(this.isSingleSchema)return this.schema;var n=this.getSchemaAttribute(e,t,r);return this.schema[n]},t.normalizeValue=function(e,t,r,n,o,a){var s=this.inferSchema(e,t,r);if(!s)return e;var i=n(e,t,r,s,o,a);return this.isSingleSchema||null==i?i:{id:i,schema:this.getSchemaAttribute(e,t,r)}},t.denormalizeValue=function(e,t){var r=i(e)?e.get("schema"):e.schema;return this.isSingleSchema||r?t((this.isSingleSchema?void 0:i(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[r]):e},o(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),l=function(e){function t(t,r){if(!r)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,r)||this}s(t,e);var r=t.prototype;return r.normalize=function(e,t,r,n,o,a){return this.normalizeValue(e,t,r,n,o,a)},r.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(d),p=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var r=t.prototype;return r.normalize=function(e,t,r,n,o,s){var i=this;return Object.keys(e).reduce((function(t,r,c){var u,d=e[r];return null!=d?a({},t,((u={})[r]=i.normalizeValue(d,e,r,n,o,s),u)):t}),{})},r.denormalize=function(e,t){var r=this;return Object.keys(e).reduce((function(n,o){var s,i=e[o];return a({},n,((s={})[o]=r.denormalizeValue(i,t),s))}),{})},t}(d),f=function(e){if(Array.isArray(e)&&e.length>1)throw new Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},_=function(e){return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t]}))},y=function(e,t,r,n,o,a,s){return e=f(e),_(t).map((function(t,i){return o(t,r,n,e,a,s)}))},b=function(e,t,r){return e=f(e),t&&t.map?t.map((function(t){return r(t,e)})):t},m=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var r=t.prototype;return r.normalize=function(e,t,r,n,o,a){var s=this;return _(e).map((function(e,i){return s.normalizeValue(e,t,r,n,o,a)})).filter((function(e){return null!=e}))},r.denormalize=function(e,t){var r=this;return e&&e.map?e.map((function(e){return r.denormalizeValue(e,t)})):e},t}(d),h=function(e,t,r,n,o,s,i){var c=a({},t);return Object.keys(e).forEach((function(r){var n=e[r],a="function"==typeof n?n(t):n,u=o(t[r],t,r,a,s,i);null==u?delete c[r]:c[r]=u})),c},g=function(e,t,r){if(i(t))return c(e,t,r);var n=a({},t);return Object.keys(e).forEach((function(t){null!=n[t]&&(n[t]=r(n[t],e[t]))})),n},v=function e(t,r,n,o,a,s){return"object"==typeof t&&t?"object"!=typeof o||o.normalize&&"function"==typeof o.normalize?o.normalize(t,r,n,e,a,s):(Array.isArray(o)?y:h)(o,t,r,n,e,a,s):t},R={Array:m,Entity:u,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,r){var n,o=e[r];return a({},t,((n={})[r]=o,n))}),this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return h.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return g.apply(void 0,[this.schema].concat(t))},e}(),Union:l,Values:p},w=function(e,t){if(!e||"object"!=typeof e)throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var r={},n=function(e){return function(t,r,n,o,a){var s=t.key,i=t.getId(n,o,a);s in e||(e[s]={});var c=e[s][i];e[s][i]=c?t.merge(c,r):r}}(r);return{entities:r,result:v(e,e,null,t,n,{})}},S=function(e){var t={},r=E(e);return function e(n,o){return"object"!=typeof o||o.denormalize&&"function"==typeof o.denormalize?null==n?n:o instanceof u?function(e,t,r,n,o){var s=n(e,t);if(void 0===s&&t instanceof u&&(s=t.fallback(e,t)),"object"!=typeof s||null===s)return s;if(o[t.key]||(o[t.key]={}),!o[t.key][e]){var c=i(s)?s:a({},s);o[t.key][e]=c,o[t.key][e]=t.denormalize(c,r)}return o[t.key][e]}(n,o,e,r,t):o.denormalize(n,e):(Array.isArray(o)?b:g)(o,n,e)}},E=function(e){var t=i(e);return function(r,n){var o=n.key;return"object"==typeof r?r:t?e.getIn([o,r.toString()]):e[o]&&e[o][r]}},O=function(e,t,r){if(void 0!==e)return S(r)(e,t)}},"aK+E":function(e,t,r){r.d(t,"a",(function(){return a}));const n=new Set(["bookmarks","client_tracking_params","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),o=e=>!n.has(e)&&!e.startsWith("__track__"),a=e=>e?Object.keys("object"==typeof e&&e||{}).filter(e=>"string"==typeof e).filter(o).sort().map(t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`).join(","):""},bY5B:function(e,t,r){var n=r("WgLT");function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,a,s){if(s!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return r.PropTypes=r,r}},eNqV:function(e,t,r){r.d(t,"a",(function(){return S})),r.d(t,"c",(function(){return O})),r.d(t,"e",(function(){return I})),r.d(t,"k",(function(){return A})),r.d(t,"g",(function(){return T})),r.d(t,"j",(function(){return P})),r.d(t,"h",(function(){return C})),r.d(t,"i",(function(){return U})),r.d(t,"b",(function(){return k})),r.d(t,"d",(function(){return L})),r.d(t,"f",(function(){return H}));var n=r("7w6Q"),o=r("eOdZ"),a=r("QtD7"),s=r("OA2P"),i=r("JJAz"),c=r("wMN6"),u=r("28DW"),d=r("isp9"),l=r("0G5S"),p=r("AGnR");const f="home",_="closeup",y="news_hub",b="board",m="profile",h="topic",g="today",v="business",R="search";let w;const S="_push",E=e=>{e.onupdatefound=()=>{Object(u.a)("mweb_service_worker.update_found")}},O=()=>Boolean("undefined"!=typeof navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller),I=()=>new Promise((e,t)=>{const r=navigator.serviceWorker,{isAuthenticated:n,pwaType:o,twaType:s}=w.getState().session,c=new URLSearchParams({duplo:"1",source_url:window.location.pathname});o&&s&&Object(i.d)(s)&&(c.append("pwa_type",o),c.append("twa_type",s)),c.append("pinPageAppShell","disabled");const d=n?"mweb_expirable_appshell_auth":"mweb_expirable_appshell_unauth",l=w.dispatch(Object(a.a)(d))||"";l&&c.append("expirableAppShell",l),r&&r.register?(Object(u.a)("mweb_service_worker.install_attempt"),r.register("/sw.js?"+c.toString()).then(t=>{Object(u.a)("mweb_service_worker.install_success"),E(t),e(t)}).catch(e=>{Object(u.i)("mweb_service_worker.install_fail",{error:e.message}),t(e)})):e()}),A=()=>new Promise((e,t)=>{const r=navigator.serviceWorker;r&&r.getRegistration?(Object(u.a)("mweb_service_worker.update_attempt"),r.getRegistration().then(r=>{r?r.update().then(()=>{Object(u.a)("mweb_service_worker.update_success"),E(r),e(r)}).catch(e=>{Object(u.i)("mweb_service_worker.update_fail",{error:e.message}),t(e)}):I().then(e)})):e()}),T=()=>{const e=w.getState().session.isAuthenticated;Object(u.a)(`mweb.${e?"auth":"unauth"}.register_service_worker`),window.addEventListener("load",I)},P=()=>{const e=navigator.serviceWorker;return e&&e.getRegistration?(Object(u.a)("mweb_service_worker.unregister_attempt"),Object(s.a)(),e.getRegistration().then(e=>{if(e)return e.unregister().then(()=>(Object(u.a)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then(e=>{const t=e.find(e=>e.startsWith("workbox-precaching"));return t?window.caches.delete(t):null}).then(()=>Object(u.a)("mweb_service_worker.clear_app_shell")):Promise.resolve())).catch(e=>{Object(u.i)("mweb_service_worker.unregister_fail",{error:e.message})})})):Promise.resolve()},C=()=>!(!O()||!("SyncManager"in window)),j=e=>Object(d.x)(e)?f:Object(d.q)(e)?_:Object(d.C)(e)?y:Object(d.f)(e)?b:Object(d.P)(e)?m:Object(d.R)(e)?R:Object(d.cb)(e)?h:Object(d.bb)(e)?g:Object(d.o)(e)?v:"undefined",N=e=>{switch(j(e)){case f:return{viewType:1,viewParameter:92};case _:return{viewType:3,viewParameter:void 0};case y:return{viewType:107,viewParameter:3081};case b:return{viewType:5,viewParameter:void 0};case R:return{viewType:2,viewParameter:43};case h:return{viewType:210,viewParameter:void 0};case m:return{viewType:4,viewParameter:void 0};case v:return{viewType:409,viewParameter:3397};case g:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}},x=(e,t)=>Object(u.i)(e,{browser:w.getState().session.browser,version:Math.floor(parseInt(w.getState().session.browserVersion,10)),...t}),D=(e,t,r)=>{o.a.create("WebPushDeviceResource",{}).callGet().then(t=>{const r=(({subscriptionId:e,endpoint:t})=>e||Object(c.k)(t.split("/")))(e);if(t.resource_response.data[r])return;const n={registration_id:r,subscription_endpoint:e.endpoint};o.a.create("WebPushDeviceResource",n).callCreate()}),Object(l.c)(S,"subscribed"),x(`mweb.notifications_upsell.${j(t)}.subscribed`,r);const n=N(t);Object(p.h)({component:13125,element:10357,view_type:n.viewType,view_parameter:n.viewParameter,aux_data:{experiment_name:r.experimentName,experiment_group:r.experimentGroup}})},U="undefined"!=typeof window&&"Notification"in window&&navigator.serviceWorker&&"PushManager"in window&&("default"===window.Notification.permission||"granted"===window.Notification.permission),k=(e,t,r)=>{const n=navigator.serviceWorker,o=Boolean(Object(l.a)(S)),a={experimentName:t||"noExperiment",experimentGroup:r||"noGroup"};return n&&n.ready&&U&&!o?(Object(p.e)({event_type:13,view_type:170,component:13125,aux_data:{experiment_name:t,experiment_group:r}}),x(`mweb.notifications_upsell.${j(e)}.viewed`,a),n.ready.then(e=>e.pushManager.subscribe({userVisibleOnly:!0})).then(t=>D(t,e,a),()=>((e,t)=>{Object(l.c)(S,"denied"),x(`mweb.notifications_upsell.${j(e)}.denied`,t);const r=N(e);Object(p.h)({component:13125,element:10358,view_type:r.viewType,view_parameter:r.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})})(e,a))):Promise.reject()},L=e=>{w=e},H=({isAuthenticated:e,isAppShell:t})=>{let r=!1;const o=n=>{if(r)return;r=!0;const o=`${t?"warm":"cold"}.${e?"auth":"unauth"}`;Object(u.a)(`mweb_service_worker.appshell_status.${o}.${n}`)},a=navigator.serviceWorker,s=null==a?void 0:a.controller;if(!a||!s)return void o("no_worker");setTimeout(()=>o("timeout"),1e3);const i=new MessageChannel;i.port1.onmessage=({data:r})=>{if(r&&"expirableAppShellStatusResponse"===r.type){const a=r.payload,{experimentGroup:s,isExpired:i}=a,c=`${i?"expired":"valid"}.${s||"no_group"}`;if(o(c),1===a.formatVersion){o(`v${a.formatVersion}.${c}`);const{ageInSecond:r}=a,{value:u,unit:d}=(e=>{const t=Math.floor(e/60),r=Math.floor(t/60),n=Math.floor(r/24);return n?{value:n,unit:"d"}:r?{value:r,unit:"h"}:t?{value:t,unit:"m"}:{value:e,unit:"s"}})(r),l=1;n.a.increment("mweb_service_worker.appshell_status_volume",l,{ageValue:u,ageUnit:d,experimentGroup:s||"none",isAppShell:t,isAuthenticated:e,isExpired:i})}}},s.postMessage({type:"expirableAppShellStatusRequest"},[i.port2])}},imij:function(e,t,r){r.d(t,"b",(function(){return c}));var n=r("O/nw"),o=r("jUT+"),a=r("pZLX");const s=new Set(["PinResource","RepinResource"]),i={AggregatedActivityFeedResource:e=>"trieditfeed:"+e.aggregated_pin_data_id,AggregatedCommentFeedResource:e=>"aggregated-comments:"+e.objectId,BoardlessPinsResource:e=>"boardless-pins:"+e.userId,BestPinsFeedResource:e=>"topic-page-best-pins:"+e.interest_key,BestPinsFeedAltResource:e=>"idea-page-best-pins:"+e.interest,BoardArchiveResource:e=>"archived-boards",BoardCollaboratorsResource:e=>"board-collaborators:"+e.board_id,BoardContentRecommendationResource:e=>"recommendation-feed:"+e.id,BoardFeedResource:e=>"boardfeed:"+e.board_id,BoardSectionsRepinResource:e=>"board-sections:"+e.board_id,BoardSectionsResource:e=>"board-sections:"+e.board_id,BoardSectionPinsResource:e=>"board-section-pins:"+e.section_id,BoardsFeedResource:e=>"profile-boards:"+e.username,ConversationsResource:e=>"conversations",DidItLikedByResource:e=>"triedit-likes:"+e.didItDataId,DidItUserFeedResource:e=>"profile-tried:"+e.username,ExploreArticleBlockBoardResource:e=>`explore-board:${e.article_id}:${e.block_id}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,ExploreArticleResource:({response:e})=>{if(!e)return"";const t="explore_tab_pin".length,r=e.resource_response.data,{story_type:n}=r?r.objects[0]:{story_type:""};return`explore-${n.slice(t)}:${r.id}`},ExploreTopicsFeedResource:e=>"explore-category:"+e.section_id,FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>"holiday-spotlight-related:"+e.storyType,HolidaySpotlightResource:e=>"holiday-spotlight:"+e.storyType,InterestResource:e=>"klp-pins:"+e.interest,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>"newshubdetail:"+e.news_id,NuxInterestsResource:e=>"nuxTopics",PinsFromBrandResource:e=>"brand-pins:"+e.pin,ReactionsResource:e=>"reactions:"+e.pin_id,RelatedArticlesResource:e=>"related-articles:"+e.article_id,RelatedModulesResource:e=>"related-modules:"+e.pin_id,RelatedInterestsResource:e=>"unauth_react_mweb"===e.field_set_key?"related-klps:"+e.interest_id:"related-topics:"+e.interest_name,RelatedPinFeedResource:e=>"related-pins:"+e.pin,RelatedProductFeedResource:e=>"pin"===e.shop_source?"closeup-related-products:"+e.pin:"related-products:"+e.pin,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?t+":auto-correction-disabled":t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?t+":auto-correction-disabled":t},ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?"board-shop-saved:"+e.board_id:"board-shop-related:"+e.board_id,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,StyleContentResource:e=>`style-content:${e.id}:${e.request_type||""}`,StylePivotResource:e=>`style-pivot:${e.category}:${e.room||""}`,SuggestedCreatorsResource:()=>"suggested-creators",SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>"today-article:"+e.id,IdeasHubTodayArticlesResource:e=>"today-article:"+e.interest_id,TodayTabInterestFeedResource:e=>"today-article-interestfeed:"+e.interest_id,TodayTabResource:()=>"today-tab",UnifiedCommentsResource:e=>"unified-comments:"+e.aggregated_pin_id,UserActivityPinsResource:e=>"profile-pins-feed:"+e.user_id,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowersResource:e=>"user-followers:"+e.username,UserFollowingResource:e=>"user-following:"+e.username,UserRecentActivityResource:()=>"user-recent-activity",UserSimilarBusinessesResource:e=>"user-similar-business:"+e.username,UserStoryPinsFeedResource:e=>"story-pins-feed:"+e.user_id,VideosFeedResource:e=>"videos-feed",VisualLiveSearchResource:e=>"visual-search:"+e.pin_id,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>"related-products-unified:"+e.pin_id,BoardFollowingResource:e=>"board-following:"+e.username,InterestFollowingResource:e=>"topic-following:"+e.username,UserPinsResource:e=>"profile-pins:"+e.username,TopicFeedResource:e=>e.best_pins?"best-topic-pins:"+e.interest:"topic-pins:"+e.interest},c=(e,t)=>e in i?i[e](t):null,u=(e,t)=>e.map(({id:e,schema:r})=>r?{id:e,type:r,trackingParams:"pin"===r?t.pins[e].tracking_params:void 0}:null).filter(Boolean),d=(e,t,r)=>Object.keys(e).reduce((n,o)=>{const a=e[o]||[],s=a.filter(e=>!(e.type===t&&e.id===r));return a.length!==s.length&&(n[o]=s),n},{...e}),l=(e,t)=>t?"board-section-pins:"+t:"boardfeed:"+e,p=(e,{pinId:t,feedId:r})=>e[r]?{...e,[r]:e[r].filter(e=>!("pin"===e.type&&e.id===t))}:e,f=(e,{pinId:t,oldFeedId:r,newFeedId:n})=>r===n?e:((e,{pinId:t,feedId:r})=>e[r]?{...e,[r]:[{type:"pin",id:t},...e[r]]}:e)(p(e,{pinId:t,feedId:r}),{pinId:t,feedId:n});t.a=(e={})=>(t=e,r)=>{if(r.type===o.H||r.type===o.K){const{payload:{resource:e,options:s,normalizedResponse:c,schema:d}}=r;if(c&&e in i){const l=((e,t,r)=>{const o=r||n.a[e];if(o===a.g)return t.result;if(o===a.c)return t.result.map(e=>({id:e,schema:"board"}));if(o===a.r)return t.result.map(e=>({id:e,schema:"user"}));if(o===a.i)return t.result.map(e=>({id:e,schema:"invite"}));if(o===a.m)return t.result.map(e=>({id:e,schema:"reaction"}));if("object"==typeof o){const e=Object.entries(o).find(([e,t])=>t===a.g);if(e)return t.result[e[0]]}return null})(e,c,d);if(l&&Array.isArray(l)){const n=i[e](s);if("ShoppingFeedModularizedResource"===e){const{board_id:e,saved_products_only:r}=s,n="board-shop-related:"+e,o="board-shop-saved:"+e,a="board-shop-saved-preview:"+e,i=[...t[n]||[]],d=[...t[o]||[]],p=[...t[a]||[]];return u(l,c.entities).forEach(t=>{var n;r?d.push(t):c.entities.pins&&(null===(n=c.entities.pins[t.id])||void 0===n?void 0:n.board)===e?p.push(t):i.push(t)}),{...t,[n]:i,[o]:d,[a]:p}}{const e=(r.type===o.K&&t[n]||[]).concat(u(l,c.entities));return{...t,[n]:e}}}}return t}if(r.type===o.c){const{payload:{id:e,items:n,options:o}}=r,a=t[e];if(a){let r;return r=o.isPrepend?a[0]&&"story"===a[0].type?[].concat(a[0],n,a.slice(1)):n.concat(a):a.concat(n),{...t,[e]:r}}return{...t,[e]:n}}if(r.type===o.gb){const{payload:{pinId:e}}=r;return d(t,"pin",e)}if(r.type===o.f){const{payload:{boardId:e,username:n}}=r,o="profile-boards:"+n;if(t[o])return{...t,[o]:t[o].filter(t=>t.id!==e)}}else if(r.type===o.r){const{payload:{boardId:e}}=r,n="archived-boards";if(t[n])return{...t,[n]:t[n].filter(t=>t.id!==e)}}else{if(r.type===o.i){const{payload:{boardId:e}}=r;return d(t,"board",e)}if(r.type===o.p){const{payload:{boardSectionId:e}}=r;return d(t,"boardsection",e)}if(r.type===o.cb){const{payload:{source:e,target:n,pinIds:o,userId:a}}=r,s=e.boardlessPins&&a&&"boardless-pins:"+a||e.boardId&&l(e.boardId,e.sectionId),i=l(n.boardId,n.sectionId);return o.reduce((e,t)=>f(e,{pinId:t,oldFeedId:s,newFeedId:i}),t)}if(r.type===o.db){const{payload:{source:e,target:n,excludePinIds:o}}=r,a=l(e.boardId,e.sectionId),s=l(n.boardId,n.sectionId),i={...t,[a]:o.map(e=>({type:"pin",id:e}))};return delete i[s],i}if(r.type===o.hb){const{payload:{pinId:e,boardId:n,section:o,source:{boardId:a,sectionId:s}}}=r,i=l(a,s),c=l(n,null==o?void 0:o.id);return f(t,{pinId:e,oldFeedId:i,newFeedId:c})}if(r.type===o.gb){const{payload:{pinId:e,boardId:n,boardSectionId:o}}=r;return p(t,{pinId:e,feedId:l(n,o)})}if(r.type===o.C){if(s.has(r.payload.resource)){const e=r.payload.response.resource_response.data,n=e.board,o="quick_saves"===n.layout?"boardless-pins:"+r.payload.options.user_id:"boardfeed:"+n.id;if(t[o]){const r={...t},n={id:e.id,type:"pin"};return r[o]=[n].concat(t[o]),r}}if("BoardSectionResource"===r.payload.resource&&r.payload.normalizedResponse){const e=r.payload.normalizedResponse.result,n="board-sections:"+r.payload.normalizedResponse.entities.boardsections[e].board;if(t[n]){const r={...t},o={id:e,type:"boardsection"};return r[n]=[o].concat(t[n]),r}}if("AggregatedCommentResource"===r.payload.resource&&r.payload.normalizedResponse){const e=r.payload.normalizedResponse.result,n="aggregated-comments:"+r.payload.options.objectId;if(t[n]){const r={...t},o={id:e,type:"aggregatedcomment"};return r[n]=[o].concat(t[n]),r}}if("ReactionsResource"===r.payload.resource&&r.payload.normalizedResponse){const{reaction_pin_id:e}=r.payload.options;if("reaction"===r.payload.options.action_type){const n="reactions:"+r.payload.options.pin_id,o={...t},a={id:`${e}:${r.payload.options.user_id}`,type:"reaction",trackingParams:void 0};return o[n]=[a].concat(t[n]),o}if("unreaction"===r.payload.options.action_type){const n=`${e}:${r.payload.options.user_id}`;return d(t,"reaction",n)}}}else{if(r.type===o.A){const{payload:{storyId:e}}=r;return d(t,"story",e)}if(r.type===o.t){const{feedKey:e}=r.payload;if(t[e])return{...t,[e]:void 0}}}}return t}},isp9:function(e,t,r){r.d(t,"f",(function(){return o})),r.d(t,"E",(function(){return a})),r.d(t,"h",(function(){return s})),r.d(t,"F",(function(){return i})),r.d(t,"e",(function(){return c})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return d})),r.d(t,"g",(function(){return l})),r.d(t,"I",(function(){return p})),r.d(t,"K",(function(){return f})),r.d(t,"r",(function(){return _})),r.d(t,"o",(function(){return y})),r.d(t,"m",(function(){return b})),r.d(t,"w",(function(){return m})),r.d(t,"x",(function(){return h})),r.d(t,"B",(function(){return g})),r.d(t,"ab",(function(){return v})),r.d(t,"G",(function(){return R})),r.d(t,"T",(function(){return w})),r.d(t,"v",(function(){return S})),r.d(t,"C",(function(){return E})),r.d(t,"q",(function(){return O})),r.d(t,"a",(function(){return I})),r.d(t,"p",(function(){return A})),r.d(t,"R",(function(){return T})),r.d(t,"J",(function(){return P})),r.d(t,"y",(function(){return C})),r.d(t,"cb",(function(){return j})),r.d(t,"bb",(function(){return N})),r.d(t,"z",(function(){return x})),r.d(t,"Z",(function(){return D})),r.d(t,"Y",(function(){return U})),r.d(t,"b",(function(){return k})),r.d(t,"u",(function(){return L})),r.d(t,"s",(function(){return H})),r.d(t,"P",(function(){return B})),r.d(t,"db",(function(){return F})),r.d(t,"M",(function(){return M})),r.d(t,"O",(function(){return W})),r.d(t,"U",(function(){return $})),r.d(t,"N",(function(){return V})),r.d(t,"X",(function(){return q})),r.d(t,"D",(function(){return G})),r.d(t,"Q",(function(){return z})),r.d(t,"j",(function(){return K})),r.d(t,"k",(function(){return X})),r.d(t,"l",(function(){return J})),r.d(t,"n",(function(){return Y})),r.d(t,"t",(function(){return Z})),r.d(t,"H",(function(){return Q})),r.d(t,"V",(function(){return ee})),r.d(t,"eb",(function(){return te})),r.d(t,"L",(function(){return re})),r.d(t,"S",(function(){return ne})),r.d(t,"W",(function(){return oe})),r.d(t,"i",(function(){return ae})),r.d(t,"A",(function(){return se}));var n=r("EC67");const o=e=>{const{pathname:t}=e;return!!Object(n.g)(t,{path:"/:username/:boardId",exact:!0})&&!t.match(/^\/(pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source)/)&&!t.match(/^\/.+\/(following|followers|_tools|_created|_saved|tried)/i)},a=(e,t)=>{const{pathname:r}=e;return o(e)&&r.match(t||"?")},s=e=>{const{pathname:t}=e;return!!Object(n.g)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},i=(e,t)=>{const{pathname:r}=e;return s(e)&&r.match(t||"?")},c=e=>!!Object(n.g)(e.pathname,{path:"/board/:id/edit",exact:!0}),u=e=>!!Object(n.g)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),d=e=>!!Object(n.g)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),l=e=>!!Object(n.g)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),p=e=>!!Object(n.g)(e.pathname,{path:"/pin/:id/comments",exact:!0}),f=e=>!!Object(n.g)(e.pathname,{path:"/pin/:id/edit",exact:!0}),_=e=>!!Object(n.g)(e.pathname,{path:"/conversation/:id",exact:!0}),y=e=>e.pathname.startsWith("/business/"),b=e=>e.pathname.startsWith("/business/invite/"),m=e=>!!Object(n.g)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),h=e=>"/"===e.pathname,g=e=>e.pathname.startsWith("/login"),v=e=>"/today"===e.pathname,R=e=>e.pathname.startsWith("/password/reset")||!!Object(n.g)(e.pathname,{path:"/pw/:username",exact:!0}),w=(e,t)=>t.pathname.startsWith("/signup")||!e&&h(t),S=e=>e.pathname.startsWith("/email/subscription"),E=e=>e.pathname.startsWith("/notifications/"),O=e=>!!Object(n.g)(e.pathname,{path:"/pin/:id",exact:!0}),I=e=>O(e)&&void 0===e.state,A=e=>e.pathname.startsWith("/pin_redirect"),T=e=>e.pathname.startsWith("/search"),P=e=>e.pathname.startsWith("/pin-create-help"),C=e=>e.pathname.startsWith("/ideas"),j=e=>e.pathname.startsWith("/topics"),N=e=>"/today/"===e.pathname,x=e=>"#imgViewer"===e.hash,D=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),U=e=>e.pathname.startsWith("/today/popular/"),k=e=>v(e)||N(e)||D(e)||U(e),L=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),H=e=>e.pathname.startsWith("/pin/create/"),B=e=>!(!Object(n.g)(e.pathname,{path:"/:username/",exact:!0})||N(e)||D(e)||C(e)),F=e=>e.pathname.startsWith("/unauth-profile"),M=e=>e.pathname.startsWith("/pin/"),W=e=>e.pathname.startsWith("/places/recommender"),$=(e,t,r)=>{const o=e.pathname,{search:a}=e,s=new RegExp("invite_code"),i=!!Object(n.g)(o,{path:"/pin/:id",exact:!1})&&(o.indexOf("/sent/")>=0||o.indexOf("/feedback/")>=0),c=t&&!!Object(n.g)(o,{path:"/:username/:boardId",exact:!0})&&!o.match(/^\/(pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup)/)&&!o.match(/^\/.+\/(following|followers)/i)&&s.test(a),u=r&&!!Object(n.g)(o,{path:"/:username/",exact:!0})&&s.test(a);return!!i||!!c||!!u},V=e=>e.pathname.indexOf("/repin/x")>=0,q=e=>e.pathname.startsWith("/_/storyboard"),G=e=>e.pathname.startsWith("/oauth"),z=e=>e.pathname.indexOf("/scheduled-pin/")>=0,K=e=>e.pathname.startsWith("/business/convert"),X=e=>e.pathname.startsWith("/business/create"),J=e=>e.pathname.startsWith("/business/hub"),Y=e=>e.pathname.startsWith("/business/login"),Z=e=>e.pathname.startsWith("/pin-editor"),Q=e=>e.pathname.startsWith("/pin-builder"),ee=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder"),te=e=>e.pathname.startsWith("/advertiser/quick-promote"),re=e=>!!Object(n.g)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.indexOf("/sent/")>=0||e.pathname.indexOf("/feedback/")>=0),ne=e=>e.pathname.startsWith("/settings"),oe=e=>e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite"),ae=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.indexOf("/dashboard/")>=0,se=()=>{var e,t;return/instagram/i.test(null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t?void 0:t.userAgent)}},"jUT+":function(e,t,r){r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"jc",(function(){return a})),r.d(t,"D",(function(){return s})),r.d(t,"k",(function(){return i})),r.d(t,"C",(function(){return c})),r.d(t,"G",(function(){return u})),r.d(t,"H",(function(){return d})),r.d(t,"K",(function(){return l})),r.d(t,"I",(function(){return p})),r.d(t,"sc",(function(){return f})),r.d(t,"uc",(function(){return _})),r.d(t,"vc",(function(){return y})),r.d(t,"vb",(function(){return b})),r.d(t,"ic",(function(){return m})),r.d(t,"eb",(function(){return h})),r.d(t,"gb",(function(){return g})),r.d(t,"hb",(function(){return v})),r.d(t,"lb",(function(){return R})),r.d(t,"jb",(function(){return w})),r.d(t,"ib",(function(){return S})),r.d(t,"cb",(function(){return E})),r.d(t,"db",(function(){return O})),r.d(t,"Nb",(function(){return I})),r.d(t,"J",(function(){return A})),r.d(t,"mb",(function(){return T})),r.d(t,"nb",(function(){return P})),r.d(t,"mc",(function(){return C})),r.d(t,"nc",(function(){return j})),r.d(t,"j",(function(){return N})),r.d(t,"q",(function(){return x})),r.d(t,"h",(function(){return D})),r.d(t,"g",(function(){return U})),r.d(t,"l",(function(){return k})),r.d(t,"m",(function(){return L})),r.d(t,"n",(function(){return H})),r.d(t,"f",(function(){return B})),r.d(t,"r",(function(){return F})),r.d(t,"o",(function(){return M})),r.d(t,"i",(function(){return W})),r.d(t,"p",(function(){return $})),r.d(t,"d",(function(){return V})),r.d(t,"ob",(function(){return q})),r.d(t,"Sb",(function(){return G})),r.d(t,"cc",(function(){return z})),r.d(t,"S",(function(){return K})),r.d(t,"gc",(function(){return X})),r.d(t,"W",(function(){return J})),r.d(t,"Gb",(function(){return Y})),r.d(t,"lc",(function(){return Z})),r.d(t,"pc",(function(){return Q})),r.d(t,"y",(function(){return ee})),r.d(t,"w",(function(){return te})),r.d(t,"z",(function(){return re})),r.d(t,"x",(function(){return ne})),r.d(t,"Bb",(function(){return oe})),r.d(t,"s",(function(){return ae})),r.d(t,"A",(function(){return se})),r.d(t,"N",(function(){return ie})),r.d(t,"Kb",(function(){return ce})),r.d(t,"O",(function(){return ue})),r.d(t,"Xb",(function(){return de})),r.d(t,"Lb",(function(){return le})),r.d(t,"Wb",(function(){return pe})),r.d(t,"L",(function(){return fe})),r.d(t,"M",(function(){return _e})),r.d(t,"ac",(function(){return ye})),r.d(t,"Q",(function(){return be})),r.d(t,"fc",(function(){return me})),r.d(t,"V",(function(){return he})),r.d(t,"T",(function(){return ge})),r.d(t,"Db",(function(){return ve})),r.d(t,"ub",(function(){return Re})),r.d(t,"dc",(function(){return we})),r.d(t,"U",(function(){return Se})),r.d(t,"Z",(function(){return Ee})),r.d(t,"ab",(function(){return Oe})),r.d(t,"u",(function(){return Ie})),r.d(t,"v",(function(){return Ae})),r.d(t,"qb",(function(){return Te})),r.d(t,"Zb",(function(){return Pe})),r.d(t,"Tb",(function(){return Ce})),r.d(t,"Qb",(function(){return je})),r.d(t,"Rb",(function(){return Ne})),r.d(t,"Yb",(function(){return xe})),r.d(t,"P",(function(){return De})),r.d(t,"Jb",(function(){return Ue})),r.d(t,"X",(function(){return ke})),r.d(t,"Y",(function(){return Le})),r.d(t,"fb",(function(){return He})),r.d(t,"oc",(function(){return Be})),r.d(t,"tc",(function(){return Fe})),r.d(t,"wb",(function(){return Me})),r.d(t,"Ib",(function(){return We})),r.d(t,"t",(function(){return $e})),r.d(t,"Pb",(function(){return Ve})),r.d(t,"Ob",(function(){return qe})),r.d(t,"Vb",(function(){return Ge})),r.d(t,"kb",(function(){return ze})),r.d(t,"bc",(function(){return Ke})),r.d(t,"R",(function(){return Xe})),r.d(t,"Eb",(function(){return Je})),r.d(t,"zb",(function(){return Ye})),r.d(t,"Cb",(function(){return Ze})),r.d(t,"Ab",(function(){return Qe})),r.d(t,"xb",(function(){return et})),r.d(t,"bb",(function(){return tt})),r.d(t,"b",(function(){return rt})),r.d(t,"pb",(function(){return nt})),r.d(t,"Mb",(function(){return ot})),r.d(t,"yb",(function(){return at})),r.d(t,"Hb",(function(){return st})),r.d(t,"tb",(function(){return it})),r.d(t,"hc",(function(){return ct})),r.d(t,"kc",(function(){return ut})),r.d(t,"rb",(function(){return dt})),r.d(t,"ec",(function(){return lt})),r.d(t,"Ub",(function(){return pt})),r.d(t,"sb",(function(){return ft})),r.d(t,"E",(function(){return _t})),r.d(t,"F",(function(){return yt})),r.d(t,"B",(function(){return bt})),r.d(t,"rc",(function(){return mt})),r.d(t,"Fb",(function(){return ht})),r.d(t,"qc",(function(){return gt})),r.d(t,"e",(function(){return vt}));const n="ACTIVATE_EXPERIMENT",o="APPEND_FEED_ITEMS",a="TRACK_AUTOLOGIN_FAILURE",s="DISMISS_UNAUTH_APP_UPSELL",i="BOARD_FOLLOW",c="CREATE_COMPLETE",u="FETCHING",d="FETCH_COMPLETE",l="FETCH_MORE_COMPLETE",p="FETCH_ERROR",f="USER_BLOCK",_="USER_FOLLOW",y="USER_SETTING_CHANGE",b="SETTINGS_CHANGE",m="TOPIC_FOLLOW",h="PIN_ADD",g="PIN_DELETE",v="PIN_EDIT",R="PIN_UNDO_SAVE",w="PIN_IMPRESSIONS",S="PIN_FEEDBACK",E="PINS_MOVE",O="PINS_MOVE_ALL",I="SET_SESSION_DATA",A="FETCH_EXPERIENCES",T="REFRESH_ALL_EXPERIENCES",P="REFRESH_ALL_EXPERIENCES_MULTI",C="UPDATE_EXPERIENCE",j="UPDATE_EXPERIENCE_MULTI",N="BOARD_EDIT",x="BOARD_SECTION_EDIT",D="BOARD_COLLABORATOR_DELETE",U="BOARD_COLLABORATOR_ADD",k="BOARD_INVITE_ACCEPTED_BY_VIEWER",L="BOARD_INVITE_APPROVED_BY_VIEWER",H="BOARD_INVITE_DENIED_BY_VIEWER",B="BOARD_ARCHIVE",F="BOARD_UNARCHIVE",M="BOARD_REQUEST_TO_JOIN",W="BOARD_DELETE",$="BOARD_SECTION_DELETE",V="AUTHENTICATE_USER",q="REGISTER_USER",G="SHOW_APP_UPSELL",z="SHOW_SIGNUP_MODAL",K="HIDE_SIGNUP_MODAL",X="SHOW_UNAUTH_TOAST_UPSELL",J="HIDE_UNAUTH_TOAST_UPSELL",Y="SET_LOGIN_SIGNUP_FROM",Z="UPDATE_CURRENT_SEARCH",Q="UPDATE_RECENT_SEARCHES",ee="CLEAR_RECENT_SEARCH",te="CLEAR_RECENT_PERSONAL_SEARCH",re="CLEAR_RECENT_SEARCHES",ne="CLEAR_RECENT_PERSONAL_SEARCHES",oe="SET_CURRENT_PAGE_DATA",ae="CLEAR_CURRENT_PAGE_DATA",se="COMPLETE_STORY",ie="HIDE_GOOGLE_ONE_TAP",ce="SET_NUM_SIGNUP_STEPS",ue="HIDE_LIMITED_LOGIN_MODAL",de="SHOW_LIMITED_LOGIN_MODAL",le="SET_OWN_PROFILE_PINS_REFRESH",pe="SHOW_GOOGLE_ONE_TAP",fe="GOOGLE_ONE_TAP_DISABLED",_e="GOOGLE_ONE_TAP_INITIALIZED",ye="SHOW_REPIN_ANIMATION",be="HIDE_REPIN_ANIMATION",me="SHOW_UNAUTH_SHARING_MODALS",he="HIDE_UNAUTH_SHARING_MODALS",ge="HIDE_TAKEOVER_AFTER_REPIN_PLACEMENT",ve="SET_EXPERIMENT_HASH",Re="SEND_CONVERSATION_MESSAGE",we="SHOW_TOASTS",Se="HIDE_TOASTS",Ee="ONE_TAP_SAVE",Oe="ONE_TAP_UNSAVE",Ie="CLEAR_MESSAGES_BADGE",Ae="CLEAR_MESSAGE_BADGE",Te="RELOAD_VISUAL_SEARCH_ANNOTATIONS",Pe="SHOW_NUX_HOMEFEED_LOADER",Ce="SHOW_BIZ_NUX_HOMEFEED_LOADER",je="SET_VIEWED_IMAGE",Ne="SET_VIEWED_SHARED_PINS",xe="SHOW_NAV_FOOTER",De="HIDE_NAV_FOOTER",Ue="SET_MESSENGER_CAMPAIGN_DATA",ke="LOGGED_OUT_USER_INFO_FOUND",Le="LOGGED_OUT_USER_INFO_NOT_FOUND",He="PIN_BUILDER_LOADED_IMAGES",Be="UPDATE_PIN_BUILDER_INPUT",Fe="USER_BULK_FOLLOW",Me="SET_ACTIVE_HOMEFEED_TAB",We="SET_MARKETING_PARAMS",$e="CLEAR_FEED_ITEMS",Ve="SET_SOCIAL_SEASONAL_BOARD",qe="SET_SHARE_ON_BOARD_PAGE",Ge="SHOW_BUSINESS_APP_UPSELL",ze="PIN_SHOW_UNDO_AND_FEEDBACK",Ke="SHOW_RESET_PASSWORD_SENT_MODAL",Xe="HIDE_RESET_PASSWORD_SENT_MODAL",Je="SET_FLASHLIGHT_CROP_SOURCE",Ye="SET_APP_FOCUS_STATE",Ze="SET_CURRENT_VIDEO",Qe="SET_AUTOPLAY_ELIGIBILITY",et="SET_ACTIVE_VIDEO",tt="PAUSE_CURRENT_VIDEO",rt="ALLOW_ALL_COOKIES",nt="REJECT_ALL_COOKIES",ot="SET_PERSONALIZATION_COOKIES",at="SET_ANALYTIC_COOKIES",st="SET_MARKETING_COOKIES",it="SCROLL_TO_CLOSEUP_PIN",ct="STOP_SCROLL_TO_CLOSEUP_PIN",ut="UPDATE_CONTACT_REQUEST_STATUS",dt="REMOVE_CONTACT_REQUESTS",lt="SHOW_TOAST_CONTACT_REQUEST_UNDO",pt="SHOW_BLOCK_UNBLOCK_MODAL_CONTACT_REQUEST",ft="REMOVE_CONVERSATION",_t="DISMISS_UNAUTH_DOWNLOAD",yt="DISMISS_UNAUTH_SAVE",bt="COMPLETE_UNAUTH_SAVE_ACTION",mt="UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",ht="SET_LANDING_PAGE_TYPE",gt="UPDATE_REMINDER",vt="AUTOPLAY_WITH_VOLUME"},mmsh:function(e,t,r){r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var n=r("OA2P");const o=Object(n.b)("experiments"),a=e=>e?Object.keys(e).reduce((t,r)=>(r.startsWith("mweb_")&&(t[r]=e[r]),t),{}):{},s=(e,t)=>o({active:a(e),triggerable:a(t)})},pZLX:function(e,t,r){r.d(t,"q",(function(){return a})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return u})),r.d(t,"l",(function(){return d})),r.d(t,"m",(function(){return p})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return _})),r.d(t,"n",(function(){return b})),r.d(t,"o",(function(){return h})),r.d(t,"p",(function(){return g})),r.d(t,"h",(function(){return v})),r.d(t,"f",(function(){return w})),r.d(t,"j",(function(){return S})),r.d(t,"i",(function(){return E})),r.d(t,"r",(function(){return O})),r.d(t,"c",(function(){return I})),r.d(t,"g",(function(){return A})),r.d(t,"k",(function(){return T}));var n=r("XiPH");const o=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",inbox:"inbox",liveSession:"liveSession",notification:"notifications",partnerPermissions:"partnerPermissions",pin:"pins",reaction:"reactions",reportReasons:"reportReasons",rootInterest:"rootInterests",story:"stories",storyPin:"storyPins",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite",offer:"offers"}),a=new n.c.Entity(o.user),s=(new n.c.Entity(o.offer),new n.c.Entity(o.storyPin)),i=(new n.c.Entity(o.liveSession),new n.c.Entity(o.aggregatedComment,{user:a,tagged_users:[a]})),c=new n.c.Entity(o.article,{curator:a}),u=new n.c.Entity(o.board,{collaborating_users:[a],owner:a}),d=new n.c.Entity(o.pin,{board:u,comments:{data:[{commenter:a}]},native_creator:a,pinner:a,promoter:a,story_pin_data:s,via_pinner:a}),l=new n.c.Entity(o.reaction,{user:a}),p=new n.c.Array(l),f=(new n.c.Entity(o.reportReasons),new n.c.Entity(o.boardsection,{board:u,preview_pins:[d]})),_=new n.c.Entity(o.conversation,{sender:a,users:[a]}),y=new n.c.Entity(o.contactrequest),b=(new n.c.Entity(o.rootInterest),new n.c.Entity(o.story,{cover_pin:d,user:a})),m=new n.c.Entity(o.triedit,{pin:d,user:a}),h=new n.c.Entity(o.todayArticle,{article_creator_user:a,content_pin:d,content_pin_official_user:a,video_pin:d}),g=new n.c.Entity(o.topic,{},{processStrategy:(e,t,r)=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),v=new n.c.Entity(o.invite,{invited_by_user:a,invited_user:a,board:u},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),R=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"explorearticle":return"article";case"news":return"notification";case"interest":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"klp_featured_data":return"topic";case"rootinterest":return"rootInterest";case"todayarticle":return"todayArticle";default:return e.type}},w=new n.c.Union({user:a,board:u,invite:v,pin:d,topic:g,triedit:m},R),S=new n.c.Entity(o.notification,{content_items:[{content_object:w}],header_icon_objects:[w]}),E=new n.c.Array(v),O=new n.c.Array(a),I=new n.c.Array(u),A=new n.c.Array({aggregatedComment:i,article:c,board:u,boardsection:f,contactrequest:y,conversation:_,notification:S,pin:d,story:b,todayArticle:h,topic:g,triedit:m,user:a},R,e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}});b.define({objects:A});const T=new n.c.Entity(o.partnerPermissions)},r92k:function(e,t,r){r.d(t,"a",(function(){return ke})),r.d(t,"b",(function(){return Le}));var n=r("OA2P"),o=r("jUT+");const a=Object(n.b)("experiences"),s=Object(n.b)("session"),i=Object(n.b)("users");var c=r("sINF"),u=r("ANjH");const d=[c.a,e=>t=>r=>{const n=t(r);switch(r.type){case o.J:case o.mb:case o.mc:a(e.getState().experiences);break;case o.d:case o.ob:const t=e.getState();a(t.experiences),s(t.session),i({[t.session.userId]:t.users[t.session.userId]})}return n}];var l=Object(u.applyMiddleware)(...d),p=r("6RYE");var f=(e={})=>Object(p.a)("aggregatedComments",(t=e,r)=>{switch(r.type){case"AGGREGATED_COMMENT_HIDDEN":{const{payload:{aggregatedCommentId:e}}=r,n={...t};return delete n[e],n}default:return t}}),_=r("BkRI"),y=r.n(_);const b={appInFocus:!0,isAutoplayEligible:!1,videosAutoplaying:{}};var m=(e=b)=>(t=e,r)=>{if(r.type===o.Cb){const{payload:e}=r,{pinId:n,currentTime:o}=e,a=y()(t.videosAutoplaying),s=a[n]&&a[n].currentTime;return a[n]={pinId:n,currentTime:"number"==typeof o?o:s||0,paused:!1},{...t,videosAutoplaying:a}}if(r.type===o.bb){const{payload:e}=r,{pinId:n,currentTime:o}=e,a=y()(t.videosAutoplaying);return a[n]={pinId:n,currentTime:o,paused:!0},{...t,videosAutoplaying:a}}return r.type===o.Ab?{...t,isAutoplayEligible:r.payload.isAutoplayEligible}:r.type===o.zb?{...t,appInFocus:r.payload.appInFocus}:t};var h=(e={})=>Object(p.a)("articles",(t=e,r)=>t),g=r("0b9w");const v=(e,t)=>({...e,[t.id]:e[t.id]?{...e[t.id],...t}:{...t}}),R=(e,t,r,n)=>{var o;return t===r?e:{...e,...t&&e[t]?{[t]:{...e[t],pin_count:Math.max(0,(null!==(o=e[t].pin_count)&&void 0!==o?o:0)-n)}}:{},...r&&e[r]?{[r]:{...e[r],pin_count:(e[r].pin_count||0)+n}}:{}}};var w=(e={})=>Object(p.a)("boards",(t=e,r)=>{var n,a;switch(r.type){case o.k:return((e,{payload:{id:t,value:r}})=>v(e,{id:t,followed_by_me:r}))(t,r);case o.uc:return((e,{payload:{id:t,value:r}})=>{const n=Object.keys(e).filter(r=>e[r].owner&&e[r].owner===t);if(!n.length)return e;const o=n.reduce((t,n)=>{const o=e[n];return t[n]={...o,followed_by_me:r},t},{});return{...e,...o}})(t,r);case o.sc:return((e,{payload:{id:t,value:r}})=>{if(!r)return e;const n=Object.keys(e).filter(r=>e[r].owner&&e[r].owner===t);if(!n.length)return e;const o=n.reduce((t,r)=>{const n=e[r];return t[r]={...n,followed_by_me:!1},t},{});return{...e,...o}})(t,r);case o.eb:return((e,t)=>{var r;const{boardId:n}=t.payload;return e[n]?v(e,{id:n,pin_count:(null!==(r=e[n].pin_count)&&void 0!==r?r:0)+1}):e})(t,r);case o.gb:return((e,t)=>{var r;const{boardId:n}=t.payload;return e[n]?v(e,{id:n,pin_count:(null!==(r=e[n].pin_count)&&void 0!==r?r:0)-1}):e})(t,r);case o.hb:return((e,t)=>{const{boardId:r,source:{boardId:n}}=t.payload;return R(e,n,r,1)})(t,r);case o.cb:return((e,t)=>{const{pinIds:r,source:{boardId:n},target:{boardId:o}}=t.payload;return n===o?e:R(e,n,o,r.length)})(t,r);case o.db:return t;case o.p:return((e,t)=>{var r;const{boardId:n,pinCount:o}=t.payload,a=e[n].section_count||0;return v(e,{id:n,section_count:Math.max(a-1,0),pin_count:(null!==(r=e[n].pin_count)&&void 0!==r?r:0)-o})})(t,r);case o.j:return((e,{payload:t})=>{const r={...t,sensitivity:t.sensitivity||null};return v(e,r)})(t,r);case o.l:return((e,{payload:{userId:t,boardId:r}})=>{const n=e[r];return v(e,{id:r,collaborator_count:"number"==typeof n.collaborator_count?n.collaborator_count+1:0,collaborated_by_me:!0,access:["write"],collaborating_users:(n.collaborating_users||[]).concat(t)})})(t,r);case o.m:return((e,{payload:{userId:t,boardId:r}})=>{const n=e[r];return v(e,{id:r,collaborating_users:(n.collaborating_users||[]).concat(t)})})(t,r);case o.h:return((e,{payload:{userId:t,boardId:r,viewingUser:n}})=>{var o;const a=e[r],s=a.collaborating_users?a.collaborating_users.indexOf(t):-1;return v(e,{id:r,...a.collaborator_count?{collaborator_count:a.collaborator_count-1}:Object.freeze({}),...a.collaborated_by_me?{collaborated_by_me:n!==t&&a.collaborated_by_me}:Object.freeze({}),...a.access&&{access:n===t?[]:a.access},...s>-1?{collaborating_users:(null!==(o=a.collaborating_users)&&void 0!==o?o:[]).filter((e,t)=>t!==s)}:Object.freeze({})})})(t,r);case o.g:return((e,{payload:{userIds:t,boardId:r,viewingUser:n,status:o}})=>{const a=e[r];var s;return"accepted"===o?v(e,{id:r,...a.collaborator_count||0===a.collaborator_count?{collaborator_count:a.collaborator_count+t.length}:{},...a.collaborated_by_me||!1===a.collaborated_by_me?{collaborated_by_me:a.collaborated_by_me||t.includes(n)}:{},...(a.access||a.access===[])&&{access:t.includes(n)?["write","delete"]:a.access},...(a.collaborating_users||a.collaborating_users===[])&&{collaborating_users:[...null!==(s=a.collaborating_users)&&void 0!==s?s:[],...t]}}):e})(t,r);case o.o:return((e,{payload:{boardId:t,value:r}})=>v(e,{id:t,viewer_collaborator_join_requested:r}))(t,r);case o.i:return((e,t)=>{const{boardId:r}=t.payload;if(!r)return e;const{[r]:n,...o}=e;return o})(t,r);case o.f:return((e,t)=>{const{boardId:r}=t.payload;return v(e,{id:r,archived_by_me_at:(new Date).toString()})})(t,r);case o.r:return((e,t)=>{const{boardId:r}=t.payload;return v(e,{id:r,archived_by_me_at:void 0})})(t,r);case o.C:return((e,t)=>{const{resource:r,normalizedResponse:n}=t.payload;if("BoardSectionResource"===r&&n){const{result:t,entities:{boardsections:r}}=n,o=r[t].board;return v(e,{id:o,section_count:(e[o].section_count||0)+1})}return e})(t,r);case o.Pb:return((e,t)=>{const{payload:r}=t,{boardId:n,isSocialSeasonalBoard:o,socialHeaderBgImage:a,socialHeaderBgColor:s,textIconColor:i}=r;return v(e,{id:n,isSocialSeasonalBoard:o,socialHeaderBgImage:a,socialHeaderBgColor:s,textIconColor:i})})(t,r);case o.H:return"BoardResource"===r.payload.resource?((e,t)=>{const{payload:{response:r,options:n}}=t;return n.slug&&!r.resource_response.data.url.includes(n.slug)?v(e,{oldSlugUrl:`/${n.username}/${Object(g.b)(n.slug)}/`,...r.resource_response.data}):e})(t,r):"ApiResource"===r.payload.resource&&null!==(n=r.payload.options)&&void 0!==n&&null!==(a=n.url)&&void 0!==a&&a.match(/\/v3\/boards\/([0-9]|[a-z]|[A-Z])+\/interests\//)?((e,t)=>{var r,n;const{options:o,response:a}=t.payload,s=null===(r=o.url)||void 0===r||null===(n=r.split("/"))||void 0===n?void 0:n[3],i=a.resource_response.data;return null!=i&&i.length?v(e,{id:s,related_interest_ids:i.map(e=>e.id)}):e})(t,r):t;default:return t}});const S=(e,t)=>({...e,[t.id]:{...t&&e[t.id]||{},...t}}),E=(e,t,r,n)=>{var o;return t===r?e:{...e,...t&&e[t]?{[t]:{...e[t],pin_count:Math.max(0,(null!==(o=e[t].pin_count)&&void 0!==o?o:0)-n)}}:{},...r&&e[r]?{[r]:{...e[r],pin_count:(e[r].pin_count||0)+n}}:{}}};var O=(e={})=>Object(p.a)("boardsections",(t=e,r)=>{switch(r.type){case o.q:return((e,{payload:t})=>S(e,t))(t,r);case o.eb:return((e,t)=>{const{boardSectionId:r}=t.payload;var n;return r&&e[r]?S(e,{id:r,pin_count:(null!==(n=e[r].pin_count)&&void 0!==n?n:0)+1}):e})(t,r);case o.gb:return((e,t)=>{const{boardSectionId:r}=t.payload;var n;return r&&e[r]?S(e,{id:r,pin_count:(null!==(n=e[r].pin_count)&&void 0!==n?n:0)-1}):e})(t,r);case o.hb:return((e,t)=>{const{section:r,source:n}=t.payload,o=r&&r.id||null,a=n&&n.sectionId||null;return E(e,a,o,1)})(t,r);case o.cb:return((e,t)=>{const{pinIds:r,source:{sectionId:n},target:{sectionId:o}}=t.payload;return E(e,n,o,r.length)})(t,r);case o.db:default:return t}});var I=(e={})=>Object(p.a)("contactrequests",(t=e,r)=>{switch(r.type){case o.H:const{payload:{normalizedResponse:e,resource:n}}=r;return"ContactRequestsResource"===n&&e?{...e.entities.contactrequests}:t;case o.kc:const{contactRequestId:a,hasDeclined:s,hasBlocked:i}=r.payload;return{...t,[a]:{...t[a],hasDeclined:s,hasBlocked:i}};case o.rb:const{contactRequestIds:c}=r.payload;return Object.keys(t).reduce((e,r)=>(c.includes(r)||(e[r]=t[r]),e),{});default:return t}});var A=(e={})=>Object(p.a)("conversations",(t=e,r)=>{switch(r.type){case o.C:const{normalizedResponse:e}=r.payload;if("ConversationsResource"===r.payload.resource&&e){const{conversations:r}=e.entities,n=Object.keys(r),o=n.length>0?n[0]:null;if(!o)return t;const a=r[o].last_message;return{...t,[o]:{...t[o],last_message:a}}}return t;case o.H:const{payload:{resource:n,response:{resource_response:{data:a}}}}=r;if("ConversationMessagesResource"===n){const{options:{conversation_id:e}}=r.payload;return{...t,[e]:{...t[e],messages:a}}}if("ConversationBadgeResource"===n){const{conversations_unseen_count:e}=a;return{...t,badgeCount:e}}return t;case o.ub:const{payload:{conversationId:s,message:i}}=r,c=t[s].messages?t[s].messages:[];return{...t,[s]:{...t[s],last_message:i,messages:[...c,i]}};case o.u:return{...t,badgeCount:0};case o.v:return{...t,[r.payload.id]:{...t[r.payload.id],unread:0}};case o.sb:const u=t;return delete u[r.payload.id],u;default:return t}});var T=(e={translations:{},triggerable:{}})=>(t=e,r)=>t;var P=(e={})=>(t=e,r)=>{switch(r.type){case o.Bb:return{...t,...r.payload};case o.s:return{};default:return t}},C=r("mmsh");var j=(e={active:{},triggerable:{}})=>(t=e,r)=>{switch(r.type){case o.a:const{name:e}=r.payload;if(t.triggerable[e]){const{[e]:r,...n}=t.triggerable;return{active:{...t.active,[e]:r},triggerable:n}}return t;case o.d:case o.ob:return{active:Object(C.a)(r.payload.active),triggerable:Object(C.a)(r.payload.triggerable)};default:return t}};var N=(e={})=>(t=e,r)=>{if(r.type===o.H||r.type===o.K){const{payload:{response:e,resource:n}}=r;if("ExploreTopicsResource"===n){const r=(e.resource_response.data||[]).filter(e=>"commerce"!==e.category_key);return{...t,sections:r}}return t}return t},x=r("imij");var D=(e={})=>(t=e,r)=>{if(r.type===o.Eb){const{payload:{cropSource:e}}=r;return{...t,cropSource:e}}return t};var U=(e={activeTabBoardId:"",activeTabIndex:0})=>(t=e,r)=>{if(r.type===o.wb){const{payload:{boardId:e,index:n}}=r;return{...t,activeTabBoardId:e,activeTabIndex:n}}return t};var k=(e={})=>(t=e,r)=>{switch(r.type){case o.ec:return{...t,showToastForContactRequest:r.payload.contactRequestId};case o.Ub:const e={contactRequestId:r.payload.contactRequestId,modalAction:r.payload.modalAction};return{...t,blockModalContactRequest:e};default:return t}},L=r("wlJ7");const H=(e,t)=>({...e,[Object(L.a)(t)]:{...e[Object(L.a)(t)],...t}});var B=(e={})=>Object(p.a)("collaboratorinvite",(t=e,r)=>{switch(r.type){case o.h:return H(t,{board:r.payload.boardId,invited_user:r.payload.userId,status:"not_invited"});case o.g:const{boardId:e,viewingUser:n,status:a,userIds:s}=r.payload;return s.reduce((t,r)=>{const o={access:["delete"],board:e,invited_user:r,invited_by_user:n,status:a,type:"collaboratorinvite"},s=Object(L.a)(o);return t[s]&&"not_invited"!==t[s].status?t:H(t,o)},{...t});case o.l:return H(t,{board:r.payload.boardId,invited_user:r.payload.userId,status:"accepted"});case o.m:const i=r.payload.isRequestToJoin?"accepted":"new";return H(t,{board:r.payload.boardId,invited_user:r.payload.userId,status:i});case o.n:const c={board:r.payload.boardId,invited_user:r.payload.userId},u=Object(L.a)(c),{[u]:d,...l}=t;return l;default:return t}});var F=(e=null)=>(t=e)=>t;const M={days:[],feed:[],headers:{},products:{},reminders:[],sessions:{},upcoming:[]};var W=(e=M)=>Object(p.a)("liveSession",(t=e,r)=>{if(r.type===o.H||r.type===o.K){const{payload:{response:e,resource:o}}=r,a=e.resource_response.data;if("LiveSessionEventResource"===o&&a)return{...t,...a};var n;if("PinResource"===o&&null!=a&&a.creator_class)return{...t,reminders:null!==(n=a.creator_class.soonest_upcoming_instance)&&void 0!==n&&n.is_viewing_user_reminded?[a.id]:[],sessions:{...t.sessions,[a.id]:a}};if("LiveSessionProductsResource"===o&&a)return{...t,products:{...t.products,...a}};if("LiveSessionUpcomingResource"===o&&a)return 0===t.upcoming.length?{...t,sessions:{...a.sessions,...t.sessions},reminders:[...t.reminders,...a.reminders.filter(e=>!t.reminders.includes(e))],upcoming:[...a.upcoming]}:t}else if(r.type===o.qc){if(r.payload){const{id:e,addReminder:n}=r.payload;return{...t,reminders:n?[...t.reminders,e]:t.reminders.filter(t=>t!==e)}}}else if(r.type===o.e)return{...t,...r.payload};return t});var $=(e={params:{}})=>(t=e,r)=>{if(r.type===o.Ib){const{payload:{params:e}}=r;return{...t,params:e}}return t};var V=(e={campaignData:{campaign:null,campaignPath:null,campaignLayout:null,shareTitle:""}})=>(t=e,r)=>{switch(r.type){case o.Jb:return{...e,campaignData:{campaign:r.campaign,campaignPath:r.campaignPath,campaignLayout:r.campaignLayout,shareTitle:r.shareTitle}};default:return t}};var q=(e={})=>Object(p.a)("notifications",(t=e,r)=>{if(r.type===o.H||r.type===o.K){const{normalizedResponse:e}=r.payload;e&&e.entities&&e.entities.notifications&&e.entities.pins&&(({notifications:e,pins:t})=>{Object.keys(e).forEach(r=>{const n=e[r];n.content_items&&n.content_items.forEach(e=>{if(e.content_object){const{id:r,schema:n}=e.content_object;"pin"===n&&(e.trackingParams=t[r]?t[r].tracking_params:void 0)}})})})(e.entities)}return t});var G=(e={})=>Object(p.a)("offers",(t=e,r)=>{switch(r.type){case o.H:const{payload:{resource:e,response:{resource_response:{data:n}}}}=r;return"MarketingOfferResource"===e?{...t,[n.id]:n}:t;default:return t}});var z=(e={})=>(t=e,r)=>{switch(r.type){case o.H:const{payload:{response:e,resource:n}}=r;return"PartnerPermissionsResource"===n?{...e.resource_response.data}:t;default:return t}};const K=(e,t,r)=>({...e,[t]:{...e[t]||{},...r}});var X=(e={})=>(t=e,r)=>{switch(r.type){case o.H:{const{payload:{resource:e,response:n,options:o}}=r;if("FindPinImagesResource"===e&&"pin_create"===o.source){const e={...n.resource_response.data};e.items=e.items.slice(0,50);const r=o.url;return K(t,r,e)}return t}case o.fb:{const{payload:{loadedImages:e,scrapedWebsite:n}}=r;return K(t,n,{loadedImages:e})}case o.oc:return{...t,...r.payload};default:return t}};const J=(e,t)=>({...e,[t.id]:{...e[t.id]||{},...t}});var Y=(e={})=>Object(p.a)("pins",(t=e,r)=>{switch(r.type){case o.H:const{payload:{resource:e}}=r;return"BoardTitleSuggestionsResource"===e?function(e,t){if(t.type===o.H&&t.payload.options.pin_id){const r=t.payload.options.pin_id,n=t.payload.response.resource_response.data.map(e=>e.title);return J(e,{id:r,boardTitleSuggestions:n})}return e}(t,r):"BoardPickerBoardsResource"===e?function(e,t){if(t.type===o.H&&t.payload.normalizedResponse&&t.payload.options.pin_id){const r=t.payload.options.pin_id,{boards_shortlist:n}=t.payload.normalizedResponse.result;return J(e,{id:r,boards_shortlist:n})}return e}(t,r):"PinInterestsResource"===e?function(e,t){if(t.type===o.H&&t.payload.options.pinId){const{options:r,response:n}=t.payload,o=n.resource_response.data;if(null!=o&&o.length)return J(e,{id:r.pinId,related_interest_ids:o.map(e=>e.id)})}return e}(t,r):"StoryPinTaggedProductsResource"===e?function(e,t){if(t.type===o.H){const{response:r}=t.payload,n=r.resource_response.data;if(null!=n&&n[0])return n.reduce((e,t)=>J(e,t),e)}return e}(t,r):"LiveSessionProductsResource"===e?function(e,t){if(t.type===o.H){const{options:r,response:n}=t.payload;return n.resource_response.data[r.classId].reduce((e,t)=>J(e,t),e)}return e}(t,r):t;case o.jb:return r.payload.forEach(e=>t[e.pinId].viewed=!0),t;case o.ib:const{pinId:n,value:a}=r.payload;return J(t,{id:n,feedback_status:a});case o.C:const{payload:s}=r;if("RepinResource"===s.resource){const{pin_id:e,board_id:r}=s.options,{id:n}=s.response.resource_response.data,{name:o,privacy:a,url:i}=s.response.resource_response.data.board;return J(t,{id:e,pinned_to_board:{id:r,name:o,url:i,type:"board"},privacy:a,savedThisSession:n})}if("BoardResource"===s.resource&&s.options.initial_pins){const e=s.options.initial_pins[0],{name:r,id:n,url:o}=s.response.resource_response.data;return J(t,{id:e,pinned_to_board:{id:n,name:r,url:o,type:"board"}})}return t;case o.hb:{const{pinId:e,description:n,boardId:o,section:a,title:s}=r.payload;return J(t,{id:e,closeup_user_note:n,board:o,section:a,title:s,unified_user_note:n})}case o.gb:{const{pinId:e}=r.payload;return Object.assign({},Object.keys(t).reduce((r,n)=>(n!==e&&(r[n]=t[n]),r),{}))}case o.kb:{const{id:e,value:n,undoAction:o,undoActionOptions:a}=r.payload;return J(t,{id:e,showFeedback:n,undoAction:o,undoActionOptions:a})}case o.lb:{const{pinId:e}=r.payload;return J(t,{id:e,savedThisSession:void 0})}case o.Z:{const{boardId:e,localPinId:n,pinId:o}=r.payload;if(t[o])return J(t,{id:o,savedInfo:{boardId:e,localPinId:n}})}return t;case o.ab:{const{pinId:e}=r.payload,n=t[e];if(!n)return t;const{savedInfo:o,savedThisSession:a,...s}=n;return{...t,[e]:s}}default:return t}});var Z=(e={})=>(t=e,r)=>{if(r.type===o.H){const{payload:{response:e,resource:n}}=r;if("PlacesRecommenderLandingResource"===n){const{board_name:r,invite:n,recommender:o,trip_place:a}=e.resource_response.data;return{...t,boardName:r,invite:{id:n.id,imageUrl:n.image_url,firstName:n.sender.first_name},recommender:{...o},tripPlace:{...a}}}if("PlacesRecommenderSearchResource"===n){const r=e.resource_response.data.map(e=>{const{id:t,name:r,category_join:n,locality:o,region:a,street:s,images:i,url:c}=e;return{id:t,name:r,locality:o,region:a,street:s,url:c,categoryName:(n||{}).name,images:(i||[]).map(e=>e.thumbnails||{})}});return{...t,placeSearchResults:r}}}else if(r.type===o.C){const{payload:{response:e,resource:n}}=r;if("PlacesRecommenderResource"===n){const r=e.resource_response.data;return{...t,recommender:r}}}return t};var Q=(e={})=>(t=e,r)=>{if(r.type===o.H){const{resource:e,options:n,response:o}=r.payload;if("VisualSearchFlashlightUnifiedResource"===e){const e="related-products-unified",r=n.pin_id,{x:a,y:s,w:i,h:c}=n.crop,u=`${e}:${r}:${a}:${s}:${i}:${c}:${n.is_shopping}`,{data:d}=o.resource_response,l={[u]:{priceFilters:d.price_filters,domainFilters:d.domain_filters,categoryFilters:d.category_filters}};if(Object.values(l[u]).filter(Boolean).length)return{...t,...l}}}return t};var ee=(e={})=>Object(p.a)("reactions",(t=e,r)=>{switch(r.type){case o.H:return"ReactionsResource"===r.payload.resource&&r.payload.normalizedResponse&&r.payload.normalizedResponse.entities&&r.payload.normalizedResponse.entities.reactions?{...t,...r.payload.normalizedResponse.entities.reactions}:t;case o.C:const{options:e}=r.payload,{reaction_type:n,reaction_pin_id:a,user_id:s}=e;return((e,t)=>({...e,[t.id]:{...e[t.id],...t}}))(t,{user:s,id:`${a}:${s}`,reaction_type:n,type:"userreaction"});default:return t}});var te=(e={})=>Object(p.a)("reportReasons",(t=e,r)=>{switch(r.type){case o.H:const{payload:{options:e,resource:n,response:{resource_response:{data:a}}}}=r,s=e.pin_id;return"ReportReasonsResource"===n?{...t,[s]:a}:t;default:return t}}),re=r("aK+E");var ne=(e={})=>(t=e,r)=>{if(r.type===o.H||r.type===o.K||r.type===o.I||r.type===o.G){const{options:e,resource:n}=r.payload,a=Object(re.a)(e),s=t[n]||{},i=s[a]||{},c=(e=>{switch(e.type){case o.G:return{fetching:e.payload.isFetching,error:null};case o.I:return{fetching:!1,error:e.payload.error};default:return{fetching:!1,bookmark:(t=(e.payload.response.resource.options||{}).bookmarks)&&"-end-"!==t[0]?t[0]:null,error:null}}var t})(r);return{...t,[n]:{...s,[a]:{...i,...c}}}}return t};var oe=(e={interests:[]})=>Object(p.a)("rootInterests",(t=e,r)=>{switch(r.type){case o.H:const{payload:{resource:e,response:{resource_response:{data:n}}}}=r;return"RootInterestsResource"===e?{...t,interests:n}:t;default:return t}});const ae={currentSearch:{query:"",scope:"pins"},queries:{},productFilters:{},recentSearches:[],recentPersonalSearches:[],recommendedSearches:[],trendingSearches:[],typeaheadCache:{},pins:{},visualSearches:{}},se=(e,t,r,n)=>({...e,queries:{...e.queries,[t]:r}}),ie=(e,t)=>{const r=e.recentPersonalSearches.filter(e=>!t.find(t=>(t.query||"").toLowerCase()===(e.query||"").toLowerCase()));return{recentPersonalSearches:t.concat(r).slice(0,5)}},ce=(e,t)=>({...e,...ie(e,t)}),ue=(e,t)=>{const r=e.recentSearches.filter(e=>!t.find(t=>(t.query||"").toLowerCase()===(e.query||"").toLowerCase()));return{recentSearches:t.concat(r).slice(0,5)}},de=(e,t)=>({...e,...ue(e,t)}),le=(e,t,r)=>({...e,currentSearch:{query:r||"",scope:t||"pins"}}),pe=(e,t,r)=>t?t.startsWith("my_")?ce(e,[{query:r,tag:"recent_personal_searches",type:"recent_personal_searches",id:r}]):de(e,[{query:r,tag:"recent_queries",type:"recent_query",id:r}]):e;var fe=(e=ae)=>(t=e,r)=>{switch(r.type){case o.H:{const{resource:e,response:n}=r.payload;if("AdvancedTypeaheadResource"===e){const{options:{term:e,recent_queries_tags:o}}=r.payload;return((e,t,r,n)=>{if(!t.length){if(r.split(",").length>1){const t=[],r=[];return n.forEach(e=>{"recent_personal_searches"===e.type?t.push(e):r.push(e)}),{...e,...ie(e,t),...ue(e,r)}}return"recent_personal_searches"===r?ce(e,n):de(e,n)}return{...e,typeaheadCache:{...e.typeaheadCache,[t]:n}}})(t,e,o,n.resource_response.data.items)}if("TrendingQueriesResource"===e)return((e,t)=>({...e,trendingSearches:[...e.trendingSearches,...t]}))(t,n.resource_response.data);if("SearchTabResource"===e)return((e,t)=>({...e,recommendedSearches:[...e.recommendedSearches,...t]}))(t,n.resource_response.data);if("BaseSearchResource"===e){const{options:{query:e,auto_correction_disabled:o,scope:a,article:s,filters:i,appliedProductFilters:c}}=r.payload,u=`${a}:${e}:${i||""}:${c}:${s||""}${o?":auto-correction-disabled":""}`,d=n.resource_response.data.productFilters,l={guides:n.resource_response.data.guides,typo:n.resource_response.data.typo,nags:n.resource_response.data.nag,sensitivity:n.resource_response.data.sensitivity,filters:n.resource_response.data.filters,tabs:n.resource_response.data.tabs};return((e,t,r,n)=>{const o=`${n}-${r}`,a=e.productFilters[o];return a?t?{...e,productFilters:{...e.productFilters,[o]:Object.entries(a).reduce((e,r)=>{const n=r[0],o=r[1],a=t[n];return Array.isArray(o)&&Array.isArray(a)?e[n]=((e,t)=>e.concat(t.filter(t=>!e.some(e=>e.label===t.label))))(o,a):Array.isArray(o)||Array.isArray(a)||(e[n]={...o,max_value:Math.max(o.max_value,a.max_value),min_value:Math.min(o.min_value,a.min_value),suggested_max_value:Math.max(o.suggested_max_value,a.suggested_max_value)}),e},{})}}:e:{...e,productFilters:{...e.productFilters,[o]:t}}})(pe(le(se(t,u,l),a,e),a,e),d,a,e)}if("SearchResource"===e){const{options:{query:e,scope:n}}=r.payload;return pe(t,n,e)}if("SearchGuidesResource"===e){const{options:{query:e,scope:o}}=r.payload;return le(se(t,e,{guides:n.resource_response.data.guides}),o,e)}if("VisualLiveSearchResource"===e){const{data:e}=n.resource_response;return{...t,visualSearches:{...t.visualSearches,[r.payload.options.pin_id]:e.annotations}}}return t}case o.y:{const{query:e}=r.payload;return((e,t)=>({...e,recentSearches:e.recentSearches.filter(e=>e.query!==t)}))(t,e)}case o.z:return(e=>({...e,recentSearches:[]}))(t);case o.w:{const{query:e}=r.payload;return((e,t)=>({...e,recentPersonalSearches:e.recentPersonalSearches.filter(e=>e.query!==t)}))(t,e)}case o.x:return(e=>({...e,recentPersonalSearches:[]}))(t);case o.qb:return((e,t)=>({...e,visualSearches:{...e.visualSearches,[t]:[]}}))(t,r.payload.pinId);case o.lc:{const{query:e,scope:n}=r.payload;return le(t,n,e)}case o.pc:{const{query:e,scope:n}=r.payload;return pe(t,n,e)}default:return t}};const _e=new Set(["BoardResource","PinResource","RepinResource"]);var ye=e=>(t=e,r)=>{var n,a;switch(r.type){case o.Nb:return{...t,...r.payload};case o.Gb:return r.payload.from!==t.loginSignupFrom?{...t,loginSignupFrom:r.payload.from}:t;case o.Db:return{...t,experimentHash:r.payload};case o.O:return{...t,isLimitedLoginModalShown:!1,limitedActionHeader:"",limitedActionNext:""};case o.Xb:return{...t,isLimitedLoginModalShown:!0,limitedActionHeader:r.payload.limitedActionHeader,limitedActionNext:r.payload.limitedActionNext};case o.F:return{...t,unauthSavePinId:void 0};case o.B:return{...t,hasSavedUnauthPin:!0};case o.S:return{...t,isSignupModalShown:!1};case o.cc:return{...t,isSignupModalShown:!0,isUnauthDownloadModal:null===(n=r.payload)||void 0===n?void 0:n.isUnauthDownloadModal,unauthSavePinId:null===(a=r.payload)||void 0===a?void 0:a.unauthSavePinId};case o.R:return{...t,isResetPasswordSentModalShown:!1,loginUserEmail:""};case o.bc:return{...t,isResetPasswordSentModalShown:!0,loginUserEmail:r.payload.email};case o.W:return{...t,isUnauthToastUpsellDisplayed:!1};case o.gc:return{...t,isUnauthToastUpsellDisplayed:!0};case o.d:case o.ob:return{...t,isAuthenticated:!0,userId:r.payload.user.id};case o.Qb:const{viewedImageSignature:e}=r.payload,{viewedImages:s}=t,i=(s||[]).slice(0,10),c=[e].concat(i.filter(t=>t!==e));return{...t,viewedImages:c};case o.Rb:return{...t,viewedSharedPins:r.payload.pins};case o.Zb:return{...t,isNuxHomefeedLoadShown:r.payload};case o.Tb:return{...t,isBizNuxHomefeedLoadShown:r.payload};case o.Sb:return{...t,isAppUpsellShown:r.payload.isAppUpsellShown};case o.ac:return{...t,isShowingRepinAnimation:!0};case o.Q:return{...t,isShowingRepinAnimation:!1};case o.N:return{...t,isGoogleOneTapShown:!1};case o.Wb:return{...t,isGoogleOneTapShown:!0};case o.L:return{...t,isGoogleOneTapDisabled:!0};case o.M:return{...t,isGoogleOneTapInitialized:!0};case o.Kb:return{...t,numSignupSteps:r.payload.steps};case o.P:return{...t,shouldHideNavBar:!0};case o.Yb:return{...t,shouldHideNavBar:!1};case o.i:case o.p:case o.gb:return{...t,isProfilePinsStale:!0};case o.C:const{resource:u}=r.payload;return _e.has(u)?{...t,isProfilePinsStale:!0,isTakeoverAfterRepinPlacementEligible:!0}:t;case o.Lb:return{...t,isProfilePinsStale:!1};case o.V:return{...t,isUnauthSharingModalsShown:!1};case o.fc:return{...t,isUnauthSharingModalsShown:!0,isGoogleOneTapShown:!1,isSignupModalShown:!1};case o.T:return{...t,isTakeoverAfterRepinPlacementEligible:!1};case o.dc:return{...t,isToastShown:!0};case o.U:return{...t,isToastShown:!1};case o.jc:return{...t,autologinFailed:!0};case o.D:return{...t,unauthInterstitialDismissed:!0};case o.X:return{...t,loggedOutUserInfo:r.payload};case o.Y:return{...t,loggedOutUserInfo:null};case o.Ob:return{...t,boardPageSharingOptions:r.payload};case o.Vb:return{...t,showBusinessAppUpsell:r.payload};case o.tb:return{...t,scrollToCloseupPin:!0};case o.hc:return{...t,scrollToCloseupPin:!1};case o.rc:return t.isAuthenticated?{...t,firstHomeFeedRequestAfterNux:r.payload}:t;case o.Fb:return{...t,landingPageType:r.payload};default:return t}};var be=(e={})=>(t=e,r)=>{if(r.type===o.H||r.type===o.K){const{payload:{response:e,resource:n}}=r;if("CountriesResource"===n)return{...t,countryOptions:e.resource_response.data.map(e=>({value:e.key,label:e.name}))};if("LocalesResource"===n)return{...t,localeOptions:e.resource_response.data.map(e=>({value:e.key,label:e.name}))};if("NewsSettingsResource"===n)return{...t,newsSettings:e.resource_response.data};if("PushSettingsResource"===n)return{...t,pushSettings:e.resource_response.data}}if(r.type===o.vb){var n,a;const{id:e,value:o}=r.payload,{newsSettings:s,pushSettings:i}=t,c=null!==(n=null==s?void 0:s.map(t=>(t.options=t.options.map(t=>(t.id===e&&(t.value=o),t)),t)))&&void 0!==n?n:[],u=null!==(a=null==i?void 0:i.map(t=>(t.options=t.options.map(t=>(t.id===e&&(t.value=o),t)),t)))&&void 0!==a?a:[];return{...t,newsSettings:c,pushSettings:u}}return t},me=r("9SMi");var he=(e={})=>Object(p.a)("storyPins",(t=e,r)=>(r.type,t));var ge=(e={})=>(t=e,r)=>{if(r.type===o.H){const{payload:{options:e,response:n,resource:o}}=r;if("StyleContentResource"===o){const r=n.resource_response.data||[],o=`${e.id}_${e.request_type}`;return{...t,[o]:{page_title:r.page_title}}}return t}return t};var ve=(e={suggested_interests:[],show_interest_name:!1})=>(t=e,r)=>{switch(r.type){case o.H:const{payload:{resource:e,response:{resource_response:{data:n}}}}=r;return"ApiResource"===e?{...t,...n}:t;default:return t}};var Re=(e={})=>Object(p.a)("todayArticles",(t=e,r)=>(r.type,t));const we=(e,t)=>({...e,[t.id]:{...e[t.id],...t}});var Se=(e={})=>Object(p.a)("topics",(t=e,r)=>{var n;switch(r.type){case o.ic:const{payload:{id:e,value:a}}=r;return we(t,{id:e,is_followed:a});case o.H:const{payload:{options:s,resource:i,response:c}}=r,u=c.resource_response.data,d="ApiResource"===i&&(null==s||null===(n=s.url)||void 0===n?void 0:n.match(/\/v3\/boards\/([0-9]|[a-z]|[A-Z])+\/interests\//));return("PinInterestsResource"===i||d)&&null!=u&&u.length?u.reduce((e,t)=>we(e,t),t):t;default:return t}});var Ee=(e={})=>Object(p.a)("triedits",(t=e,r)=>(r.type,t));const Oe={state:-1};var Ie=(e=Oe)=>(t=e,r)=>{switch(r.type){case o.H:var n;return"UserStateResource"===r.payload.resource?{state:null!==(n=r.payload.response.resource_response.data)&&void 0!==n?n:-1}:t;default:return t}};const Ae=(e,t)=>({...e,[t.id]:{...e[t.id],...t}});var Te=(e={})=>Object(p.a)("users",(t=e,r)=>{var n,a,s,i;switch(r.type){case o.H:const{payload:{normalizedResponse:e,resource:u,options:d}}=r;return"BoardPickerBoardsResource"===u&&e?Ae(t,{id:d.user_id,recent_boards:e.result.boards_shortlist}):t;case o.sc:return Ae(t,{id:r.payload.id,blocked_by_me:r.payload.value,...r.payload.value?{explicitly_followed_by_me:!1}:{}});case o.uc:return Ae(t,{id:r.payload.id,...r.payload.user,explicitly_followed_by_me:r.payload.value});case o.tc:const{ids:l,value:p}=r.payload;let f={...t};return l.forEach(e=>{f=Ae(f,{id:e,explicitly_followed_by_me:p})}),f;case o.vc:return Ae(t,{id:r.payload.id,[r.payload.field]:r.payload.value});case o.eb:const{pinnerId:_}=r.payload;return Ae(t,{id:_,pin_count:null!==(n=t[_].pin_count)&&void 0!==n?n:1});case o.gb:const{userId:y}=r.payload;return Ae(t,{id:y,pin_count:null!==(a=t[y].pin_count)&&void 0!==a?a:-1});case o.i:const{viewingUserId:b,boardPinCount:m}=r.payload,h=null!==(s=t[b].pin_count)&&void 0!==s?s:0,g=null!==(i=t[b].board_count)&&void 0!==i?i:0;return Ae(t,{id:b,pin_count:h-m,board_count:g-1});case o.p:{var c;const{userId:e,pinCount:n}=r.payload,o=null!==(c=t[e].pin_count)&&void 0!==c?c:0;return Ae(t,{id:e,pin_count:o-n})}case o.C:{const{options:e,resource:n,response:o}=r.payload,a=e.user_id;if(a){const{board_count:r=0,pin_count:s=0}=t[a]||{},{resource_response:i}=o;if("BoardResource"===n){const{initial_pins:n}=e,{owner:o={}}=i.data;return Ae(t,{id:a,pin_count:o.pin_count||s+n.length,board_count:r+1,last_repin_id:n[0]})}if("RepinResource"===n||"PinResource"===n&&"uploaded"===e.method){const{pin_id:r}=e,{pinner:n={}}=i.data;return Ae(t,{id:a,pin_count:(n.pin_count||s)+1,last_repin_id:r})}}return t}case o.b:return Ae(t,{id:r.payload.userId,allow_personalization_cookies:!0,allow_analytic_cookies:!0,allow_marketing_cookies:!0});case o.pb:return Ae(t,{id:r.payload.userId,allow_personalization_cookies:!1,allow_analytic_cookies:!1,allow_marketing_cookies:!1});case o.yb:return Ae(t,{id:r.payload.userId,allow_analytic_cookies:r.payload.value});case o.Hb:return Ae(t,{id:r.payload.userId,allow_marketing_cookies:r.payload.value});case o.Mb:return Ae(t,{id:r.payload.userId,allow_personalization_cookies:r.payload.value});case o.d:case o.ob:return Ae(t,{...r.payload.user});default:return t}});var Pe=(e={activeVideoIndex:0,activeVideoPinId:null})=>(t=e,r)=>{if(r.type===o.xb){const{payload:{pinId:e,index:n}}=r;return{...t,activeVideoPinId:e,activeVideoIndex:n}}return t};var Ce=(e={})=>(t=e,r)=>{switch(r.type){case o.mc:const{placementId:e,status:n}=r.payload,a={...t};return["completed","dismissed"].includes(n)?delete a[e]:a[e].status=n,a;case o.J:return{...t,...r.payload.experiences};case o.d:case o.mb:case o.ob:const{experiences:s}=r.payload;return{...s};default:return t}};const je=(e={})=>(t=e,r)=>{switch(r.type){case o.nc:const{experienceId:e,placementId:n,status:a}=r.payload,s={...t},i=s[n]||[],c=i.findIndex(t=>t.experience_id===e);return c>=0&&(["completed","dismissed"].includes(a)?i.splice(c,1):i[c].status=a),s;case o.nb:const{experiencesMulti:u}=r.payload;return{...u};default:return t}};var Ne=e=>Object(u.combineReducers)({aggregatedComments:f(e.aggregatedComments),appUI:m(e.appUI),articles:h(e.articles),boards:w(e.boards),boardsections:O(e.boardsections),contactRequests:I(e.contactRequests),conversations:A(e.conversations),currentPage:P(e.currentPage),experiences:Ce(e.experiences),experiencesMulti:je(e.experiencesMulti),experiments:j(e.experiments),copytuneExperiments:T(e.copytuneExperiments),explore:N(e.explore),feeds:Object(x.a)(e.feeds),flashlight:D(e.flashlight),productFilters:Q(e.productFilters),homefeedTabUI:U(e.homefeedTabUI),inbox:k(e.inbox),invites:B(e.invites),landingPinPageMainImageSsr:F(e.landingPinPageMainImageSsr),liveSession:W(e.liveSession),messenger:V(e.messenger),notifications:q(e.notifications),offers:G(e.offers),videosPage:Pe(e.videosPage),pinBuilder:X(e.pinbuilder),pins:Y(e.pins),placesRecommender:Z(e.placesRecommender),reactions:ee(e.reactions),reportReasons:te(e.reportReasons),resources:ne(e.resources),rootInterests:oe(e.rootInterests),search:fe(e.search),session:ye(e.session),settings:be(e.settings),stories:Object(me.b)(e.stories),storyPins:he(e.storyPins),styleContent:ge(e.styleContent),suggestedInterests:ve(e.suggestedInterests),todayArticles:Re(e.todayArticles),topics:Se(e.topics),triedits:Ee(e.triedits),userActivityStates:Ie(e.userActivityStates),users:Te(e.users),marketingCampaign:$(e.marketingCampaign),partnerPermissions:z(e.partnerPermissions)}),xe=r("eNqV");let De;const Ue=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():e=>e,ke=e=>{if(De)throw new Error("createStore has already been called!");const t=Object(xe.c)()?Object(n.c)():{};return De=Object(u.createStore)(Ne(e),t,Object(u.compose)(l,Ue)),De},Le=()=>{if(!De)throw new Error("store is undefined.  make sure createStore() has been called");return De}},sINF:function(e,t,r){function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"==typeof o?o(r,n,e):t(o)}}}}var o=n();o.withExtraArgument=n,t.a=o},uJiI:function(e,t,r){function n(e){if(!e)return e;let t=e.replace(/%26/gi,"&");return t=t.replace(/%3F/gi,"?"),t=t.replace(/%23/gi,"#"),t=t.replace(/%2B/gi,"+"),t=t.replace(/%3B/gi,";"),t=t.replace(/%2C/gi,","),t=t.replace(/%2F/gi,"/"),t=t.replace(/%3A/gi,":"),t=t.replace(/%40/gi,"@"),t=t.replace(/%3D/gi,"="),t=t.replace(/%24/gi,"$"),t}function o(e){return Object.keys(e).reduce((t,r)=>({...t,[r]:n(e[r])}),{})}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}))},wMN6:function(e,t,r){r.d(t,"o",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"k",(function(){return s})),r.d(t,"m",(function(){return i})),r.d(t,"i",(function(){return c})),r.d(t,"f",(function(){return d})),r.d(t,"n",(function(){return l})),r.d(t,"p",(function(){return f})),r.d(t,"e",(function(){return y})),r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return m})),r.d(t,"g",(function(){return h})),r.d(t,"h",(function(){return g})),r.d(t,"j",(function(){return v})),r.d(t,"l",(function(){return R}));const n=(e,t)=>{let r;return(...n)=>{r||(e(...n),r=setTimeout(()=>r=null,t))}},o=(e,t)=>{let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>e(...n),t)}},a=(e,t)=>{let r,n=!0;return(...o)=>{clearTimeout(r),n&&(e(...o),n=!1),r=setTimeout(()=>{e(...o),n=!0},t)}},s=e=>e[e.length-1],i=(e,t)=>Array.from({length:t-e},(t,r)=>r+e),c=e=>Object.keys(e).reduce((t,r)=>(t[e[r]]=r,t),{}),u=e=>null!==e&&("object"==typeof e||"function"==typeof e),d=(...e)=>{const t=(e,r)=>Object.keys(r).reduce((e,n)=>{const o=e[n],a=r[n];return Object.prototype.hasOwnProperty.call(e,n)&&u(o)&&u(a)?e[n]=t(o,a):e[n]=void 0===o?a:a||o,e},e);return e.reduce((e,r)=>r?t(e,r):e,{})};function l(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}function p(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function f(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}function _(e,t=!1){return r=>{if(!p(r))return t&&Array.isArray(r)?r.map(_(e,t)):r;const n={};return Object.keys(r).forEach(o=>{const a=e(r[o],o);p(r[o])||t&&Array.isArray(r[o])?n[a]=_(e,t)(r[o]):n[a]=r[o]}),n}}function y(e,t=!1){const r=(t,r)=>e(r);return e=>_(r,t)(e)}const b=488,m=600;function h(e=!1){if("undefined"==typeof window)return m;const t=e?window.innerWidth:window.innerWidth-32;return Math.min(m,t)}const g=()=>window?void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0:-1,v=e=>/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e);function R(e,t){if(!t.startsWith("en"))return e;return e.split(" ").map(e=>e===e.toUpperCase()?e:e.toLowerCase()).join(" ")}},wlJ7:function(e,t,r){r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}));const n=e=>e.split(":")[1],o=e=>`${e.board}:${e.invited_user}`},yweb:function(e,t,r){r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r("1dBE");const{Provider:o,Consumer:a,useHook:s}=Object(n.c)("i18n");t.c=s}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/8-fb9742f6721b16f7a33f.mjs.map