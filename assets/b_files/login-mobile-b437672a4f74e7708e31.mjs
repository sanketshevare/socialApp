(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["www/login-mobile"],{"+zvl":function(e,t,n){var o=n("q1tI"),i=n("n6mq"),r=n("nKUr");t.a=function({pin:{image:e,pinDescription:t,dominantColor:n,bannerCopy:s}}){return Object(r.jsx)(o.Fragment,{children:Object(r.jsxs)(i.f,{display:"flex",alignItems:"center",justifyContent:"center",children:[Object(r.jsx)(i.f,{width:30,height:40,margin:4,children:Object(r.jsx)(i.C,{width:"100%",height:"100%",rounding:2,children:Object(r.jsx)(i.x,{src:(e||{}).url,alt:t||"",naturalHeight:(e||{}).height||1,naturalWidth:(e||{}).width||1,color:n||"",fit:"cover"})})}),Object(r.jsx)(i.cb,{children:s})]})})}},"0HhX":function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var o=n("q1tI"),i=n("/MKj"),r=n("aK+E"),s=n("EC67"),a=n("zmYE");const c=({name:e,options:t,schema:n,noCache:s,dangerouslyDisableFetch:c})=>{const l=Object(o.useRef)(),u=Object(i.useDispatch)(),d=Object(r.a)(t),h=Object(i.useSelector)(({resources:t})=>(t[e]||{})[d]),p=o=>u(Object(a.e)(e,{options:t,schema:n,bookmark:o})),g=()=>u(Object(a.g)(e,{options:t,schema:n}));Object(o.useEffect)(()=>{if(!c&&l.current!==d){const e=void 0===l.current;l.current=d,!h||e&&h.error&&(({httpStatus:e})=>!e||e>=500)(h.error)?p():s&&g()}});const m=null==h?void 0:h.bookmark,b=null==h?void 0:h.fetching,f=Object(o.useCallback)(()=>{!m||b||c||p(m)},[m,b]);let j;if(h&&h.error){const{httpStatus:e,apiErrorCode:t,redirectUrl:n}=h.error;(404===e||401===e&&7===t)&&(j={pathname:"/",state:{showError:!0}}),301===e&&n&&(j={pathname:n})}return{fetchMore:f,hasError:!(null==h||!h.error),fetching:!h||h.fetching,inCache:!!h,isAtEnd:null===m,refresh:g,errorRedirect:j}},l=e=>{const t=Object(s.h)(),n=c(e),{errorRedirect:o}=n;return o&&t.replace(o.pathname,o.state),n}},"2NiC":function(e,t,n){var o=n("/MKj"),i=n("7w6Q"),r=n("RNo4");const s="http://play.google.com/store/apps/details?id=com.pinterest",a=["access_token","new_password","new_password_confirm","password","next"],c=(e,t)=>t?Object(r.b)(e,{invite_code:t}):e,l=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e?c(e,n):"ios"===t||"ipad"===t?c(e.iOS,n):"android"===t?c(e.android,n):null};var u=({deeplinkUri:e,fallbackUrl:t,invite_code:n,platform:o,redirectToLite:c,unauthId:u,userAgent:d})=>{if(e){const h=(({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:o,unauthId:i})=>({deeplink_path:l(e,n,t),current_page_url:Object(r.l)("undefined"!=typeof window?window.location.href:"",a),install_id:i,utm_source:140,utm_medium:2152,...o?{af_r:o}:null}))({deeplinkUri:e,fallbackUrl:t,invite_code:n,platform:o,unauthId:u,userAgent:d});if(i.a.increment("mweb.deeplink",1,{platform:o}),n&&i.a.increment("mweb.deeplink.invite_code",1),i.a.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(u)}),c){i.a.increment("mweb.deeplink.lite_link",1);const e=(({unauthId:e})=>{const t=Object(r.c)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:u});window.location.href=Object(r.b)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===o){const t=(({deeplinkUri:e,invite_code:t,platform:n,unauthId:o})=>{const i=JSON.stringify({deeplink_path:l(e,n,t),current_page_url:Object(r.l)("undefined"!=typeof window?window.location.href:"",a),install_id:o});return{referrer:Object(r.c)({utm_source:"mweb",utm_medium:"upsell",utm_content:i})}})({deeplinkUri:e,invite_code:n,platform:o,unauthId:u});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then(e=>{if(e.length>0){const e=Object(r.b)(window.location.href,h);window.open(e)}else window.location.href=Object(r.b)(s,t)}).catch(i.a.increment("mweb_android.deeplink.playStore.error",1)):window.location.href=Object(r.b)(s,t)}else i.a.increment("mweb.deeplink.appsflyer_link",1),window.location.href=Object(r.b)("https://pinterest.onelink.me/TVSr/21e04bfd",h)}},d=n("QtD7"),h=n("fsjD"),p=n("eQwl"),g=n("nKUr");function m({children:e,invite_code:t,redirectToLite:n}){const{userAgentPlatform:i,unauthId:r,userAgent:s,country:a,locale:c}=Object(o.useSelector)(({session:e})=>e),l=Object(o.useDispatch)(),h=n||Object(p.e)({country:a,locale:c,platform:i,userAgent:s,activateLiteAppExp:()=>l(Object(d.a)("mweb_targeted_lite_app_upsell"))});return e(async(e,n)=>{u({deeplinkUri:e,fallbackUrl:n,invite_code:t,platform:i,redirectToLite:h,unauthId:r,userAgent:s})})}const b=e=>Object(g.jsx)(h.a,{children:t=>Object(g.jsx)(m,{...e,invite_code:t})});b.displayName="DeepLinkNavigator";t.a=b},"38yB":function(e,t,n){n.r(t);var o=n("/MKj"),i=n("JGxo"),r=n("q1tI"),s=n("FDmi"),a=n("PaNI"),c=n("yeqU"),l=n("y6dK"),u=n("kerF"),d=n("k1Bv"),h=n("Lr1Z"),p=n("fs0a"),g=n("oAcf"),m=n("eOdZ"),b=n("bcHz"),f=n("28DW"),j=n("yweb"),w=n("n6mq"),_=n("nKUr");function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x extends r.PureComponent{constructor(...e){super(...e),O(this,"handleBackToLoginClick",()=>{const{method:e,backToLogin:t}=this.props;Object(f.a)("unauth_mweb.login.no_account_found_screen.back_to_login."+e),t()}),O(this,"handleContinueSignupClick",()=>{const{method:e,continueSignup:t}=this.props;Object(f.a)("unauth_mweb.login.no_account_found_screen.account_created."+e),t()})}componentDidMount(){Object(f.a)("unauth_mweb.login.no_account_found_screen.shown."+this.props.method)}render(){const{email:e,method:t}=this.props;let n=this.props.i18n._("Hmm, it looks like there’s no Pinterest account that matches this email. Try logging in again?","Short text informing users the email they tried to log in with does not belong to an existing account","Short text informing users the email they tried to log in with does not belong to an existing account");return"facebook"===t?n=this.props.i18n._("Hmm, it looks like the Facebook account associated with this email isn’t on Pinterest yet.  Try logging in with a different method.","Short text informing users the Facebook account they tried to log in with is not linked to an existing account","Short text informing users the Facebook account they tried to log in with is not linked to an existing account"):"google"===t&&(n=this.props.i18n._("Hmm, it looks like the Google account associated with this email isn’t on Pinterest yet.  Try logging in with a different method.","Short text informing users the Google account they tried to log in with is not linked to an existing account","Short text informing users the Google account they tried to log in with is not linked to an existing account")),Object(_.jsxs)(w.f,{flex:"grow",children:[Object(_.jsx)(w.u,{overflow:"normal",children:this.props.i18n._("Couldn't find your Pinterest account","Heading for the page informing users the account they tried to log in to does not exist","Heading for the page informing users the account they tried to log in to does not exist")}),Object(_.jsxs)(w.f,{marginTop:10,marginBottom:3,children:[e&&Object(_.jsx)(w.cb,{weight:"bold",children:e}),Object(_.jsx)(w.f,{marginTop:4,children:Object(_.jsx)(w.cb,{children:n})}),Object(_.jsx)(w.f,{marginTop:4,children:Object(_.jsx)(w.g,{color:"red",text:this.props.i18n._("Back to login","Text on button taking users back to login page","Text on button taking users back to login page"),onClick:this.handleBackToLoginClick})})]}),Object(_.jsx)(b.a,{onTouch:this.handleContinueSignupClick,pressState:"none",children:Object(_.jsx)(w.f,{position:"fixed",bottom:!0,left:!0,right:!0,paddingX:4,paddingY:8,children:Object(_.jsx)(w.cb,{align:"center",weight:"bold",children:this.props.i18n._("Create new account","Text button to take users to complete sign up after attempting to log in with non-existent account","Text button to take users to complete sign up after attempting to log in with non-existent account")})})},"signupConfirmationLink")]})}}var y=function(e){const t=Object(j.c)();return Object(_.jsx)(x,{...e,i18n:t})},k=n("6adH"),v=n("QtD7"),S=n("ANjH"),C=n("bUAJ"),E=n("qpbZ"),P=n("TXO6"),T=n("Q5BC"),L=n("351Y"),A=n("qEYz"),U=n("RNo4"),I=n("ulr2"),B=n("5SBu"),R=n("J8m7"),F=n("EUPR"),D=n("c50B"),N=n("AGnR"),z=n("EC67");function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const H=e=>{const t=new L.b;if(t.isEligible()){return"/business/offer/"+t.getOfferId()}return Object(U.k)(e.search).next||e.state&&e.state.next||"/"},q=e=>e._("Continue with Facebook","Text on the facebook button on the mobile web log in modal","Text on the facebook button on the mobile web log in modal"),W=e=>e._("Continue with Google","Text on the google button on the mobile web log in modal","Text on the google button on the mobile web log in modal"),K=e=>e._("Continue with LINE","Text on the Line button on the mobile web log in modal","Text on the Line button on the mobile web log in modal");class M extends r.PureComponent{constructor(...e){var t,n;super(...e),t=this,V(this,"state",{apiErrorCode:0,email:(n=this.props.location,n.state&&n.state.email||""),isLoading:!1,isValid:!1,loggedInWith:null,password:"",recaptchaV3Token:"default",emailValidationError:"",passwordValidationError:"",shouldShowSignupConfirmation:!1,registerCallback:()=>{},socialEmail:"",optOutFromPersonalizedForm:!1,shouldShowSignUpButton:!1}),V(this,"clearPersonalizedLoginFromEmail",e=>{const{history:t,location:n}=this.props;if(n.state&&n.state.userInfo){const{userInfo:o,...i}=n.state;t.replace({pathname:e?"/":"/login",state:i})}}),V(this,"onLoginClick",()=>{this.trackButtonTap(30)}),V(this,"onSignUpClick",()=>{const{history:e,location:t}=this.props;this.trackButtonTap(31),e.push({pathname:"/signup/step1/",state:{email:this.state.email,password:this.state.password,isSignUpFromLoginError:!0,...t.state}})}),V(this,"trackLoginEvent",e=>{const{isAuthenticated:t,isLimitedLoginUser:n}=this.props;Object(N.e)({event_type:e,view_type:9,view_parameter:63,aux_data:{...t?{login_state:n?2:1}:{},signup_login_method:1}})}),V(this,"trackButtonTap",e=>{const{isAuthenticated:t,isLimitedLoginUser:n}=this.props;Object(N.h)({view_type:9,element:e,aux_data:{...t?{login_state:n?2:1}:{}}})}),V(this,"handleNotYouClick",()=>{this.clearPersonalizedLoginFromEmail(),this.trackButtonTap(10879),this.setState({email:"",optOutFromPersonalizedForm:!0}),Object(f.g)("click_change_signin_account")}),V(this,"handleNoAccountClick",()=>{this.clearPersonalizedLoginFromEmail(!0),this.trackButtonTap(10880),Object(f.g)("click_toggle_signup")}),V(this,"handlePasswordReset",e=>{const{resetPasswordExpActiveAndEnabled:t,showResetPasswordSentModal:n}=this.props,{email:o}=this.state;this.trackButtonTap(10881),m.a.create("UserResetPasswordResource",{username_or_email:o}).callCreate({showError:!1}).then(()=>this.setState({apiErrorCode:0}));const i=Object(D.t)(o,this.emailValidators());o&&!i&&t()&&(e.preventDefault(),n(o))}),V(this,"validateEmail",(async function(e){const{email:n}=t.state,{checkEmailExistExp:o}=t.props;let i=Object(D.t)(n,t.emailValidators());if(!i&&e){const e=await t.props.validateEmailExists(n).then(e=>e&&e.resource_response&&!e.resource_response.data?t.props.i18n._("There is no account with this email","Email not found error message","Email not found error message"):"").catch(e=>"");e&&o()&&(i=e)}const r=!i&&!t.state.passwordValidationError;e||r?t.setState({emailValidationError:i,isValid:r}):t.setState({isValid:r})})),V(this,"validatePassword",e=>{const{password:t}=this.state,n=Object(D.t)(t,[Object(D.o)({message:this.props.i18n._("The password you entered is incorrect.","Password validation error","Password validation error")})]),o=!n&&!this.state.emailValidationError;e||o?this.setState({passwordValidationError:n,isValid:o}):this.setState({isValid:o})}),V(this,"validateEmailOnBlur",()=>{setTimeout(()=>{this.validateEmail(!0)},0)}),V(this,"validatePasswordOnBlur",()=>{setTimeout(()=>{this.validatePassword(!0)},0)}),V(this,"emailValidators",()=>[Object(D.e)({message:this.props.i18n._("Not a valid email.","Email field validation error message","Email field validation error message")}),Object(D.o)({message:this.props.i18n._("You missed a spot! Don't forget to add your email.","Email validation error","Email validation error")})]),V(this,"handleChangeEmail",({value:e})=>{this.setState({email:e,shouldShowSignUpButton:!1},()=>{this.validateEmail()})}),V(this,"handleChangePassword",({value:e})=>this.setState({password:e},this.validatePassword)),V(this,"handleLogin",e=>{e&&e.preventDefault();const{history:t,location:n,login:o,showToast:i,isSignupConfirmationExpEnabled:r,appInstallStepAfterLoginEnabled:s}=this.props,{email:a,password:c,recaptchaV3Token:l}=this.state,u=n.state&&"true"===n.state.switch_account,d=u?{isSwitchAccount:u,recaptchaV3Token:l}:{recaptchaV3Token:l,noImmediateRedirect:s};let h=!1;this.trackLoginEvent(7534),o({username_or_email:a,password:c},t,H(n),d).then(()=>{this.trackLoginEvent(7536)}).catch(e=>{this.trackLoginEvent(7535);let t=e.apiErrorCode===R.l||e.message?{passwordValidationError:e.message}:{};e.apiErrorCode===R.m?(i({color:"orange",text:e.message}),t={}):e.apiErrorCode===R.k&&(a?r&&r()?h=!0:t={emailValidationError:e.message,shouldShowSignUpButton:!0}:t={emailValidationError:e.message}),this.setState({isLoading:!1,shouldShowSignupConfirmation:h,apiErrorCode:e.apiErrorCode,...t}),Object(F.h)(e=>{this.setState({recaptchaV3Token:e})},F.b)}),this.setState({isLoading:!0})}),V(this,"handleLoginTouch",e=>{this.setState({loggedInWith:e}),"Facebook"===e?Object(f.a)("unauth_mweb.facebook_connect.manual.attempt"):"Google"===e&&Object(f.a)("unauth_mweb.google_connect.manual.attempt")}),V(this,"renderPersonalizedLogin",e=>{const{i18n:t,isLimitedLoginUser:n,location:o,appInstallStepAfterLoginEnabled:i}=this.props,{emailValidationError:c,passwordValidationError:d,isValid:g,password:m,shouldShowSignUpButton:b}=this.state,{connectedToFacebook:f,connectedToGoogle:j,email:O,firstName:x,hasPassword:y,avatarSrc:k}=(e=>{const t={connectedToFacebook:e.connected_to_facebook,connectedToGoogle:e.connected_to_google,email:e.email,firstName:e.first_name,hasPassword:e.has_password,avatarSrc:""};return void 0!==e.gplus_url&&(t.connectedToGoogle=e.connected_to_google||!!e.gplus_url),e.image_medium_url?t.avatarSrc=e.image_medium_url:e.medium_image_url&&(t.avatarSrc=e.medium_image_url),t})(e),v=!!o.state&&!!o.state.userInfo,S=!y&&!f&&!j,C=y||S,P=f||S,T=j||S,L=C&&(P||T),A=x?Object(E.b)(this.props.i18n._("Welcome back, {{name}}!","Heading on personalized login page, followed by user's name","Heading on personalized login page, followed by user's name"),{name:x}):this.props.i18n._("Welcome back!","Welcome message on user login page","Welcome message on user login page"),U=e=>C&&Object(_.jsx)(l.a,{email:null!=O?O:"",handleChangeEmail:this.handleChangeEmail,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,hideEmailField:e,emailValidationError:c,passwordValidationError:d,validatePasswordOnBlur:this.validatePasswordOnBlur,validateEmailOnBlur:this.validateEmailOnBlur,isValid:g,onLoginClick:this.onLoginClick,onSignUpClick:this.onSignUpClick,onSubmit:this.handleLogin,password:m,shouldShowSignUpButton:b,showEmailAsText:!e}),I=e=>Object(_.jsx)(p.a,{fbButtonType:"continue",facebookText:P?q(t):null,googleText:T?W(t):null,lineText:S?K(t):null,next:H(o),beforeRegister:this.onSocialLoginFailure,onGoogleTouch:()=>this.handleLoginTouch("Google"),onFacebookTouch:()=>this.handleLoginTouch("Facebook"),inSocialBeforeEmailExp:e,appInstallStepAfterLoginEnabled:i});return Object(_.jsxs)(r.Fragment,{children:[v&&Object(_.jsx)(a.a,{}),Object(_.jsx)(u.a,{name:"mweb_limited_login_social_before_email",isEligible:n&&L,activate:!1,children:({anyEnabled:e})=>Object(_.jsxs)(r.Fragment,{children:[Object(_.jsxs)(w.f,{display:"flex",direction:"column",justifyContent:"center",alignItems:"center",marginTop:5,marginBottom:C&&!e?-3:5,children:[Object(_.jsx)(w.f,{justifyContent:"center",display:"flex",children:Object(_.jsx)(w.u,{overflow:"normal",size:"sm",children:A})}),Object(_.jsx)(w.f,{marginTop:3,marginBottom:3,children:Object(_.jsx)(s.a,{size:"lg",src:k,name:x||""})}),(e||!C)&&Object(_.jsx)(w.f,{children:Object(_.jsx)(w.cb,{align:"center",children:O})})]}),Object(_.jsxs)(w.f,{marginStart:"auto",marginEnd:"auto",marginTop:3,marginBottom:6,maxWidth:400,children:[e?I(e):U(e),L&&Object(_.jsx)(w.f,{marginTop:3,marginBottom:3,children:Object(_.jsx)(w.cb,{align:"center",size:"sm",weight:"bold",children:this.props.i18n._("OR","Separator for email login button and social login button","Separator for email login button and social login button")})}),e?U(e):I(e)]})]})}),Object(_.jsxs)(w.f,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginTop:2,children:[Object(_.jsxs)(w.f,{display:"flex",justifyContent:"center","data-test-id":"login-switch-account",children:[Object(_.jsx)(w.f,{marginEnd:1,children:Object(_.jsx)(w.cb,{align:"center",children:this.props.i18n._("Not you?","Short message on the bottom of the login modal that prompts a user to log in to a different account","Short message on the bottom of the login modal that prompts a user to log in to a different account")})}),Object(_.jsx)(h.a,{to:{pathname:"/login",state:o.state},pressState:"background",onTouch:this.handleNotYouClick,children:Object(_.jsx)(w.cb,{color:"darkGray",weight:"bold",align:"center",children:this.props.i18n._("Log in with a different account","Short message on the bottom of the login modal that prompts a user to log in to a different account","Short message on the bottom of the login modal that prompts a user to log in to a different account")})})]}),Object(_.jsxs)(w.f,{display:"flex",justifyContent:"center",marginTop:4,children:[Object(_.jsx)(w.f,{marginEnd:1,"data-test-id":"signup-modal-personalized",children:Object(_.jsx)(w.cb,{children:this.props.i18n._("No Account?","Prompt for signing up","Prompt for signing up")})}),Object(_.jsx)(h.a,{to:{pathname:"/signup/step1/",state:o.state},pressState:"background",onTouch:this.handleNoAccountClick,children:Object(_.jsx)(w.cb,{color:"darkGray",weight:"bold",children:this.props.i18n._("Sign up","Prompt for signing up","Prompt for signing up")})})]})]})]})}),V(this,"onSocialLoginFailure",(e,t)=>{this.setState({shouldShowSignupConfirmation:!0,registerCallback:t,socialEmail:e})}),V(this,"handleCreateAccountClick",()=>{const{registerCallback:e}=this.state;e?e():this.onSignUpClick()}),V(this,"renderLoginButtons",e=>{const{i18n:t,location:n,appInstallStepAfterLoginEnabled:o}=this.props,i=Object(_.jsx)(p.a,{fbButtonType:"continue",facebookText:q(t),googleText:W(t),lineText:K(t),next:H(n),beforeRegister:this.onSocialLoginFailure,onGoogleTouch:()=>this.handleLoginTouch("Google"),onFacebookTouch:()=>this.handleLoginTouch("Facebook"),appInstallStepAfterLoginEnabled:o}),r=Object(_.jsx)(w.f,{marginTop:e?0:-2,marginBottom:e?2:0,children:Object(_.jsx)(w.cb,{align:"center",size:"md",weight:"bold",children:this.props.i18n._("OR","Separator for email login button and social login button","Separator for email login button and social login button")})});return e?Object(_.jsxs)(w.f,{children:[r,i]}):Object(_.jsxs)(w.f,{children:[i,r]})})}componentDidMount(){const{history:e,isAuthenticated:t,isLimitedLoginUser:n,location:o,showToast:i}=this.props,r=o.state&&"true"===o.state.switch_account;if(o.state&&o.state.shouldShowAccountExistsToast&&(i({text:this.props.i18n._("Looks like you already have a Pinterest account. Please log in.","Toast showing that a user already has a Pinterest account and can login normally","Toast showing that a user already has a Pinterest account and can login normally")}),o.state)){const{shouldShowAccountExistsToast:t,...n}=o.state;e.replace("/login/",n)}!t||n||r||Object(A.b)({history:e,next:H(o)});"permanent_account_closure"===Object(U.k)(o.search).message&&i({duration:7e3,text:this.props.i18n._("Your account has been closed. We're sad to see you go","unauthLoginPage.accountClosedToast.message","Confirmation message after a user has successfully closed their account")});const s=()=>{Object(F.h)(e=>{this.setState({recaptchaV3Token:e})},F.b)};s(),setInterval(s,F.f);const a=Object(C.h)(o);a&&e.replace("/login",{isRedirectToNextParamAfterSignup:!0,next:a})}static getDerivedStateFromProps(e,t){const{isAuthenticated:n,isLimitedLoginUser:o,location:i,loggedOutUserInfo:r,viewingUser:s}=e;return i.state&&i.state.userInfo?{email:i.state.userInfo.email}:n||!r||t.optOutFromPersonalizedForm?o&&s&&!t.optOutFromPersonalizedForm?{email:s.email}:null:{email:r.email}}render(){const{isLimitedLoginUser:e,location:t,loggedOutUserInfo:n,viewingUser:o,showPLPBanner:i,plpBannerPin:s}=this.props,a=t.state&&t.state.shouldShowLoginBelow||!1,{apiErrorCode:u,email:p,emailValidationError:m,passwordValidationError:b,shouldShowSignupConfirmation:f,isLoading:j,isValid:O,loggedInWith:x,optOutFromPersonalizedForm:k,password:v,shouldShowSignUpButton:S,socialEmail:C}=this.state;let E=e?o:n;t.state&&t.state.userInfo&&(E=t.state.userInfo);const P=u>0&&u===R.o,T=Object(_.jsxs)(r.Fragment,{children:[Object(_.jsxs)(w.f,{marginStart:"auto",marginEnd:"auto",marginTop:3,marginBottom:6,maxWidth:400,children:[!a&&this.renderLoginButtons(a),Object(_.jsx)(l.a,{email:p,handleChangeEmail:this.handleChangeEmail,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,emailValidationError:m,passwordValidationError:b,validatePasswordOnBlur:this.validatePasswordOnBlur,validateEmailOnBlur:this.validateEmailOnBlur,isSIWAError:P,isValid:O,onLoginClick:this.onLoginClick,onSignUpClick:this.onSignUpClick,onSubmit:this.handleLogin,password:v,shouldShowSignUpButton:S}),a&&this.renderLoginButtons(a)]}),Object(_.jsxs)(w.f,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginTop:2,children:[Object(_.jsxs)(w.f,{display:"flex",justifyContent:"center",children:[Object(_.jsx)(w.f,{marginEnd:1,"data-test-id":"signup-link",children:Object(_.jsx)(w.cb,{children:this.props.i18n._("No Account?","Prompt for signing up","Prompt for signing up")})}),Object(_.jsx)(h.a,{to:{pathname:"/signup/step1/",state:{...t.state,email:p}},pressState:"background",onTouch:this.handleNoAccountClick,children:Object(_.jsx)(w.cb,{color:"darkGray",weight:"bold",children:this.props.i18n._("Sign up","Prompt for signing up","Prompt for signing up")})})]}),Object(_.jsx)(c.a,{})]})]});return f?Object(_.jsx)(y,{email:x?C:p,method:x?x.toLowerCase():"email",backToLogin:()=>this.setState({loggedInWith:null,registerCallback:void 0,shouldShowSignupConfirmation:!1,socialEmail:""}),continueSignup:this.handleCreateAccountClick}):Object(_.jsxs)(r.Fragment,{children:[i&&s&&Object(_.jsx)(g.a,{pin:s}),Object(_.jsxs)(w.f,{paddingX:i?4:0,children:[E&&!k?this.renderPersonalizedLogin(E):T,j&&Object(_.jsx)(d.a,{})]})]})}}var G=Object(S.compose)(z.l,k.b,Object(o.connect)(({session:e,users:t={},experiments:n})=>({canUpsellNativeApp:e.canUseNativeApp&&"unknown"===e.pwaType,isAuthenticated:e.isAuthenticated,isLimitedLoginUser:Object(P.b)(t[e.userId]),loggedOutUserInfo:e.loggedOutUserInfo,viewingUser:t[e.userId]}),e=>({login:(t,n,o,i)=>e(Object(T.b)(t,n,o,i)),isSignupConfirmationExpEnabled:()=>["enabled","employees"].includes(e(Object(v.a)("mweb_unauth_signup_confirmation"))),resetPasswordExpActiveAndEnabled:()=>["enabled","employees"].includes(e(Object(v.a)("mweb_reset_password_lite"))),showResetPasswordSentModal:t=>e(Object(I.J)(t)),validateEmailExists:t=>e(Object(B.n)(t)),checkEmailExistExp:()=>["enabled","employees"].includes(e(Object(v.a)("mweb_check_email_exist_v5")))})))((function(e){const t=Object(j.c)();return Object(_.jsx)(M,{...e,i18n:t})})),X=n("Bb4+"),Y=n("o+5w"),$=n("tCfZ"),J=n("0G5S"),Q=n("PmFr"),Z=n("QAzJ"),ee=n("JJAz");const te=(e,t=!1)=>{const n=new L.b;if(!t&&n.isEligible()){return"/business/offer/"+n.getOfferId()}return Object(U.k)(e.search).next||e.state&&e.state.next||"/"};t.default=function(){const e=Object(j.c)(),t=Object(z.i)(),n=Object(z.h)(),{showPLPBanner:r,pinForBanner:s}=Object(C.i)({i18n:e,location:t}),a=Object(o.useSelector)(({marketingCampaign:e})=>e.params),c=Object(Z.b)("mweb_app_install_step_after_login_unauth")().anyEnabled,l=Object(Z.b)("mweb_app_install_step_after_login_unauth")().group.startsWith("enabled_2"),u=Object(Z.b)("mweb_creator_access_upsell")().anyEnabled&&a.utm_campaign,d="undefined"!=typeof window&&Object(ee.a)(window)&&Object(ee.c)(window);return!u&&!d&&c&&Object(J.a)(Q.e)?Object(_.jsx)(X.b,{children:Object(_.jsx)(w.f,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",direction:"column",position:"absolute",paddingX:5,children:Object(_.jsx)(i.a,{handleContinueInBrowser:()=>{Object(f.a)("login_app_install_step.click_continue_in_browser"),n.push(Object(A.a)(te(t)))},handleOpenAppClick:()=>Object(f.a)("login_app_install_step.click_open_in_app"),InAppDeeplinkUrl:Object(A.a)(te(t,!0)),overrideAppValueProp:l?e._("Almost done! Get the app to make the most of your account.","mweb.nux.app_value_prop","Header on NUX App Upsell step to encourage user to download the mobile app"):void 0})})}):Object(_.jsx)(Y.a,{viewType:9,children:Object(_.jsx)(X.b,{hasGutter:!r,children:Object(_.jsxs)(w.f,{height:"120vh",children:[Object(_.jsx)(G,{showPLPBanner:r,plpBannerPin:s,appInstallStepAfterLoginEnabled:c}),Object(_.jsx)(w.f,{marginTop:6,paddingX:2,children:Object(_.jsx)($.a,{})})]})})})}},"4lNu":function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}));const o=(e,t)=>((e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}))(t/2,e/2,2*Math.random()*Math.PI),i=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,r=e=>["@-webkit-keyframes","@keyframes"].map(t=>e.map(e=>t+" "+e).join("\n")).join("\n")},"5SBu":function(e,t,n){n.d(t,"a",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"k",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return j})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return _})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return x})),n.d(t,"m",(function(){return k})),n.d(t,"l",(function(){return v})),n.d(t,"n",(function(){return S}));var o=n("eOdZ"),i=n("zmYE"),r=n("eNqV"),s=n("jUT+");const a=(e,t)=>({type:s.sc,payload:{id:e,value:t}}),c=(e,t,n)=>({type:s.uc,payload:{id:e,value:t,user:n}}),l=(e,t)=>({type:s.tc,payload:{ids:e,value:t}}),u=e=>t=>(t(a(e,!0)),o.a.create("UserBlockResource",{blocked_user_id:e}).callCreate().catch(()=>t(a(e,!1)))),d=e=>t=>(t(a(e,!1)),o.a.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>t(a(e,!0)))),h=(e,t)=>n=>{o.a.create("UserFollowResource",{user_id:e}).callCreate().catch(()=>n(c(e,!1,t))),n(c(e,!0,t))},p=(e,t)=>n=>{o.a.create("UserFollowResource",{user_id:e}).callDelete().catch(()=>n(c(e,!0,t))),n(c(e,!1,t))},g=e=>t=>{e.length>0&&(o.a.create("UserFollowMultipleResource",{followeeIds:e}).callUpdate().catch(()=>t(l(e,!1))),t(l(e,!0)))},m=(e,t,n)=>o=>{o({type:s.vc,payload:{id:e,field:t,value:n}})},b=e=>{const t=e.split(" ");return{first_name:t[0],last_name:t[1]}},f=(e,t,n,r)=>(s,a)=>{const c=a().session.userId,l=a().users[c],u={user_id:c};if("full_name"===e)if(l.is_partner)u.business_name=t;else{const e=b(t);u.first_name=e.first_name,u.last_name=e.last_name||""}else u[e]=t;o.a.create("UserSettingsResource",u).callUpdate(u).then(()=>{if("profile_image_url"===e)s(Object(i.g)("UserResource",{options:u}));else if("full_name"===e)if(l.is_partner)s(m(c,"first_name",t));else{const e=b(t);s(m(c,"first_name",e.first_name)),s(m(c,"last_name",e.last_name))}s(m(c,e,t)),n()},r)},j=(e,t)=>n=>o.a.create("UserStateResource",{state:e,value:t}).callCreate(),w=(e,t,n,i,r)=>()=>{const s={new_password:t,new_password_confirm:n,old_password:e};o.a.create("UserPasswordResource",s).callUpdate().then(i,r)},_=(e,t,n,i,r,s)=>a=>{a(m(e,`${t}.${n}`,i));let c={},l="EmailSettingsResource";void 0!==r?(c={section:t,option:n,value:i,od:r.od,user_id:r.user_id},l="UnsubEmailSettingsResource"):c={section:t,option:n,value:i},o.a.create(l,c).callUpdate().then(s).catch(()=>a(m(e,`${t}.${n}`,!i)))},O=(e,t)=>(n,i)=>{o.a.create("DeactivateAccountResource",{user_id:i().session.userId}).callCreate().then(()=>{e(),Object(r.j)()},t)},x=(e,t)=>(n,i)=>{o.a.create("DeleteAccountResource",{user_id:i().session.userId}).callUpdate().then(e,t)};const y=async(e,t,n)=>{var i;const r=await o.a.create("VIPResource",{upload_ids:[e]}).callGet();if(null!==(i=r.resource_response)&&void 0!==i&&i.data[e]){const o=r.resource_response.data[e],{status:i,signature:s}=o;if("processing"===i||"registered"===i)setTimeout(async()=>{y(e,t,n)},5e3);else if("succeeded"===i){const e=((e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(s);t(e)}else n()}else n()},k=(e,t,n,i,r)=>((new FormData).append("img",e),o.a.create("VIPResource",{type:t}).callCreate().then(t=>{var o;if(null!==(o=t.resource_response)&&void 0!==o&&o.data){const{upload_id:o,upload_url:s,upload_parameters:a}=t.resource_response.data,c=new XMLHttpRequest;c.open("POST",s,!0),c.onload=()=>{var e;(e=c.status)>=200&&e<400?(n(100),y(o,i,r)):r()},c.upload.onprogress=e=>{const t=Math.round(100*e.loaded/e.total);n(t)};const l=new FormData;for(const e in a)l.append(e,a[e]);l.append("file",e),c.send(l)}},()=>{r()})),v=e=>new Promise((t,n)=>{var o;"string"==typeof e?e.startsWith("data")&&(o=function(e,t=512){const n=e.split(";"),o=n[0].split(":")[1],i=n[1].split(",")[1],r=atob(i),s=[];for(let a=0;a<r.length;a+=t){const e=r.slice(a,a+t),n=new Array(e.length);for(let t=0;t<e.length;t+=1)n[t]=e.charCodeAt(t);const o=new Uint8Array(n);s.push(o)}return new Blob(s,{type:o})}(e),new Promise((e,t)=>{k(o,"pinimage",()=>{},t=>{e(t)},e=>{t(e)})})).then(e=>t(e)):n("Invalid Image")}),S=e=>()=>o.a.create("EmailExistsResource",{email:e}).callGet()},"9Hil":function(e,t,n){n.d(t,"a",(function(){return s}));var o=n("q1tI"),i=n("n6mq"),r=n("nKUr");function s({color:e="red",duration:t,finalProgress:n,shape:s="pill"}){const[a,c]=Object(o.useState)(!1);Object(o.useEffect)(()=>{const e=setTimeout(()=>{c(!0)},0);return()=>{clearTimeout(e)}},[]);const l="pill"===s;return Object(r.jsx)(i.f,{color:e,height:l?8:6,rounding:l?"pill":2,width:n+"%",dangerouslySetInlineStyle:{__style:{transform:l?`translateX(${a?"-5px":"-100%"})`:`scaleX(${a?1:0})`,transformOrigin:"left",transitionDuration:t+"ms",transitionTimingFunction:"ease-in"}}})}},E8d4:function(e,t,n){n.d(t,"a",(function(){return s}));var o=n("q1tI");class i extends o.Component{constructor(...e){var t,n,o;super(...e),o={errorIsCaught:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}componentDidCatch(){this.setState({errorIsCaught:!0})}render(){const{children:e}=this.props,{errorIsCaught:t}=this.state;return t?null:e}}var r=n("nKUr");function s({children:e,errorBoundaryName:t,fallback:n,dangerouslyServerRenderForGraphQL:s=!1}){const a=n||null;return Object(r.jsx)(i,{...t?{name:t}:{},children:Object(r.jsx)(o.Suspense,{fallback:a,children:e})})}},EUPR:function(e,t,n){n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return m}));var o=n("7w6Q");const i="onloadRecaptchaJsCallback",r="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",s="recaptcha-enterprise-src",a=(e,t)=>{try{o.a.increment("recaptcha_v3.request_token.attempt",.1,{action:t}),window.grecaptcha.enterprise.ready(()=>{try{window.grecaptcha.enterprise.execute(r,{action:t}).then(e)}catch(n){o.a.increment("recaptcha_v3.request_token.exec_error",.1,{action:t})}})}catch(n){o.a.increment("recaptcha_v3.request_token.error",.1,{action:t})}},c=(e,t)=>{if(window[i]=function(){return a(e,t)},document.getElementById(s))a(e,t);else{const e=document.createElement("script");e.id=s,e.src=`https://www.google.com/recaptcha/enterprise.js?onload=${i}&render=${r}`;const t=document.getElementsByTagName("script")[0];t.parentNode&&t.parentNode.insertBefore(e,t)}},l=105e3,u=8e3,d="mweb_auth",h="mweb_login",p="mweb_signup",g="web_auth",m="web_unauth"},FDmi:function(e,t,n){n.d(t,"a",(function(){return s}));var o=n("n6mq"),i=n("nKUr");const r=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function s({accessibilityLabel:e,name:t,outline:n,size:s,src:a,verified:c}){return Object(i.jsx)(o.b,{accessibilityLabel:e,name:t,outline:n,size:s,src:r(a,t)?void 0:a,verified:c})}},JGxo:function(e,t,n){var o=n("/MKj"),i=n("2NiC"),r=n("yweb"),s=n("n6mq"),a=n("nKUr");t.a=e=>{const t=Object(r.c)(),{handleContinueInBrowser:n,handleOpenAppClick:c,overrideAppValueProp:l,InAppDeeplinkUrl:u="/"}=e,d=Object(o.useSelector)(e=>e.session.isTablet),h=t._("Switch to the mobile app","mweb.nux.app_button_text","Text on app install button"),p=l||t._("Woohoo! You're ready to go.","mweb.nux.app_value_prop","Text that instructs user when user just finish registration");return Object(a.jsx)(s.f,{height:"90%",justifyContent:"center",display:"flex",direction:"column",maxWidth:440,margin:"auto",children:Object(a.jsxs)(s.f,{paddingX:2,paddingY:6,children:[Object(a.jsx)(s.f,{paddingY:6,justifyContent:"center",display:"flex",children:Object(a.jsx)(s.v,{color:"red",icon:"pinterest",accessibilityLabel:"Pinterest App",size:d?60:40})}),Object(a.jsxs)(s.f,{justifyContent:"center",display:"flex",direction:"column",children:[Object(a.jsx)(s.f,{paddingY:2,children:Object(a.jsx)(s.u,{align:"center",size:"sm",children:p})}),Object(a.jsx)(s.f,{marginTop:8,justifyContent:"center",direction:"column",alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}}}),Object(a.jsx)(s.f,{"data-test-id":"nux-app-install-button",children:Object(a.jsx)(i.a,{children:e=>Object(a.jsx)(s.g,{size:"lg",color:"red",onClick:()=>{c(),e&&e(u)},text:h})})}),Object(a.jsx)(s.f,{marginTop:2,"data-test-id":"nux-skip-app-install-button",children:Object(a.jsx)(s.g,{onClick:n,color:"white",size:"lg",text:t._("Continue in browser","mweb.unauth.app_upsell.continue_in_browser","App Upsell continue viewing in browser")})})]})]})})}},NymR:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return l}));const o=36e5,i=24*o,r=7*i,s=365*i;function a(e){const t=Math.floor(e/6e4),n=Number((e%6e4/1e3).toFixed(0));return t+":"+(n<10?"0":"")+n}function c(e,t,n){let o=t;return"tl-PH"===t&&(o="fil-PH"),e.toLocaleTimeString(o,n)}function l(e,t,n){let o=t;return"tl-PH"===t&&(o="fil-PH"),e.toLocaleDateString(o,n)}},PaNI:function(e,t,n){n.d(t,"a",(function(){return d}));var o=n("/MKj"),i=n("hLPq"),r=n("yweb"),s=n("2oSX"),a=n("AGnR"),c=n("QAzJ"),l=n("EC67"),u=n("nKUr");function d({alignIconLeft:e,bgColor:t,color:n,disableRedirect:d=!1,fallbackUrl:h,icon:p="arrow-back",onTouch:g,padding:m,placement:b,shouldUseFallbackUrl:f,size:j="lg",viewParameter:w,viewType:_}){const O=Object(r.c)(),x=Object(l.h)(),y=Object(l.i)(),k=Object(o.useSelector)(e=>e.session.isAuthenticated),v=Object(c.b)("mweb_unauth_jp_back_to_today");return Object(u.jsx)(i.a,{accessibilityLabel:O._("Back","navigation button","navigation button"),bgColor:t,color:n,icon:p,onTouch:()=>{Object(s.d)({action:"back_button_click",placement:b,isAuthenticated:k}),_&&w&&Object(a.h)({view_type:_,view_parameter:w,element:34}),g&&g(),h=!k&&v().anyEnabled?"/today":h,d||((!y.key||y.state&&"redirect"===y.state.referrer||f)&&h?x.replace(h):y.pathname.includes("/password/reset/")&&y.search&&y.search.includes("?nativeShouldDismiss=true")?x.push("/login/?dismissWebview=true"):x.goBack())},padding:m||2,size:j,containerStyle:e?{display:"flex",alignItems:"center",marginLeft:"cancel"===p?"-4px":"-8px",width:"48px",height:"48px"}:{}})}},TXO6:function(e,t,n){n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return a}));function o(e){if(!e||!e.created_at)return!1;const t=new Date(e.created_at);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}function i(e){return!(!e||!e.is_matured_new_user)&&e.is_matured_new_user}const r=e=>!!e&&2===e.login_state,s=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function a(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},YWST:function(e,t,n){n.d(t,"b",(function(){return r}));var o=n("q1tI");const i=Object(o.createContext)();function r(){return Object(o.useContext)(i)}t.a=i},bcHz:function(e,t,n){n.d(t,"a",(function(){return r}));var o=n("n6mq"),i=n("nKUr");function r({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:r,rounding:s,fullWidth:a=!1,pressState:c="none",accessibilityLabel:l}){const u=(Array.isArray(c)?c:[c]).includes("compress");return Object(i.jsx)(o.bb,{fullWidth:a,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:r&&(({event:e})=>r(e)),rounding:s,tapStyle:u?"compress":"none",accessibilityLabel:l,children:e})}},eQwl:function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return j})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return _}));var o=n("wMN6"),i=n("vtuW"),r=n("TXO6"),s=n("NymR"),a=n("PmFr"),c=n("0G5S"),l=n("JJAz");const u=["BR","MX","AR","CL","CO","PE","IN"],d=Object.freeze({ANDROID_LITE_APP:"android_lite_app",FLAGSHIP_APP:"flagship_app"}),h=Object.freeze({VIEW_COUNT:"appUpsellViewCount",OPEN_APP_CLICKED:"appUpsellOpenAppClick"}),p=14*s.a;function g(e,t,n){return e-t>n}function m(){const e=Number(Object(c.a)(h.OPEN_APP_CLICKED,0));Object(c.c)(h.OPEN_APP_CLICKED,e+1)}const b=Object(o.c)(()=>{const e=Number(Object(c.a)(h.VIEW_COUNT,0));Object(c.c)(h.VIEW_COUNT,e+1)},200);const f=e=>{const t=function(){const e=Date.now(),t=Number(Object(c.a)("appUpsell"));return{currentTime:e,firstUpsellTime:Number(Object(c.a)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean(Object(i.a)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,n){const{currentTime:o,firstUpsellTime:i,lastUpsellTime:r,showedAppUpsellCurrentSession:s}=e;return n=n||p,!i||function(e,t,n){return e<t+n}(o,i,t)?!s:!!g(o,r,n)&&(Object(c.b)("firstUpsellTime"),!0)}(t,s.a):function(e,t){const{currentTime:n,lastUpsellTime:o}=e;return t=t||p,!o||g(n,o,t)}(t)},j=({country:e,platform:t,userAgent:n,upsellLiteAppExp:o,activateLiteAppExp:i})=>{try{return"android"===t&&(parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(n))<4.4||u.includes(e)&&0===Object(c.a)(h.OPEN_APP_CLICKED,0)&&Object(c.a)(h.VIEW_COUNT,0)>5&&Object(c.a)(h.VIEW_COUNT,0)<=8&&((i&&i()||"").startsWith("enabled")||!!o))}catch(r){return!1}},w=({country:e,currentUser:t,external:n=!1,isAppUpsellDisabled:o=!1,isAuthenticated:s,isMoveAppUpsellFromSaveToCloseupEnabledAndActivate:c,refresh:u=!1,locale:h="",platform:p,userAgent:g,activateLiteAppExp:m})=>{if(o||"undefined"!=typeof window&&Object(l.a)(window)&&Object(l.c)(window))return"";const b=!(Object(i.a)("openUnauthType")===a.m)&&!n&&!u&&s&&f(Object(r.d)(t));return b&&j({country:e,platform:p,userAgent:g,activateLiteAppExp:m})?d.ANDROID_LITE_APP:(h||"").startsWith("ar")&&"ios"===p?"":b?d.FLAGSHIP_APP:""},_=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},fsjD:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s}));var o=n("1dBE");const{Provider:i,Consumer:r,useHook:s}=Object(o.b)("inviteContext")},hLPq:function(e,t,n){n.d(t,"a",(function(){return r}));var o=n("n6mq"),i=n("nKUr");function r({accessibilityLabel:e,bgColor:t,color:n,containerStyle:r,icon:s,onTouch:a,padding:c,svgPath:l,size:u,testId:d}){return Object(i.jsx)(o.f,{dangerouslySetInlineStyle:{__style:{...r}},"data-test-id":d,display:"inlineBlock",children:Object(i.jsx)(o.w,{accessibilityLabel:e||"",bgColor:t,dangerouslySetSvgPath:l?{__path:l}:void 0,icon:s,iconColor:n,onClick:a?({event:e})=>a(e):void 0,padding:"auto"===c?void 0:c||3,size:u||"xl"})})}},ihsa:function(e,t,n){n.d(t,"a",(function(){return r}));n("QLaP");var o=n("nKUr");class i{static factory(e){return e instanceof i?e:new i(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function r(e){const{css:t,unsafeCSS:n,...r}=e,s=String(t||"")||n||"";return!!s?Object(o.jsx)("style",{...r,dangerouslySetInnerHTML:{__html:String(i.factory(s))}}):null}},ke5A:function(e,t,n){n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return f}));var o=n("gxu6"),i=n("RNo4");const r="BING",s="GOOGLE",a="YAHOO",c="YANDEX",l="RAKUTEN",u="NAVER",d="AMP_CACHE",h="DUCKDUCKGO",p=[s,r,a,c,l,u,d,h];function g(e){const{hostname:t}=Object(i.j)(e,!0);if(t&&e){if(t.includes("google.")||function(e){return e.includes("android-app://com.google.android.googlequicksearchbox")}(e))return s;if(t.includes("bing."))return r;if(t.includes("yahoo."))return a;if(t.includes("yandex."))return c;if(t.includes("rakuten."))return l;if(t.includes("naver."))return u;if(t.includes("duckduckgo."))return h;if(t.includes(".cdn.ampproject.org"))return d}return""}function m(e){return p.includes(g(e))}function b(e){return(Object(i.j)(e).hostname||"").includes(".cdn.ampproject.org")}function f(e){return e||o.a("_pinterest_referrer")||"undefined"!=typeof document&&document.referrer||""}},"ki+g":function(e,t,n){n.d(t,"a",(function(){return l}));var o=n("/MKj"),i=n("bcHz"),r=n("yweb"),s=n("n6mq"),a=n("nKUr");const c="M11.969 17a4.983 4.983 0 0 1-2.047-.447l6.6-6.6c.281.626.447 1.316.447 2.047a5 5 0\n0 1-5 5m-5-5a5 5 0 0 1 5-5c.748 0 1.45.175 2.087.47l-6.617 6.617A4.944 4.944 0 0 1 6.969\n12m13.104-5.598l2.415-2.415a1.75 1.75 0 1 0-2.475-2.474l-3.014 3.013A12.646 12.646 0 0 0 12 3.5C6.455\n3.5 1.751 7.051 0 12a12.798 12.798 0 0 0 3.927 5.598l-2.414 2.415A1.748 1.748 0 0 0 2.75 23c.448 0 .896-.171\n1.238-.513l3.013-3.013A12.65 12.65 0 0 0 12 20.5c5.545 0 10.249-3.551 12-8.5a12.782 12.782 0 0 0-3.927-5.598\n";function l({color:e="gray",legoSettingsEnabled:t,paddingX:n=10,showPassword:l,togglePassword:u}){const d=Object(r.c)(),{isRTL:h}=Object(o.useSelector)(({session:e})=>e);return Object(a.jsx)(s.f,{left:h,right:!h,position:"absolute",paddingX:n,dangerouslySetInlineStyle:{__style:{right:t&&!h?4:void 0,top:t?"50%":12,transform:`translateY(${t?"-50%":"0"})`}},children:Object(a.jsx)(s.f,{display:"inlineBlock",children:t?Object(a.jsx)(s.w,{accessibilityLabel:l?d._("Show password","PasswordToggleEye.Label.Button.Toggle.Show.Password","Accessibility label for button that toggles showing the password"):d._("Hide password","PasswordToggleEye.Label.Button.Toggle.Hide.Password","Accessibility label for button that toggles hiding the password"),color:e,dangerouslySetSvgPath:l?{}:{__path:c},icon:l?"eye":void 0,inline:!0,size:"lg",onClick:u}):Object(a.jsx)(i.a,{onTouch:u,rounding:"circle",pressState:"none",children:l?Object(a.jsx)(s.v,{icon:"eye",color:"gray",inline:!0,accessibilityLabel:d._("Show password","Accessibility label for button that toggles showing the password","Accessibility label for button that toggles showing the password")}):Object(a.jsx)(s.v,{dangerouslySetSvgPath:{__path:c},color:"gray",inline:!0,accessibilityLabel:d._("Hide password","Accessibility label for button that toggles hiding the password","Accessibility label for button that toggles hiding the password")})})})})}},oAcf:function(e,t,n){var o=n("/MKj"),i=n("+zvl"),r=n("yweb"),s=n("EfoL"),a=n("EC67"),c=n("nKUr");t.a=function({pin:e}){const t=Object(r.c)(),n=Object(o.useSelector)(({session:e})=>e&&e.unauthSavePinId),l=Object(o.useSelector)(({pins:e})=>n&&e[n]),u=Object(a.i)();if(!e&&!n)return null;const d=u.pathname.startsWith("/signup");if(!u.pathname.startsWith("/login")&&!d)return null;if(l){const e=u.pathname.startsWith("/signup"),n={image:{url:Object(s.d)(l),height:1,width:1},pinDescription:l.description||"",dominantColor:l.dominant_color||"",bannerCopy:e?t._("Finish signing up to save this idea","mweb.unauth.save.flow.signup.banner","Sign up banner shown in signup page after user attempting to save the pin"):t._("Finish logging in to save this idea","mweb.unauth.save.flow.login.banner","Login banner shown in login page after user attempting to save the pin")};return Object(c.jsx)(i.a,{pin:n})}return e?Object(c.jsx)(i.a,{pin:e}):null}},pLLR:function(e,t,n){n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u}));var o=n("q1tI"),i=n("nKUr");const r=Object(o.createContext)(),s=r.Provider;function a(e){function t(t){const n=Object(o.useContext)(r);if(!n)throw new Error("withRequestContext must be used within a RequestContextProvider");return Object(i.jsx)(e,{...t,requestContext:n})}return t.displayName=`withRequestContext(${String(e.displayName||e.name)})`,t}const c=({children:e})=>{const t=Object(o.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},l=({children:e})=>{const t=Object(o.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function u(){const e=Object(o.useContext)(r);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},rYoy:function(e,t,n){var o=n("E8d4");t.a=o.a},vH2r:function(e,t,n){n.d(t,"a",(function(){return m}));var o=n("/MKj");const i="gmail.com",r="yahoo.com",s="hotmail.com",a="icloud.com",c={AR:[i,s,"yahoo.com.ar"],AU:[i,s,"bigpond.com"],BR:[i,s,"yahoo.com.br"],CA:[i,s,r],DE:[i,"web.de","gmx.de"],ES:[i,s,"hotmail.es"],FR:[i,"hotmail.fr","orange.fr"],GB:[i,"hotmail.co.uk","hotmail.com"],IN:[i,r,"rediffmail.com"],IT:[i,"libero.it","hotmail.it"],JP:[i,"yahoo.co.jp","ezweb.ne.jp"],MX:[i,s,"outlook.com"],US:[i,s,r],KR:[i,"naver.com","hanmail.net","nate.com","daum.net"],ID:[i,r,"yahoo.co.id","ymail.com","rocketmail.com"],PH:[i,r,"yahoo.com.ph",a,"ymail.com"],TH:[i,s,"hotmail.co.th",r,a],VN:[i,r,"yahoo.com.vn",a,s],DEFAULT:[i,s,r]};function l(e){return e&&e.toUpperCase()in c?c[e.toUpperCase()]:c.DEFAULT}var u=n("bcHz"),d=n("QtD7"),h=n("n6mq"),p=n("nKUr");const g={border:"1px solid rgb(181, 181, 181)",zIndex:1};function m({direction:e,email:t,emailFieldElement:n,handleEmailSuggestionClick:i,showUsername:r}){const s=Object(o.useSelector)(({session:e})=>e.country),a=Object(o.useDispatch)();let c=l(s);["ID","KR","TH","PH","VN"].includes(s)&&(c=((e=>a(Object(d.a)("mweb_unauth_email_suggestion_"+e.toLowerCase())))(s)||"").startsWith("enabled")?l(s):l()),"top"===e&&(c=[...c].reverse());let m=window.innerWidth-32;const b=n;b&&(m=b.getBoundingClientRect().width);let f=g;if("top"===e){const e=b?b.offsetTop-105:200;f={...g,top:e}}else{const e=b?b.offsetTop+40:248;f={...g,top:e}}return Object(p.jsx)(h.f,{color:"white",dangerouslySetInlineStyle:{__style:f},direction:"column",display:"flex",position:"absolute",top:"top"===e,width:m,children:c.map(e=>{const n=r?t.concat(e):e;return Object(p.jsx)(h.f,{children:Object(p.jsx)("div",{role:"button",onMouseDown:()=>{i(t.concat(e))},tabIndex:0,children:Object(p.jsx)(u.a,{pressState:"none",children:Object(p.jsx)(h.f,{paddingX:3,paddingY:2,children:Object(p.jsx)(h.cb,{children:n})})})})},n)})})}},y6dK:function(e,t,n){var o=n("q1tI"),i=n("vH2r"),r=n("Lr1Z"),s=n("ki+g"),a=n("AGnR"),c=n("28DW"),l=n("yweb"),u=n("n6mq"),d=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.PureComponent{constructor(...e){super(...e),h(this,"state",{emailFieldElement:null,shouldShowEmailSuggestion:!1,showPassword:!1}),h(this,"handleChangeEmail",({value:e})=>{const{handleChangeEmail:t}=this.props;if(this.state.shouldShowEmailSuggestion)this.setState({shouldShowEmailSuggestion:!1});else if(e.endsWith("@")){const e=this.emailInputRef;this.setState({shouldShowEmailSuggestion:!0,emailFieldElement:e})}t&&t({value:e})}),h(this,"handlePasswordFocus",()=>{Object(c.g)("focus_password")}),h(this,"handleEmailSuggestionClick",e=>{Object(c.a)("mweb_unauth_email_suggestions.login_page.tap"),this.setState({shouldShowEmailSuggestion:!1}),this.handleChangeEmail({value:e})}),h(this,"validateEmailOnBlur",()=>{const{validateEmailOnBlur:e}=this.props;!this.state.shouldShowEmailSuggestion&&e&&e()}),h(this,"passwordReset",e=>{Object(c.g)("click_forget_password"),this.props.handlePasswordReset&&this.props.handlePasswordReset(e)}),h(this,"handleLoginClick",()=>{Object(c.g)("press_login_continue"),this.props.onLoginClick&&this.props.onLoginClick()}),h(this,"togglePassword",()=>{const{showPassword:e}=this.state;Object(a.e)({event_type:e?107:106,view_type:9,element:129}),this.setState({showPassword:!e}),Object(c.g)("click_show_password")}),h(this,"handleSignupClick",()=>{const{onSignUpClick:e}=this.props;e&&e()})}render(){const{email:e,handleChangePassword:t,hideEmailField:n,hideLoginBtn:a,hidePasswordField:c,passwordValidationError:l,emailValidationError:h,validateEmailOnBlur:p,validatePasswordOnBlur:g,isSIWAError:m,isValid:b,onSubmit:f,password:j,shouldShowSignUpButton:w,showEmailAsText:_}=this.props,{emailFieldElement:O,shouldShowEmailSuggestion:x,showPassword:y}=this.state,k=m&&l;return Object(d.jsx)(u.f,{marginTop:3,marginBottom:3,children:Object(d.jsxs)("form",{onSubmit:f,autoCapitalize:"none",autoCorrect:"off",children:[!n&&_&&Object(d.jsx)(u.f,{marginBottom:5,children:Object(d.jsx)(u.cb,{align:"center",children:e})}),!n&&!_&&Object(d.jsxs)(o.Fragment,{children:[x?Object(d.jsx)(i.a,{direction:"down",email:e,emailFieldElement:O,handleEmailSuggestionClick:this.handleEmailSuggestionClick,showUsername:!0}):null,Object(d.jsx)(u.f,{marginTop:1,children:Object(d.jsx)(u.eb,{errorMessage:h,id:"email",onBlur:p,onChange:this.handleChangeEmail,placeholder:this.props.i18n._("Email","Prompt for user to enter in email on the mobile web login page","Prompt for user to enter in email on the mobile web login page"),ref:e=>{this.emailInputRef=e},size:"lg",type:"email",value:e})})]}),c?null:Object(d.jsxs)(u.f,{children:[Object(d.jsxs)(u.f,{marginTop:2,position:"relative",children:[Object(d.jsx)(u.eb,{autoComplete:"on",errorMessage:l,id:"password",onBlur:g,onChange:t,onFocus:this.handlePasswordFocus,placeholder:this.props.i18n._("Password","Prompt for user to enter in password on the mobile web login page","Prompt for user to enter in password on the mobile web login page"),size:"lg",type:y?"text":"password",value:j}),Object(d.jsx)(s.a,{togglePassword:this.togglePassword,showPassword:y})]}),Object(d.jsx)(u.f,{marginTop:2,"data-test-id":"reset-password",children:Object(d.jsx)(r.a,{to:"/password/reset",pressState:"background",onTouch:this.passwordReset,children:Object(d.jsx)(u.cb,{size:"sm",inline:!0,weight:"bold",children:k?this.props.i18n._("Reset your password","Heading displayed when email is entered on the password reset page","Heading displayed when email is entered on the password reset page"):this.props.i18n._("Forgot your password?","Link to the password reset page","Link to the password reset page")})})})]}),w&&Object(d.jsx)(u.f,{marginTop:3,children:Object(d.jsx)(u.g,{color:"red",type:"submit",text:this.props.i18n._("Sign up with this email","Label for sign up button","Label for sign up button"),onClick:this.handleSignupClick})}),!a&&Object(d.jsx)(u.f,{marginTop:4,children:Object(d.jsx)(u.g,{color:"red",type:"submit",text:this.props.i18n._("Log in","Label for log in button","Label for log in button"),disabled:!b||w,onClick:this.handleLoginClick},!b||w?"disabled":"enabled")})]})})}}t.a=function(e){const t=Object(l.c)();return Object(d.jsx)(p,{...e,i18n:t})}},yeqU:function(e,t,n){var o=n("Lr1Z"),i=n("yweb"),r=n("28DW"),s=n("n6mq"),a=n("nKUr");t.a=({marginTop:e=4,marginBottom:t=0})=>{const n=Object(i.c)();return Object(a.jsxs)(s.f,{display:"flex",justifyContent:"center",alignItems:"baseline",marginTop:e,marginBottom:t,children:[Object(a.jsx)(s.f,{display:"flex",marginEnd:1,justifyContent:"center",children:Object(a.jsx)(s.cb,{align:"center",inline:!0,children:n._("Are you a business?","Prompt for business signup","Prompt for business signup")})}),Object(a.jsx)(s.f,{display:"flex",justifyContent:"center","data-test-id":"create-business",children:Object(a.jsx)(o.a,{inline:!0,newTab:!0,to:"/business/create",pressState:"background",onTouch:()=>Object(r.g)("click_business_signup"),children:Object(a.jsx)(s.cb,{align:"center",weight:"bold",children:n._("Get started here!","Prompt for signing up","Prompt for signing up")})})})]})}},zmYE:function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return b}));var o=n("7w6Q"),i=n("eOdZ"),r=n("O/nw"),s=n("jUT+"),a=n("XiPH");const c=(e,t,n,o)=>({type:s.C,payload:{resource:e,options:t,response:n,normalizedResponse:o}}),l=(e,t,n)=>({type:s.G,payload:{resource:e,options:t,isFetching:n}}),u=(e,t,n,o,i,r)=>({type:s.H,payload:{resource:e,options:t,response:n,normalizedResponse:o,isRefresh:i,schema:r}}),d=(e,t,n)=>({type:s.I,payload:{resource:e,options:t,error:n}}),h=(e,{bookmark:t,options:n,schema:o})=>{const i=o||r.a[e];return"function"==typeof i?i({resource:e,options:n,bookmark:t}):i},p=(e,t,n)=>r=>{const{bookmark:c,options:g,refresh:m,schema:b}=t,f=n?n.bookmark:c,j=f?{...g,bookmarks:[f]}:g;return r(l(e,g,!0)),i.a.create(e,j).callGet().then(i=>{let l=i.resource_response.data;if("number"==typeof l||l){const[d]=((i.resource||{}).options||{}).bookmarks||[];if(Array.isArray(l)&&0===l.length&&d&&"-end-"!==d){const i=n?n.count:0,s=i>=10;if(o.a.increment("mweb.resource_empty_data_retry",1,{name:e,retry:i,maxRetryReached:s}),!s)return r(p(e,t,{count:i+1,bookmark:d}))}"ExploreArticleResource"===e&&(l.id=i.resource.options.story_id,l.objects.forEach(e=>{e.article_id=i.resource.options.story_id})),"VisualSearchFlashlightUnifiedResource"===e&&(l=l.results);const f=h(e,{bookmark:c,options:g,schema:b}),j=f?Object(a.b)(l,f):null;r(c?((e,t,n,o,i)=>({type:s.K,payload:{resource:e,options:t,response:n,normalizedResponse:o,schema:i}}))(e,g,i,j,f):u(e,g,i,j,m,f))}return Promise.resolve()},t=>{r(d(e,g,t))})},g=(e,{bookmark:t,options:n,schema:o})=>p(e,{bookmark:t,options:n,refresh:!1,schema:o}),m=(e,{options:t,schema:n})=>p(e,{options:t,refresh:!0,schema:n}),b=(e,t)=>n=>{const{options:o,schema:r}=t;return i.a.create(e,o).callCreate().then(t=>{if(t.resource_response.data){const i=t.resource_response.data,s=r?Object(a.b)(i,r):null;n(c(e,o,t,s))}return t},t=>(n(d(e,o,t)),t))}}},[["38yB","runtime","vendor-react",0,5,6,7,8,20,38,41,59,87,107,120]]]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/login-mobile-b437672a4f74e7708e31.mjs.map